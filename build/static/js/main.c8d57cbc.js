/*! For license information please see main.c8d57cbc.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,a)&&!k.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:S.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+C(l,0):i,x(s)?(a="",null!=e&&(a=e.replace(j,"$&/")+"/"),T(s,t,a,"",function(e){return e})):null!=s&&(N(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(j,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+C(o=e[c],c);l+=T(o,t,a,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,a,u=i+C(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},A={transition:null},D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,A(_);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(N),N=-1),f=!0;var i=p;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&a(c),w(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,N=-1,j=5,C=-1;function T(){return!(t.unstable_now()-C<j)}function P(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=P,S=function(){I.postMessage(null)}}else S=function(){v(P,0)};function A(e){E=e,k||(k=!0,S())}function D(e,n){N=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,A(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(N),N=-1):g=!0,D(x,i-s))):(e.sortIndex=o,n(c,e),m||f||(m=!0,A(_))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),j=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,U=Object.assign;function z(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var M=!1;function F(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case E:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,ke=null;function Ee(e){if(e=ba(e)){if("function"!==typeof _e)throw Error(i(280));var t=e.stateNode;t&&(t=xa(t),_e(e.stateNode,e.type,t))}}function Ne(e){Se?ke?ke.push(e):ke=[e]:Se=e}function je(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==Se||null!==ke)&&(Te(),je())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ae=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ae=!1}function Oe(e,t,n,r,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Ue=null,ze=!1,Me=null,Fe={onError:function(e){Le=!0,Ue=e}};function He(e,t,n,r,a,i,s,o,l){Le=!1,Ue=null,Oe.apply(Fe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return qe(a),e;if(s===r)return qe(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Je=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,Ge=a.unstable_requestPaint,Ye=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~a;0!==o?r=dt(o):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~a)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,St,kt,Et,Nt=!1,jt=[],Ct=null,Tt=null,Pt=null,Rt=new Map,It=new Map,At=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Lt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ut(e){var t=ya(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Et(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Mt(e,t,n){zt(e)&&n.delete(t)}function Ft(){Nt=!1,null!==Ct&&zt(Ct)&&(Ct=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Pt&&zt(Pt)&&(Pt=null),Rt.forEach(Mt),It.forEach(Mt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ft)))}function Bt(e){function t(t){return Ht(t,e)}if(0<jt.length){Ht(jt[0],e);for(var n=1;n<jt.length;n++){var r=jt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ht(Ct,e),null!==Tt&&Ht(Tt,e),null!==Pt&&Ht(Pt,e),Rt.forEach(t),It.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Ut(n),null===n.blockedOn&&At.shift()}var Wt=w.ReactCurrentBatchConfig,qt=!0;function Vt(e,t,n,r){var a=bt,i=Wt.transition;Wt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=a,Wt.transition=i}}function $t(e,t,n,r){var a=bt,i=Wt.transition;Wt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=a,Wt.transition=i}}function Kt(e,t,n,r){if(qt){var a=Qt(e,t,n,r);if(null===a)qr(e,t,r,Jt,n),Ot(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,a),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,a),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Rt.set(i,Lt(Rt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,It.set(i,Lt(It.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&xt(i),null===(i=Qt(e,t,n,r))&&qr(e,t,r,Jt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Jt=null;function Qt(e,t,n,r){if(Jt=null,null!==(e=ya(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Yt?Yt.value:Yt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=U({},cn,{view:0,detail:0}),hn=an(dn),pn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=an(pn),mn=an(U({},pn,{dataTransfer:0})),gn=an(U({},dn,{relatedTarget:0})),vn=an(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(U({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return kn}var Nn=U({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=an(Nn),Cn=an(U({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=an(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(Rn),An=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Un=u&&(!Dn||On&&8<On&&11>=On),zn=String.fromCharCode(32),Mn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ne(r),0<(t=$r(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Kn=null;function Jn(e){zr(e,0)}function Qn(e){if(K(wa(e)))return e}function Gn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Kn=$n=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Vn(t,Kn,e,xe(e)),Re(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ir(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var s=ur(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=$r(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},kr={};function Er(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Nr=Er("animationend"),jr=Er("animationiteration"),Cr=Er("animationstart"),Tr=Er("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Pr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Rr.length;Ar++){var Dr=Rr[Ar];Ir(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ir(Nr,"onAnimationEnd"),Ir(jr,"onAnimationIteration"),Ir(Cr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,o,l,c){if(He.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Ue;Le=!1,Ue=null,ze||(ze=!0,Me=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;Ur(a,o,c),i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;Ur(a,o,c),i=l}}}if(ze)throw e=Me,ze=!1,Me=null,e}function Mr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Hr]){e[Hr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Fr(t,!1,e),Fr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Fr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Gt(t)){case 1:var a=Vt;break;case 4:a=$t;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ya(o)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}o=o.parentNode}}r=r.return}Re(function(){var r=i,a=xe(n),s=[];e:{var o=Pr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Nr:case jr:case Cr:l=vn;break;case Tr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Ie(f,h))&&u.push(Vr(f,m,p)))),d)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,a),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ya(c)&&!c[fa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ya(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?o:wa(l),p=null==c?o:wa(c),(o=new u(m,f+"leave",l,n,a)).target=d,o.relatedTarget=p,m=null,ya(a)===r&&((u=new u(h,f+"enter",c,n,a)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Kr(p))f++;for(p=0,m=h;m;m=Kr(m))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)h=Kr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Jr(s,o,l,u,!1),null!==c&&null!==d&&Jr(s,d,c,u,!0)}if("select"===(l=(o=r?wa(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Gn;else if(qn(o))if(Yn)g=sr;else{g=ar;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Vn(s,g,n,a):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wa(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,a)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Xt="value"in(Yt=a)?Yt.value:Yt.textContent,Bn=!0)),0<(v=$r(r,b)).length&&(b=new wn(b,e,null,n,a),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Mn=!0,zn);case"textInput":return(e=t.data)===zn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Fn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=y))}zr(s,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ie(e,n))&&r.unshift(Vr(e,i,a)),null!=(i=Ie(e,t))&&r.push(Vr(e,i,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Ie(n,i))&&s.unshift(Vr(n,l,o)):a||null!=(l=Ie(n,i))&&s.push(Vr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Gr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(i(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,pa="__reactProps$"+da,fa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xa(e){return e[pa]||null}var _a=[],Sa=-1;function ka(e){return{current:e}}function Ea(e){0>Sa||(e.current=_a[Sa],_a[Sa]=null,Sa--)}function Na(e,t){Sa++,_a[Sa]=e.current,e.current=t}var ja={},Ca=ka(ja),Ta=ka(!1),Pa=ja;function Ra(e,t){var n=e.type.contextTypes;if(!n)return ja;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ia(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Aa(){Ea(Ta),Ea(Ca)}function Da(e,t,n){if(Ca.current!==ja)throw Error(i(168));Na(Ca,t),Na(Ta,n)}function Oa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,W(e)||"Unknown",a));return U({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ja,Pa=Ca.current,Na(Ca,e),Na(Ta,Ta.current),!0}function Ua(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Oa(e,t,Pa),r.__reactInternalMemoizedMergedChildContext=e,Ea(Ta),Ea(Ca),Na(Ca,e)):Ea(Ta),Na(Ta,n)}var za=null,Ma=!1,Fa=!1;function Ha(e){null===za?za=[e]:za.push(e)}function Ba(){if(!Fa&&null!==za){Fa=!0;var e=0,t=bt;try{var n=za;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}za=null,Ma=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),Ke(Ze,Ba),a}finally{bt=t,Fa=!1}}return null}var Wa=[],qa=0,Va=null,$a=0,Ka=[],Ja=0,Qa=null,Ga=1,Ya="";function Xa(e,t){Wa[qa++]=$a,Wa[qa++]=Va,Va=e,$a=t}function Za(e,t,n){Ka[Ja++]=Ga,Ka[Ja++]=Ya,Ka[Ja++]=Qa,Qa=e;var r=Ga;e=Ya;var a=32-st(r)-1;r&=~(1<<a),n+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Ga=1<<32-st(t)+a|n<<a|r,Ya=i+e}else Ga=1<<i|n<<a|r,Ya=e}function ei(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ti(e){for(;e===Va;)Va=Wa[--qa],Wa[qa]=null,$a=Wa[--qa],Wa[qa]=null;for(;e===Qa;)Qa=Ka[--Ja],Ka[Ja]=null,Ya=Ka[--Ja],Ka[Ja]=null,Ga=Ka[--Ja],Ka[Ja]=null}var ni=null,ri=null,ai=!1,ii=null;function si(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qa?{id:Ga,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&oi(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)si(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=ca(e.nextSibling)}function pi(){ri=ni=null,ai=!1}function fi(e){null===ii?ii=[e]:ii.push(e)}var mi=w.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===I&&yi(i)===t.type)?((r=a(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case _:return(t=zc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?c(e,t,n,r):null;case _:return n.key===a?u(e,t,n,r):null;case I:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||O(n))return null!==a?null:d(e,t,n,r,null);vi(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case I:return f(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,a,null);vi(t,r)}return null}function m(a,i,o,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(a,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),i=s(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(a,d),ai&&Xa(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(a,o[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ai&&Xa(a,m),c}for(d=r(a,d);m<o.length;m++)null!==(g=f(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),ai&&Xa(a,m),c}function g(a,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(a,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),ai&&Xa(a,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(a,y.value,c))&&(o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return ai&&Xa(a,g),u}for(m=r(a,m);!y.done;g++,y=l.next())null!==(y=f(m,a,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),ai&&Xa(a,g),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(i=a(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&yi(c)===u.type){n(r,u.sibling),(i=a(u,s.props)).ref=gi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((i=Oc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Dc(s.type,s.key,s.props,null,r.mode,l)).ref=gi(r,i,s),l.return=r,r=l)}return o(r);case _:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=a(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=zc(s,r.mode,l)).return=r,r=i}return o(r);case I:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(O(s))return g(r,i,s,l);vi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,s)).return=r,r=i):(n(r,i),(i=Uc(s,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var wi=bi(!0),xi=bi(!1),_i=ka(null),Si=null,ki=null,Ei=null;function Ni(){Ei=ki=Si=null}function ji(e){var t=_i.current;Ea(_i),e._currentValue=t}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){Si=e,Ei=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===Si)throw Error(i(308));ki=e,Si.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Ri=null;function Ii(e){null===Ri?Ri=[e]:Ri.push(e)}function Ai(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ii(t)):(n.next=a.next,a.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ui(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Di(e,n)}return null===(a=r.interleaved)?(t.next=t,Ii(r)):(t.next=a.next,a.next=t),r.interleaved=t,Di(e,n)}function Fi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Hi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var a=e.updateQueue;Oi=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,u=c=l=null,o=i;;){var h=o.lane,p=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=U({},d,h);break e;case 2:Oi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=d}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var qi={},Vi=ka(qi),$i=ka(qi),Ki=ka(qi);function Ji(e){if(e===qi)throw Error(i(174));return e}function Qi(e,t){switch(Na(Ki,t),Na($i,e),Na(Vi,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ea(Vi),Na(Vi,t)}function Gi(){Ea(Vi),Ea($i),Ea(Ki)}function Yi(e){Ji(Ki.current);var t=Ji(Vi.current),n=le(t,e.type);t!==n&&(Na($i,e),Na(Vi,n))}function Xi(e){$i.current===e&&(Ea(Vi),Ea($i))}var Zi=ka(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=w.ReactCurrentDispatcher,as=w.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,cs=!1,us=!1,ds=0,hs=0;function ps(){throw Error(i(321))}function fs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,a,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Xs:Zs,e=n(r,a),us){s=0;do{if(us=!1,ds=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,rs.current=eo,e=n(r,a)}while(us)}if(rs.current=Ys,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,cs=!1,t)throw Error(i(300));return e}function gs(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ys(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function bs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=ys(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=os,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((is&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ss.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ss.lanes|=s,Ll|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=ys(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);or(s,t.memoizedState)||(bo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function _s(){}function Ss(e,t){var n=ss,r=ys(),a=t(),s=!or(r.memoizedState,a);if(s&&(r.memoizedState=a,bo=!0),r=r.queue,Os(Ns.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ps(9,Es.bind(null,n,r,a,t),void 0,null),null===Tl)throw Error(i(349));0!==(30&is)||ks(n,t,a)}return a}function ks(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,r){t.value=n,t.getSnapshot=r,js(t)&&Cs(e)}function Ns(e,t,n){return n(function(){js(t)&&Cs(e)})}function js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Cs(e){var t=Di(e,1);null!==t&&nc(t,e,1,-1)}function Ts(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,ss,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rs(){return ys().memoizedState}function Is(e,t,n,r){var a=vs();ss.flags|=e,a.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function As(e,t,n,r){var a=ys();r=void 0===r?null:r;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==r&&fs(r,s.deps))return void(a.memoizedState=Ps(t,n,i,r))}ss.flags|=e,a.memoizedState=Ps(1|t,n,i,r)}function Ds(e,t){return Is(8390656,8,e,t)}function Os(e,t){return As(2048,8,e,t)}function Ls(e,t){return As(4,2,e,t)}function Us(e,t){return As(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ms(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,As(4,4,zs.bind(null,t,e),n)}function Fs(){}function Hs(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bs(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&is)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ss.lanes|=n,Ll|=n,e.baseState=!0),t)}function qs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{bt=n,as.transition=r}}function Vs(){return ys().memoizedState}function $s(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Js(e))Qs(t,n);else if(null!==(n=Ai(e,t,n,r))){nc(n,e,r,ec()),Gs(n,t,r)}}function Ks(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Js(e))Qs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(a.next=a,Ii(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ai(e,t,a,r))&&(nc(n,e,r,a=ec()),Gs(n,t,r))}}function Js(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Qs(e,t){us=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ys={readContext:Pi,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Xs={readContext:Pi,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Ds,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Is(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$s.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ts,useDebugValue:Fs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ts(!1),t=e[0];return e=qs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,a=vs();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));0!==(30&is)||ks(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Ds(Ns.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,Es.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Tl.identifierPrefix;if(ai){var n=Ya;t=":"+t+"R"+(n=(Ga&~(1<<32-st(Ga)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zs={readContext:Pi,useCallback:Hs,useContext:Pi,useEffect:Os,useImperativeHandle:Ms,useInsertionEffect:Ls,useLayoutEffect:Us,useMemo:Bs,useReducer:ws,useRef:Rs,useState:function(){return ws(bs)},useDebugValue:Fs,useDeferredValue:function(e){return Ws(ys(),os.memoizedState,e)},useTransition:function(){return[ws(bs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:Ss,useId:Vs,unstable_isNewReconciler:!1},eo={readContext:Pi,useCallback:Hs,useContext:Pi,useEffect:Os,useImperativeHandle:Ms,useInsertionEffect:Ls,useLayoutEffect:Us,useMemo:Bs,useReducer:xs,useRef:Rs,useState:function(){return xs(bs)},useDebugValue:Fs,useDeferredValue:function(e){var t=ys();return null===os?t.memoizedState=e:Ws(t,os.memoizedState,e)},useTransition:function(){return[xs(bs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:Ss,useId:Vs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=zi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Mi(e,i,a))&&(nc(t,e,a,r),Fi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=zi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Mi(e,i,a))&&(nc(t,e,a,r),Fi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=zi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Mi(e,a,r))&&(nc(t,e,r,n),Fi(t,e,r))}};function ao(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function io(e,t,n){var r=!1,a=ja,i=t.contextType;return"object"===typeof i&&null!==i?i=Pi(i):(a=Ia(t)?Pa:Ca.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ra(e,a):ja),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Pi(i):(i=Ia(t)?Pa:Ca.current,a.context=Ra(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Bi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Vl=r),uo(0,t)},n}function fo(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Mi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?xi(t,null,n,r):wi(t,e.child,n,r)}function xo(e,t,n,r,a){n=n.render;var i=t.ref;return Ti(t,a),r=ms(e,t,n,r,i,a),n=gs(),null===e||bo?(ai&&n&&ei(t),t.flags|=1,wo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qo(e,t,a))}function _o(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Ic(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,So(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return qo(e,t,a)}return t.flags|=1,(e=Ac(i,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,qo(e,t,a);0!==(131072&e.flags)&&(bo=!0)}}return No(e,t,n,r,a)}function ko(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Al,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Al,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Na(Al,Il),Il|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Na(Al,Il),Il|=r;return wo(e,t,a,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,a){var i=Ia(n)?Pa:Ca.current;return i=Ra(t,i),Ti(t,a),n=ms(e,t,n,r,i,a),r=gs(),null===e||bo?(ai&&r&&ei(t),t.flags|=1,wo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qo(e,t,a))}function jo(e,t,n,r,a){if(Ia(n)){var i=!0;La(t)}else i=!1;if(Ti(t,a),null===t.stateNode)Wo(e,t),io(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Pi(c):c=Ra(t,c=Ia(n)?Pa:Ca.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&so(t,s,r,c),Oi=!1;var h=t.memoizedState;s.state=h,Bi(t,r,s,a),l=t.memoizedState,o!==r||h!==l||Ta.current||Oi?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Oi||ao(t,n,o,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ui(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Pi(l):l=Ra(t,l=Ia(n)?Pa:Ca.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&so(t,s,r,l),Oi=!1,h=t.memoizedState,s.state=h,Bi(t,r,s,a);var f=t.memoizedState;o!==d||h!==f||Ta.current||Oi?("function"===typeof p&&(no(t,n,p,r),f=t.memoizedState),(c=Oi||ao(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,i,a)}function Co(e,t,n,r,a,i){Eo(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&Ua(t,n,!1),qo(e,t,i);r=t.stateNode,yo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,o,i)):wo(e,t,o,i),t.memoizedState=r.state,a&&Ua(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),Qi(e,t.containerInfo)}function Po(e,t,n,r,a){return pi(),fi(a),t.flags|=256,wo(e,t,n,r),t.child}var Ro,Io,Ao,Do,Oo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uo(e,t,n){var r,a=t.pendingProps,s=Zi.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Na(Zi,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,a,0,null),e=Oc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Oo,e):zo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,o){if(n)return 256&t.flags?(t.flags&=-257,Mo(e,t,o,r=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(s=Oc(s,a,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Oo,s);if(0===(1&t.mode))return Mo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Mo(e,t,o,r=co(s=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Tl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Di(e,a),nc(r,e,a,-1))}return mc(),Mo(e,t,o,r=co(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ka[Ja++]=Ga,Ka[Ja++]=Ya,Ka[Ja++]=Qa,Ga=e.id,Ya=e.overflow,Qa=t),t=zo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(o){o=a.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ac(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Ac(r,o):(o=Oc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,a}return e=(o=e.child).sibling,a=Ac(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mo(e,t,n,r){return null!==r&&fi(r),wi(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function Ho(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Bo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fo(e,n,t);else if(19===e.tag)Fo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ho(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===es(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ho(t,!0,n,null,i);break;case"together":Ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $o(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $o(t),null;case 1:case 17:return Ia(t.type)&&Aa(),$o(t),null;case 3:return r=t.stateNode,Gi(),Ea(Ta),Ea(Ca),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sc(ii),ii=null))),Io(e,t),$o(t),null;case 5:Xi(t);var a=Ji(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Ao(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return $o(t),null}if(e=Ji(Vi.current),di(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ha]=t,r[pa]=s,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(a=0;a<Or.length;a++)Mr(Or[a],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":G(r,s),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mr("invalid",r);break;case"textarea":ae(r,s),Mr("invalid",r)}for(var l in ye(n,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mr("scroll",r)}switch(n){case"input":$(r),Z(r,s,!0);break;case"textarea":$(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[pa]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),a=r;break;case"iframe":case"object":case"embed":Mr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Or.length;a++)Mr(Or[a],e);a=r;break;case"source":Mr("error",e),a=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),a=r;break;case"details":Mr("toggle",e),a=r;break;case"input":G(e,r),a=Q(e,r),Mr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=U({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Mr("invalid",e)}for(s in ye(n,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Mr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $o(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ji(Ki.current),Ji(Vi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(s=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return $o(t),null;case 13:if(Ea(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),pi(),t.flags|=98560,s=!1;else if(s=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[ha]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$o(t),s=!1}else null!==ii&&(sc(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),$o(t),null);case 4:return Gi(),Io(e,t),null===e&&Br(t.stateNode.containerInfo),$o(t),null;case 10:return ji(t.type._context),$o(t),null;case 19:if(Ea(Zi),null===(s=t.memoizedState))return $o(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Vo(s,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Vo(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Bl&&(t.flags|=128,r=!0,Vo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ai)return $o(t),null}else 2*Ye()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Vo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=Zi.current,Na(Zi,r?1&n|2:1&n),t):($o(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&($o(t),6&t.subtreeFlags&&(t.flags|=8192)):$o(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Jo(e,t){switch(ti(t),t.tag){case 1:return Ia(t.type)&&Aa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gi(),Ea(Ta),Ea(Ca),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(Ea(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ea(Zi),null;case 4:return Gi(),null;case 10:return ji(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Io=function(){},Ao=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ji(Vi.current);var i,s=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),s=[];break;case"select":a=U({},a,{value:void 0}),r=U({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Mr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Do=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,Go=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,n,i)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[pa],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Go||Zo(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Bt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Go&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Go&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Go=(r=Go)||null!==n.memoizedState,hl(e,t,n),Go=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(s,o,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){kc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(a,s),be(l,o);var u=be(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,u)}switch(l){case"input":X(a,s);break;case"textarea":ie(a,s);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(a,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[pa]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Hl=Ye())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Go=(u=Go)||d,ml(t,e),Go=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(f=(p=Xo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zo(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Zo(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Xo=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(i(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var a=Xo,i=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Qo;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Go;o=Qo;var c=Go;if(Qo=s,(Go=l)&&!c)for(Xo=a;null!==Xo;)l=(s=Xo).child,22===s.tag&&null!==s.memoizedState?_l(a):null!==l?(l.return=s,Xo=l):_l(a);for(;null!==i;)Xo=i,bl(i,t,n),i=i.sibling;Xo=a,Qo=o,Go=c}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Xo=i):wl(e)}}function wl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Go||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Go)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wi(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(i(163))}Go||512&t.flags&&al(t)}catch(p){kc(t,t.return,p)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function xl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function _l(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){kc(t,a,l)}}var i=t.return;try{al(t)}catch(l){kc(t,i,l)}break;case 5:var s=t.return;try{al(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var Sl,kl=Math.ceil,El=w.ReactCurrentDispatcher,Nl=w.ReactCurrentOwner,jl=w.ReactCurrentBatchConfig,Cl=0,Tl=null,Pl=null,Rl=0,Il=0,Al=ka(0),Dl=0,Ol=null,Ll=0,Ul=0,zl=0,Ml=null,Fl=null,Hl=0,Bl=1/0,Wl=null,ql=!1,Vl=null,$l=null,Kl=!1,Jl=null,Ql=0,Gl=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Rl?Rl&-Rl:null!==mi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nc(e,t,n,r){if(50<Gl)throw Gl=0,Yl=null,Error(i(185));vt(e,n,r),0!==(2&Cl)&&e===Tl||(e===Tl&&(0===(2&Cl)&&(Ul|=n),4===Dl&&oc(e,Rl)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Bl=Ye()+500,Ma&&Ba()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=pt(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ht(e,e===Tl?Rl:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Ma=!0,Ha(e)}(lc.bind(null,e)):Ha(lc.bind(null,e)),sa(function(){0===(6&Cl)&&Ba()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xl=-1,Zl=0,0!==(6&Cl))throw Error(i(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Cl;Cl|=2;var s=fc();for(Tl===e&&Rl===t||(Wl=null,Bl=Ye()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Ni(),El.current=s,Cl=a,null!==Pl?t=0:(Tl=null,Rl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=ic(e,a))),1===t)throw n=Ol,hc(e,0),oc(e,r),rc(e,Ye()),n;if(6===t)oc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!or(i(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=ic(e,s))),1===t))throw n=Ol,hc(e,0),oc(e,r),rc(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,Fl,Wl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Hl+500-Ye())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xc.bind(null,e,Fl,Wl),t);break}xc(e,Fl,Wl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ra(xc.bind(null,e,Fl,Wl),r);break}xc(e,Fl,Wl);break;default:throw Error(i(329))}}}return rc(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function ic(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fl,Fl=n,null!==t&&sc(t)),e}function sc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function oc(e,t){for(t&=~zl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(i(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ol,hc(e,0),oc(e,t),rc(e,Ye()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Fl,Wl),rc(e,Ye()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Bl=Ye()+500,Ma&&Ba())}}function uc(e){null!==Jl&&0===Jl.tag&&0===(6&Cl)&&_c();var t=Cl;Cl|=1;var n=jl.transition,r=bt;try{if(jl.transition=null,bt=1,e)return e()}finally{bt=r,jl.transition=n,0===(6&(Cl=t))&&Ba()}}function dc(){Il=Al.current,Ea(Al)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Aa();break;case 3:Gi(),Ea(Ta),Ea(Ca),ns();break;case 5:Xi(r);break;case 4:Gi();break;case 13:case 19:Ea(Zi);break;case 10:ji(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,Pl=e=Ac(e.current,null),Rl=Il=t,Dl=0,Ol=null,zl=Ul=Ll=0,Fl=Ml=null,null!==Ri){for(t=0;t<Ri.length;t++)if(null!==(r=(n=Ri[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=a,r.next=s}n.pending=r}Ri=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(Ni(),rs.current=Ys,cs){for(var r=ss.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}cs=!1}if(is=0,ls=os=ss=null,us=!1,ds=0,Nl.current=null,null===n||null===n.return){Dl=1,Ol=t,Pl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=go(o);if(null!==f){f.flags&=-257,vo(f,o,l,0,t),1&f.mode&&mo(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(s,u,t),mc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),fi(lo(c,l));break e}}s=c=lo(c,l),4!==Dl&&(Dl=2),null===Ml?Ml=[s]:Ml.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Hi(s,po(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===$l||!$l.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Hi(s,fo(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function fc(){var e=El.current;return El.current=Ys,null===e?Ys:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Tl||0===(268435455&Ll)&&0===(268435455&Ul)||oc(Tl,Rl)}function gc(e,t){var n=Cl;Cl|=2;var r=fc();for(Tl===e&&Rl===t||(Wl=null,hc(e,t));;)try{vc();break}catch(a){pc(e,a)}if(Ni(),Cl=n,El.current=r,null!==Pl)throw Error(i(261));return Tl=null,Rl=0,Dl}function vc(){for(;null!==Pl;)bc(Pl)}function yc(){for(;null!==Pl&&!Qe();)bc(Pl)}function bc(e){var t=Sl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,Nl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Il)))return void(Pl=n)}else{if(null!==(n=Jo(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Dl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,n){var r=bt,a=jl.transition;try{jl.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Jl);if(0!==(6&Cl))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,s),e===Tl&&(Pl=Tl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Tc(tt,function(){return _c(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=jl.transition,jl.transition=null;var o=bt;bt=1;var l=Cl;Cl|=4,Nl.current=null,function(e,t){if(ea=qt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===a&&(l=o),p===s&&++d===r&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(x){kc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ta),qt=!!ea,ta=ea=null,e.current=n,yl(n,e,a),Ge(),Cl=l,bt=o,jl.transition=s}else e.current=n;if(Kl&&(Kl=!1,Jl=e,Ql=a),s=e.pendingLanes,0===s&&($l=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ql)throw ql=!1,e=Vl,Vl=null,e;0!==(1&Ql)&&0!==e.tag&&_c(),s=e.pendingLanes,0!==(1&s)?e===Yl?Gl++:(Gl=0,Yl=e):Gl=0,Ba()}(e,t,n,r)}finally{jl.transition=a,bt=r}return null}function _c(){if(null!==Jl){var e=wt(Ql),t=jl.transition,n=bt;try{if(jl.transition=null,bt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Ql=0,0!==(6&Cl))throw Error(i(331));var a=Cl;for(Cl|=4,Xo=e.current;null!==Xo;){var s=Xo,o=s.child;if(0!==(16&Xo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var p=(d=Xo).sibling,f=d.return;if(il(d),d===u){Xo=null;break}if(null!==p){p.return=f,Xo=p;break}Xo=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(s=Xo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Xo=y;break e}Xo=s.return}}var b=e.current;for(Xo=b;null!==Xo;){var w=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Xo=w;else e:for(o=b;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){kc(l,l.return,_)}if(l===o){Xo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Xo=x;break e}Xo=l.return}}if(Cl=a,Ba(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(_){}r=!0}return r}finally{bt=n,jl.transition=t}}return!1}function Sc(e,t,n){e=Mi(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=Mi(t,e=fo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Rl&n)===n&&(4===Dl||3===Dl&&(130023424&Rl)===Rl&&500>Ye()-Hl?hc(e,0):zl|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Di(e,t))&&(vt(e,t,n),rc(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Nc(e,n)}function Tc(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,a,s){var o=2;if(r=e,"function"===typeof e)Ic(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Oc(n.children,a,s,t);case k:o=8,a|=8;break;case E:return(e=Rc(12,n,t,2|a)).elementType=E,e.lanes=s,e;case T:return(e=Rc(13,n,t,a)).elementType=T,e.lanes=s,e;case P:return(e=Rc(19,n,t,a)).elementType=P,e.lanes=s,e;case A:return Lc(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case j:o=9;break e;case C:o=11;break e;case R:o=14;break e;case I:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Oc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,a,i,s,o,l){return e=new Mc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Rc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function Hc(e){if(!e)return ja;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ia(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ia(n))return Oa(e,n,t)}return t}function Bc(e,t,n,r,a,i,s,o,l){return(e=Fc(n,r,!0,e,0,i,0,o,l)).context=Hc(null),n=e.current,(i=zi(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Mi(n,i,a),e.current.lanes=a,vt(e,a,r),rc(e,r),e}function Wc(e,t,n,r){var a=t.current,i=ec(),s=tc(a);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mi(a,t,s))&&(nc(e,a,s,i),Fi(e,a,s)),s}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:To(t),pi();break;case 5:Yi(t);break;case 1:Ia(t.type)&&La(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(_i,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(Na(Zi,1&Zi.current),null!==(e=qo(e,t,n))?e.sibling:null);Na(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return qo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ai&&0!==(1048576&t.flags)&&Za(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var a=Ra(t,Ca.current);Ti(t,n),a=ms(null,t,r,e,a,n);var s=gs();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ia(r)?(s=!0,La(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Li(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=Co(null,t,r,!0,s,n)):(t.tag=0,ai&&s&&ei(t),wo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=to(r,e),a){case 0:t=No(null,t,r,e,n);break e;case 1:t=jo(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,to(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,No(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,jo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(To(t),null===e)throw Error(i(387));r=t.pendingProps,a=(s=t.memoizedState).element,Ui(e,t),Bi(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Po(e,t,r,n,a=lo(Error(i(423)),t));break e}if(r!==a){t=Po(e,t,r,n,a=lo(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===a){t=qo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Yi(t),null===e&&ci(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==s&&na(r,s)&&(t.flags|=32),Eo(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Uo(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Na(_i,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===a.children&&!Ta.current){t=qo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=zi(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ci(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ci(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}wo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ti(t,n),r=r(a=Pi(a)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),_o(e,t,r,a=to(r.type,a),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Wo(e,t),t.tag=1,Ia(r)?(e=!0,La(t)):e=!1,Ti(t,n),io(t,r,a),oo(t,r,a,n),Co(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return ko(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=qc(s);o.call(e)}}Wc(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=qc(s);i.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[fa]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[fa]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){Wc(t,l,n,r)}),l}(n,t,e,a,r);return qc(s)}Qc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Qc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Wc(null,e,null,null)}),t[fa]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Ut(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&Cl)&&(Bl=Ye()+500,Ba()))}break;case 13:uc(function(){var t=Di(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),$c(e,1)}},_t=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)nc(t,e,134217728,ec());$c(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Di(e,t);if(null!==n)nc(n,e,t,ec());$c(e,t)}},kt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(i(90));K(r),X(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[ba,wa,xa,Ne,je,cc]},tu={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(i(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,a),e[fa]=t.current,Br(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,a,0,s,o),e[fa]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Qc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[fa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=n(43),c=n(391);function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const d=["sri"],h=["page"],p=["page","matches"],f=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function y(){return E(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return _("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:S(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return o(o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function S(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function E(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,l="POP",c=null,u=d();function d(){return(s.state||{idx:null}).idx}function h(){l="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:l,location:f.location,delta:t})}function p(e){return N(e)}null==u&&(u=0,s.replaceState(o(o({},s.state),{},{idx:u}),""));let f={get action(){return l},get location(){return e(a,s)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(v,h),c=e,()=>{a.removeEventListener(v,h),c=null}},createHref:e=>t(a,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=_(f.location,e,t);n&&n(r,e),u=d()+1;let o=x(r,u),h=f.createHref(r);try{s.pushState(o,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(h)}i&&c&&c({action:l,location:f.location,delta:1})},replace:function(e,t){l="REPLACE";let r=_(f.location,e,t);n&&n(r,e),u=d();let a=x(r,u),o=f.createHref(r);s.replaceState(a,"",o),i&&c&&c({action:l,location:f.location,delta:0})},go:e=>s.go(e)};return f}function N(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:S(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function j(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,n,r){let a=W(("string"===typeof t?k(t):t).pathname||"/",n);if(null==a)return null;let i=T(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=B(a);s=M(i[o],e,r)}return s}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=function(e,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;b(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=J([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),T(e.children,t,u,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:z(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of P(e.path))i(e,t,!0,r);else i(e,t)}),t}function P(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=P(r.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),a&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var R=/^:[\w-]+$/,I=3,A=2,D=1,O=10,L=-2,U=e=>"*"===e;function z(e,t){let n=e.split("/"),r=n.length;return n.some(U)&&(r+=L),t&&(r+=A),n.filter(e=>!U(e)).reduce((e,t)=>e+(R.test(t)?I:""===t?D:O),r)}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),s.push({params:a,pathname:J([i,u.pathname]),pathnameBase:Q(J([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=J([i,u.pathnameBase]))}return s}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=H(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:s,pattern:e}}function H(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function B(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return w(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function W(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function q(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function V(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function $(e){let t=V(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=k(e):(r=o({},e),b(!r.pathname||!r.pathname.includes("?"),q("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),q("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),q("#","search","hash",r)));let i,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)i=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?k(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:G(r),hash:Y(a)}}(r,i),u=l&&"/"!==l&&l.endsWith("/"),d=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var J=e=>e.join("/").replace(/\/\/+/g,"/"),Q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=l.createContext(null);te.displayName="DataRouter";var ne=l.createContext(null);ne.displayName="DataRouterState";var re=l.createContext(!1);var ae=l.createContext({isTransitioning:!1});ae.displayName="ViewTransition";var ie=l.createContext(new Map);ie.displayName="Fetchers";var se=l.createContext(null);se.displayName="Await";var oe=l.createContext(null);oe.displayName="Navigation";var le=l.createContext(null);le.displayName="Location";var ce=l.createContext({outlet:null,matches:[],isDataRoute:!1});ce.displayName="Route";var ue=l.createContext(null);ue.displayName="RouteError";function de(){return null!=l.useContext(le)}function he(){return b(de(),"useLocation() may be used only in the context of a <Router> component."),l.useContext(le).location}var pe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fe(e){l.useContext(oe).static||l.useLayoutEffect(e)}function me(){let{isDataRoute:e}=l.useContext(ce);return e?function(){let{router:e}=Ee("useNavigate"),t=je("useNavigate"),n=l.useRef(!1);fe(()=>{n.current=!0});let r=l.useCallback(async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(n.current,pe),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,o({fromRouteId:t},a)))},[e,t]);return r}():function(){b(de(),"useNavigate() may be used only in the context of a <Router> component.");let e=l.useContext(te),{basename:t,navigator:n}=l.useContext(oe),{matches:r}=l.useContext(ce),{pathname:a}=he(),i=JSON.stringify($(r)),s=l.useRef(!1);fe(()=>{s.current=!0});let o=l.useCallback(function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(s.current,pe),!s.current)return;if("number"===typeof r)return void n.go(r);let l=K(r,JSON.parse(i),a,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:J([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)},[t,n,i,a,e]);return o}()}l.createContext(null);function ge(){let{matches:e}=l.useContext(ce),t=e[e.length-1];return t?t.params:{}}function ve(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=l.useContext(ce),{pathname:r}=he(),a=JSON.stringify($(n));return l.useMemo(()=>K(e,JSON.parse(a),r,"path"===t),[e,a,r,t])}function ye(e,t,n,r,a){b(de(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=l.useContext(oe),{matches:s}=l.useContext(ce),c=s[s.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",p=c&&c.route;{let e=p&&p.path||"";Pe(d,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=he();if(t){var g;let e="string"===typeof t?k(t):t;b("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=j(e,{pathname:y});w(p||null!=x,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),w(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=Se(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:J([h,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:J([h,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,n,r,a);return t&&_?l.createElement(le.Provider,{value:{location:o({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},_):_}function be(){let e=Ce(),t=X(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=l.createElement(l.Fragment,null,l.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),l.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",l.createElement("code",{style:i},"ErrorBoundary")," or"," ",l.createElement("code",{style:i},"errorElement")," prop on your route.")),l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),n?l.createElement("pre",{style:a},n):null,s)}var we=l.createElement(be,null),xe=class extends l.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?l.createElement(ce.Provider,{value:this.props.routeContext},l.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _e(e){let{routeContext:t,match:n,children:r}=e,a=l.useContext(te);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),l.createElement(ce.Provider,{value:t},r)}function Se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,o=-1;if(n)for(let l=0;l<a.length;l++){let e=a[l];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=l),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){s=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}return a.reduceRight((e,c,u)=>{let d,h=!1,p=null,f=null;n&&(d=i&&c.route.id?i[c.route.id]:void 0,p=c.route.errorElement||we,s&&(o<0&&0===u?(Pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):o===u&&(h=!0,f=c.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,u+1)),g=()=>{let t;return t=d?p:h?f:c.route.Component?l.createElement(c.route.Component,null):c.route.element?c.route.element:e,l.createElement(_e,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?l.createElement(xe,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:r}):g()},null)}function ke(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ee(e){let t=l.useContext(te);return b(t,ke(e)),t}function Ne(e){let t=l.useContext(ne);return b(t,ke(e)),t}function je(e){let t=function(e){let t=l.useContext(ce);return b(t,ke(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ce(){var e;let t=l.useContext(ue),n=Ne("useRouteError"),r=je("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var Te={};function Pe(e,t,n){t||Te[e]||(Te[e]=!0,w(!1,n))}var Re={};function Ie(e,t){e||Re[t]||(Re[t]=!0,console.warn(t))}l.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:a}=e;return ye(t,void 0,r,a,n)});function Ae(e){let{to:t,replace:n,state:r,relative:a}=e;b(de(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=l.useContext(oe);w(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=l.useContext(ce),{pathname:o}=he(),c=me(),u=K(t,$(s),o,"path"===a),d=JSON.stringify(u);return l.useEffect(()=>{c(JSON.parse(d),{replace:n,state:r,relative:a})},[c,d,a,n,r]),null}function De(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oe(e){let{basename:t="/",children:n=null,location:r,navigationType:a="POP",navigator:i,static:s=!1}=e;b(!de(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=l.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);"string"===typeof r&&(r=k(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=r,m=l.useMemo(()=>{let e=W(u,o);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:f},navigationType:a}},[o,u,d,h,p,f,a]);return w(null!=m,'<Router basename="'.concat(o,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:l.createElement(oe.Provider,{value:c},l.createElement(le.Provider,{children:n,value:m}))}function Le(e){let{children:t,location:n}=e;return ye(Ue(t),n)}l.Component;function Ue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return l.Children.forEach(e,(e,r)=>{if(!l.isValidElement(e))return;let a=[...t,r];if(e.type===l.Fragment)return void n.push.apply(n,Ue(e.props.children,a));b(e.type===De,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ue(e.props.children,a)),n.push(i)}),n}var ze="get",Me="application/x-www-form-urlencoded";function Fe(e){return null!=e&&"string"===typeof e.tagName}var He=null;var Be=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function We(e){return null==e||Be.has(e)?e:(w(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Me,'"')),null)}function qe(e,t){let n,r,a,i,s;if(Fe(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?W(s,t):null,n=e.getAttribute("method")||ze,a=We(e.getAttribute("enctype"))||Me,i=new FormData(e)}else if(function(e){return Fe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Fe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?W(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||ze,a=We(e.getAttribute("formenctype"))||We(s.getAttribute("enctype"))||Me,i=new FormData(s,e),!function(){if(null===He)try{new FormData(document.createElement("form"),0),He=!1}catch(e){He=!0}return He}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(Fe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ze,r=null,a=Me,s=e}var o;return i&&"text/plain"===a&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ve(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function $e(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===W(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ke(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Je(e){return null!=e&&"string"===typeof e.page}function Qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ge(e,t,n,r,a,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ye(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function Xe(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!Je(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(i)||(n.add(i),e.push({key:i,link:a})),e},[])}function Ze(e,t){return"lazy"===e.mode&&!0===t}function et(){let e=l.useContext(te);return Ve(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tt(){let e=l.useContext(ne);return Ve(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nt=l.createContext(void 0);function rt(){let e=l.useContext(nt);return Ve(e,"You must render this element inside a <HydratedRouter> element"),e}function at(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function it(e,t,n){if(n&&!ct)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}nt.displayName="FrameworkContext";function st(e){let{page:t}=e,n=u(e,h),{router:r}=et(),a=l.useMemo(()=>j(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?l.createElement(lt,o({page:t,matches:a},n)):null}function ot(e){let{manifest:t,routeModules:n}=rt(),[r,a]=l.useState([]);return l.useEffect(()=>{let r=!1;return async function(e,t,n){return Xe((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ke(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Qe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?o(o({},e),{},{rel:"prefetch",as:"style"}):o(o({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||a(e)}),()=>{r=!0}},[e,t,n]),r}function lt(e){let{page:t,matches:n}=e,r=u(e,p),a=he(),{manifest:i,routeModules:s}=rt(),{basename:c}=et(),{loaderData:d,matches:h}=tt(),f=l.useMemo(()=>Ge(t,n,h,i,a,"data"),[t,n,h,i,a]),m=l.useMemo(()=>Ge(t,n,h,i,a,"assets"),[t,n,h,i,a]),g=l.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let a=i.routes[t.route.id];a&&a.hasLoader&&(!f.some(e=>e.route.id===t.route.id)&&t.route.id in d&&null!==(n=s[t.route.id])&&void 0!==n&&n.shouldRevalidate||a.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let o=$e(t,c,"data");return r&&e.size>0&&o.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[o.pathname+o.search]},[c,d,a,i,f,n,t,s]),v=l.useMemo(()=>Ye(m,i),[m,i]),y=ot(m);return l.createElement(l.Fragment,null,g.map(e=>l.createElement("link",o({key:e,rel:"prefetch",as:"fetch",href:e},r))),v.map(e=>l.createElement("link",o({key:e,rel:"modulepreload",href:e},r))),y.map(e=>{let{key:t,link:n}=e;return l.createElement("link",o({key:t,nonce:r.nonce},n))}))}var ct=!1;function ut(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:a,routeDiscovery:i,ssr:s}=rt(),{router:c,static:h,staticContext:p}=et(),{matches:f}=tt(),m=l.useContext(re),g=Ze(i,s);a&&(a.didRenderScripts=!0);let v=it(f,null,r);l.useEffect(()=>{ct=!0},[]);let y=l.useMemo(()=>{var r;if(m)return null;let a=p?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=h?"".concat(null!==(r=t.hmr)&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),a=t.routes[e.route.id];Ve(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=u(e,d),a=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(i.pop();i.length>0;)s.push("/".concat(i.join("/"))),i.pop();s.forEach(e=>{let n=j(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let l=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return o(o({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return l.createElement(l.Fragment,null,l.createElement("script",o(o({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:void 0})),l.createElement("script",o(o({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:"module",async:!0})))},[]),b=ct||m?[]:(w=t.entry.imports.concat(Ye(v,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let x="object"===typeof t.sri?t.sri:{};return Ie(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ct||m?null:l.createElement(l.Fragment,null,"object"===typeof t.sri?l.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:l.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),l.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>l.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0})),y)}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}l.Component;function ht(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,a=l.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(t))return l.createElement(pt,{title:"Unhandled Thrown Response!"},l.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return l.createElement(pt,{title:"Application Error!",isOutsideRemixApp:n},l.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),l.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),a)}function pt(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:a,children:i}=e,{routeModules:s}=rt();return null!==(t=s.root)&&void 0!==t&&t.Layout&&!a?i:l.createElement("html",{lang:"en"},l.createElement("head",null,l.createElement("meta",{charSet:"utf-8"}),l.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),l.createElement("title",null,n)),l.createElement("body",null,l.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?l.createElement(ut,null):null)))}var ft="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ft&&(window.__reactRouterVersion="7.9.2")}catch(ba){}function mt(e){let{basename:t,children:n,window:r}=e,a=l.useRef();null==a.current&&(a.current=y({window:r,v5Compat:!0}));let i=a.current,[s,o]=l.useState({action:i.action,location:i.location}),c=l.useCallback(e=>{l.startTransition(()=>o(e))},[o]);return l.useLayoutEffect(()=>i.listen(c),[i,c]),l.createElement(Oe,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:i})}var gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=l.forwardRef(function(e,t){let n,{onClick:r,discover:a="render",prefetch:i="none",relative:s,reloadDocument:c,replace:d,state:h,target:p,to:m,preventScrollReset:g,viewTransition:v}=e,y=u(e,f),{basename:x}=l.useContext(oe),_="string"===typeof m&&gt.test(m),k=!1;if("string"===typeof m&&_&&(n=m,ft))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=W(t.pathname,x);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:k=!0}catch(ba){w(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(de(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=l.useContext(oe),{hash:a,pathname:i,search:s}=ve(e,{relative:t}),o=i;return"/"!==n&&(o="/"===i?n:J([n,i])),r.createHref({pathname:o,search:s,hash:a})}(m,{relative:s}),[N,j,C]=function(e,t){let n=l.useContext(nt),[r,a]=l.useState(!1),[i,s]=l.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=l.useRef(null);l.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),l.useEffect(()=>{if(r){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[r]);let f=()=>{a(!0)},m=()=>{a(!1),s(!1)};return n?"intent"!==e?[i,p,{}]:[i,p,{onFocus:at(o,f),onBlur:at(c,m),onMouseEnter:at(u,f),onMouseLeave:at(d,m),onTouchStart:at(h,f)}]:[!1,p,{}]}(i,y),T=function(e){let{target:t,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=me(),c=he(),u=ve(e,{relative:i});return l.useCallback(l=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(l,t)){l.preventDefault();let t=void 0!==n?n:S(c)===S(u);o(e,{replace:t,state:r,preventScrollReset:a,relative:i,viewTransition:s})}},[c,o,u,n,r,t,e,a,i,s])}(m,{replace:d,state:h,target:p,preventScrollReset:g,relative:s,viewTransition:v});let P=l.createElement("a",o(o(o({},y),C),{},{href:n||E,onClick:k||c?r:function(e){r&&r(e),e.defaultPrevented||T(e)},ref:dt(t,j),target:p,"data-discover":_||"render"!==a?void 0:"true"}));return N&&!_?l.createElement(l.Fragment,null,P,l.createElement(st,{page:E})):P});vt.displayName="Link",l.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:a="",end:i=!1,style:s,to:c,viewTransition:d,children:h}=e,p=u(e,m),f=ve(c,{relative:p.relative}),g=he(),v=l.useContext(ne),{navigator:y,basename:w}=l.useContext(oe),x=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l.useContext(ae);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wt("useViewTransitionState"),a=ve(e,{relative:t});if(!n.isTransitioning)return!1;let i=W(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=W(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=F(a.pathname,s)||null!=F(a.pathname,i)}(f)&&!0===d,_=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,S=g.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(S=S.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&w&&(k=W(k,w)||k);const E="/"!==_&&_.endsWith("/")?_.length-1:_.length;let N,j=S===_||!i&&S.startsWith(_)&&"/"===S.charAt(E),C=null!=k&&(k===_||!i&&k.startsWith(_)&&"/"===k.charAt(_.length)),T={isActive:j,isPending:C,isTransitioning:x},P=j?n:void 0;N="function"===typeof a?a(T):[a,j?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof s?s(T):s;return l.createElement(vt,o(o({},p),{},{"aria-current":P,className:N,ref:t,style:R,to:c,viewTransition:d}),"function"===typeof h?h(T):h)}).displayName="NavLink";var yt=l.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:a,reloadDocument:i,replace:s,state:c,method:d=ze,action:h,onSubmit:p,relative:f,preventScrollReset:m,viewTransition:v}=e,y=u(e,g),w=St(),x=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=l.useContext(oe),r=l.useContext(ce);b(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i=o({},ve(e||".",{relative:t})),s=he();if(null==e){i.search=s.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:J([n,i.pathname]));return S(i)}(h,{relative:f}),_="get"===d.toLowerCase()?"get":"post",k="string"===typeof h&&gt.test(h);return l.createElement("form",o(o({ref:t,method:_,action:x,onSubmit:i?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;w(t||e.currentTarget,{fetcherKey:r,method:n,navigate:a,replace:s,state:c,relative:f,preventScrollReset:m,viewTransition:v})}},y),{},{"data-discover":k||"render"!==n?void 0:"true"}))});function bt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function wt(e){let t=l.useContext(te);return b(t,bt(e)),t}yt.displayName="Form";var xt=0,_t=()=>"__".concat(String(++xt),"__");function St(){let{router:e}=wt("useSubmit"),{basename:t}=l.useContext(oe),n=je("useRouteId");return l.useCallback(async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:o,formData:l,body:c}=qe(r,t);if(!1===a.navigate){let t=a.fetcherKey||_t();await e.fetch(t,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}class kt extends Error{}function Et(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(t)}catch(n){return atob(t)}}kt.prototype.name="InvalidTokenError";const Nt=["timeoutInSeconds"],jt=["grant_type","redirect_uri","client_id","client_secret","extraHeaders"],Ct=["grant_type","client_id","client_secret","scope"],Tt=["grant_type","client_id","client_secret","timeoutInSeconds","extraHeaders"],Pt=["url","authority","client_id","redirect_uri","response_type","scope","state_data","response_mode","request_type","client_secret","nonce","url_state","resource","skipUserInfo","extraQueryParams","extraTokenParams","disablePKCE","dpopJkt","omitScopeWhenRequesting"],Rt=["redirectMethod"],It=["popupWindowFeatures","popupWindowTarget","popupSignal"],At=["silentRequestTimeoutInSeconds"],Dt=["silentRequestTimeoutInSeconds"],Ot=["redirectMethod"],Lt=["popupWindowFeatures","popupWindowTarget","popupSignal"],Ut=["silentRequestTimeoutInSeconds"];var zt,Mt,Ft,Ht={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},Bt=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(Bt||{});(Ft=Bt||(Bt={})).reset=function(){zt=3,Mt=Ht},Ft.setLevel=function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");zt=e},Ft.setLogger=function(e){Mt=e};var Wt=class e{constructor(e){this._name=e}debug(){if(zt>=4){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Mt.debug(e._format(this._name,this._method),...n)}}info(){if(zt>=3){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Mt.info(e._format(this._name,this._method),...n)}}warn(){if(zt>=2){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Mt.warn(e._format(this._name,this._method),...n)}}error(){if(zt>=1){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Mt.error(e._format(this._name,this._method),...n)}}throw(e){throw this.error(e),e}create(e){const t=Object.create(this);return t._method=e,t.debug("begin"),t}static createStatic(t,n){const r=new e("".concat(t,".").concat(n));return r.debug("begin"),r}static _format(e,t){const n="[".concat(e,"]");return t?"".concat(n," ").concat(t,":"):n}static debug(t){if(zt>=4){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];Mt.debug(e._format(t),...r)}}static info(t){if(zt>=3){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];Mt.info(e._format(t),...r)}}static warn(t){if(zt>=2){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];Mt.warn(e._format(t),...r)}}static error(t){if(zt>=1){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];Mt.error(e._format(t),...r)}}};Bt.reset();var qt=class{static decode(e){try{return function(e,t){if("string"!==typeof e)throw new kt("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,r=e.split(".")[n];if("string"!==typeof r)throw new kt("Invalid token specified: missing part #".concat(n+1));let a;try{a=Et(r)}catch(ba){throw new kt("Invalid token specified: invalid base64 for part #".concat(n+1," (").concat(ba.message,")"))}try{return JSON.parse(a)}catch(ba){throw new kt("Invalid token specified: invalid json for part #".concat(n+1," (").concat(ba.message,")"))}}(e)}catch(t){throw Wt.error("JwtUtils.decode",t),t}}static async generateSignedJwt(e,t,n){const r=Kt.encodeBase64Url((new TextEncoder).encode(JSON.stringify(e))),a=Kt.encodeBase64Url((new TextEncoder).encode(JSON.stringify(t))),i="".concat(r,".").concat(a),s=await window.crypto.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},n,(new TextEncoder).encode(i)),o=Kt.encodeBase64Url(new Uint8Array(s));return"".concat(i,".").concat(o)}},Vt=e=>btoa([...new Uint8Array(e)].map(e=>String.fromCharCode(e)).join("")),$t=class e{static _randomWord(){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}static generateUUIDv4(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t=>(+t^e._randomWord()&15>>+t/4).toString(16)).replace(/-/g,"")}static generateCodeVerifier(){return e.generateUUIDv4()+e.generateUUIDv4()+e.generateUUIDv4()}static async generateCodeChallenge(e){if(!crypto.subtle)throw new Error("Crypto.subtle is available only in secure contexts (HTTPS).");try{const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Vt(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(t){throw Wt.error("CryptoUtils.generateCodeChallenge",t),t}}static generateBasicAuth(e,t){const n=(new TextEncoder).encode([e,t].join(":"));return Vt(n)}static async hash(e,t){const n=(new TextEncoder).encode(t),r=await crypto.subtle.digest(e,n);return new Uint8Array(r)}static async customCalculateJwkThumbprint(t){let n;switch(t.kty){case"RSA":n={e:t.e,kty:t.kty,n:t.n};break;case"EC":n={crv:t.crv,kty:t.kty,x:t.x,y:t.y};break;case"OKP":n={crv:t.crv,kty:t.kty,x:t.x};break;case"oct":n={crv:t.k,kty:t.kty};break;default:throw new Error("Unknown jwk type")}const r=await e.hash("SHA-256",JSON.stringify(n));return e.encodeBase64Url(r)}static async generateDPoPProof(t){let n,r,{url:a,accessToken:i,httpMethod:s,keyPair:o,nonce:l}=t;const c={jti:window.crypto.randomUUID(),htm:null!=s?s:"GET",htu:a,iat:Math.floor(Date.now()/1e3)};i&&(n=await e.hash("SHA-256",i),r=e.encodeBase64Url(n),c.ath=r),l&&(c.nonce=l);try{const e=await crypto.subtle.exportKey("jwk",o.publicKey),t={alg:"ES256",typ:"dpop+jwt",jwk:{crv:e.crv,kty:e.kty,x:e.x,y:e.y}};return await qt.generateSignedJwt(t,c,o.privateKey)}catch(u){throw u instanceof TypeError?new Error("Error exporting dpop public key: ".concat(u.message)):u}}static async generateDPoPJkt(t){try{const n=await crypto.subtle.exportKey("jwk",t.publicKey);return await e.customCalculateJwkThumbprint(n)}catch(n){throw n instanceof TypeError?new Error("Could not retrieve dpop keys from storage: ".concat(n.message)):n}}static async generateDPoPKeys(){return await window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"])}};$t.encodeBase64Url=e=>Vt(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");var Kt=$t,Jt=class{constructor(e){this._name=e,this._callbacks=[],this._logger=new Wt("Event('".concat(this._name,"')"))}addHandler(e){return this._callbacks.push(e),()=>this.removeHandler(e)}removeHandler(e){const t=this._callbacks.lastIndexOf(e);t>=0&&this._callbacks.splice(t,1)}async raise(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._logger.debug("raise:",...t);for(const r of this._callbacks)await r(...t)}},Qt=class{static center(e){let t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));var n;return null==t.width&&(t.width=null!=(n=[800,720,600,480].find(e=>e<=window.outerWidth/1.618))?n:360),null!=t.left||(t.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-t.width)/2))),null!=t.height&&(null!=t.top||(t.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-t.height)/2)))),t}static serialize(e){return Object.entries(e).filter(e=>{let[,t]=e;return null!=t}).map(e=>{let[t,n]=e;return"".concat(t,"=").concat("boolean"!==typeof n?n:n?"yes":"no")}).join(",")}},Gt=class e extends Jt{constructor(){super(...arguments),this._logger=new Wt("Timer('".concat(this._name,"')")),this._timerHandle=null,this._expiration=0,this._callback=()=>{const t=this._expiration-e.getEpochTime();this._logger.debug("timer completes in",t),this._expiration<=e.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(t){const n=this._logger.create("init");t=Math.max(Math.floor(t),1);const r=e.getEpochTime()+t;if(this.expiration===r&&this._timerHandle)return void n.debug("skipping since already initialized for expiration at",this.expiration);this.cancel(),n.debug("using duration",t),this._expiration=r;const a=Math.min(t,5);this._timerHandle=setInterval(this._callback,1e3*a)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},Yt=class{static readParams(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"query";if(!e)throw new TypeError("Invalid URL");const n=new URL(e,"http://127.0.0.1")["fragment"===t?"hash":"search"];return new URLSearchParams(n.slice(1))}},Xt=";",Zt=class extends Error{constructor(e,t){var n,r,a;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw Wt.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=null!=(n=e.error_description)?n:null,this.error_uri=null!=(r=e.error_uri)?r:null,this.state=e.userState,this.session_state=null!=(a=e.session_state)?a:null,this.url_state=e.url_state}},en=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},tn=class{constructor(e){this._logger=new Wt("AccessTokenEvents"),this._expiringTimer=new Gt("Access token expiring"),this._expiredTimer=new Gt("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}async load(e){const t=this._logger.create("load");if(e.access_token&&void 0!==e.expires_in){const n=e.expires_in;if(t.debug("access token present, remaining duration:",n),n>0){let e=n-this._expiringNotificationTimeInSeconds;e<=0&&(e=1),t.debug("registering expiring timer, raising in",e,"seconds"),this._expiringTimer.init(e)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const r=n+1;t.debug("registering expired timer, raising in",r,"seconds"),this._expiredTimer.init(r)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}async unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},nn=class{constructor(e,t,n,r,a){this._callback=e,this._client_id=t,this._intervalInSeconds=r,this._stopOnError=a,this._logger=new Wt("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=e=>{e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(e.data+" message from check session op iframe"))};const i=new URL(n);this._frame_origin=i.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=i.href}load(){return new Promise(e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{this._frame.contentWindow&&this._session_state&&this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,1e3*this._intervalInSeconds)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},rn=class{constructor(){this._logger=new Wt("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create("getItem('".concat(e,"')")),this._data[e]}setItem(e,t){this._logger.create("setItem('".concat(e,"')")),this._data[e]=t}removeItem(e){this._logger.create("removeItem('".concat(e,"')")),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},an=class extends Error{constructor(e,t){super(t),this.name="ErrorDPoPNonce",this.nonce=e}},sn=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._jwtHandler=t,this._extraHeaders=n,this._logger=new Wt("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{timeoutInSeconds:n}=t,r=u(t,Nt);if(!n)return await fetch(e,r);const a=new AbortController,i=setTimeout(()=>a.abort(),1e3*n);try{return await fetch(e,o(o({},t),{},{signal:a.signal}))}catch(s){if(s instanceof DOMException&&"AbortError"===s.name)throw new en("Network timed out");throw s}finally{clearTimeout(i)}}async getJson(e){let{token:t,credentials:n,timeoutInSeconds:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=this._logger.create("getJson"),i={Accept:this._contentTypes.join(", ")};let s;t&&(a.debug("token passed, setting Authorization header"),i.Authorization="Bearer "+t),this._appendExtraHeaders(i);try{a.debug("url:",e),s=await this.fetchWithTimeout(e,{method:"GET",headers:i,timeoutInSeconds:r,credentials:n})}catch(c){throw a.error("Network Error"),c}a.debug("HTTP response received, status",s.status);const o=s.headers.get("Content-Type");if(o&&!this._contentTypes.find(e=>o.startsWith(e))&&a.throw(new Error("Invalid response Content-Type: ".concat(null!=o?o:"undefined",", from URL: ").concat(e))),s.ok&&this._jwtHandler&&(null==o?void 0:o.startsWith("application/jwt")))return await this._jwtHandler(await s.text());let l;try{l=await s.json()}catch(c){if(a.error("Error parsing JSON response",c),s.ok)throw c;throw new Error("".concat(s.statusText," (").concat(s.status,")"))}if(!s.ok){if(a.error("Error from server:",l),l.error)throw new Zt(l);throw new Error("".concat(s.statusText," (").concat(s.status,"): ").concat(JSON.stringify(l)))}return l}async postForm(e,t){let{body:n,basicAuth:r,timeoutInSeconds:a,initCredentials:i,extraHeaders:s}=t;const l=this._logger.create("postForm"),c=o({Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"},s);let u;void 0!==r&&(c.Authorization="Basic "+r),this._appendExtraHeaders(c);try{l.debug("url:",e),u=await this.fetchWithTimeout(e,{method:"POST",headers:c,body:n,timeoutInSeconds:a,credentials:i})}catch(f){throw l.error("Network error"),f}l.debug("HTTP response received, status",u.status);const d=u.headers.get("Content-Type");if(d&&!this._contentTypes.find(e=>d.startsWith(e)))throw new Error("Invalid response Content-Type: ".concat(null!=d?d:"undefined",", from URL: ").concat(e));const h=await u.text();let p={};if(h)try{p=JSON.parse(h)}catch(f){if(l.error("Error parsing JSON response",f),u.ok)throw f;throw new Error("".concat(u.statusText," (").concat(u.status,")"))}if(!u.ok){if(l.error("Error from server:",p),u.headers.has("dpop-nonce")){const e=u.headers.get("dpop-nonce");throw new an(e,"".concat(JSON.stringify(p)))}if(p.error)throw new Zt(p,n);throw new Error("".concat(u.statusText," (").concat(u.status,"): ").concat(JSON.stringify(p)))}return p}_appendExtraHeaders(e){const t=this._logger.create("appendExtraHeaders"),n=Object.keys(this._extraHeaders),r=["accept","content-type"],a=["authorization"];0!==n.length&&n.forEach(n=>{if(r.includes(n.toLocaleLowerCase()))return void t.warn("Protected header could not be set",n,r);if(a.includes(n.toLocaleLowerCase())&&Object.keys(e).includes(n))return void t.warn("Header could not be overridden",n,a);const i="function"===typeof this._extraHeaders[n]?this._extraHeaders[n]():this._extraHeaders[n];i&&""!==i&&(e[n]=i)})}},on=class{constructor(e){this._settings=e,this._logger=new Wt("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new sn(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials,timeoutInSeconds:this._settings.requestTimeoutInSeconds});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},t,this._settings.metadataSeed),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._logger.create("_getMetadataProperty('".concat(e,"')")),r=await this.getMetadata();if(n.debug("resolved"),void 0===r[e]){if(!0===t)return void n.warn("Metadata does not contain optional property");n.throw(new Error("Metadata does not contain property "+e))}return r[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const n=await this._jsonService.getJson(t,{timeoutInSeconds:this._settings.requestTimeoutInSeconds});if(e.debug("got key set",n),!Array.isArray(n.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=n.keys,this._signingKeys}},ln=class{constructor(){let{prefix:e="oidc.",store:t=localStorage}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._logger=new Wt("WebStorageStateStore"),this._store=t,this._prefix=e}async set(e,t){this._logger.create("set('".concat(e,"')")),e=this._prefix+e,await this._store.setItem(e,t)}async get(e){this._logger.create("get('".concat(e,"')")),e=this._prefix+e;return await this._store.getItem(e)}async remove(e){this._logger.create("remove('".concat(e,"')")),e=this._prefix+e;const t=await this._store.getItem(e);return await this._store.removeItem(e),t}async getAllKeys(){this._logger.create("getAllKeys");const e=await this._store.length,t=[];for(let n=0;n<e;n++){const e=await this._store.key(n);e&&0===e.indexOf(this._prefix)&&t.push(e.substr(this._prefix.length))}return t}},cn="code",un="openid",dn="client_secret_post",hn=900,pn=class{constructor(e){let{authority:t,metadataUrl:n,metadata:r,signingKeys:a,metadataSeed:i,client_id:s,client_secret:o,response_type:l=cn,scope:c=un,redirect_uri:u,post_logout_redirect_uri:d,client_authentication:h=dn,prompt:p,display:f,max_age:m,ui_locales:g,acr_values:v,resource:y,response_mode:b,filterProtocolClaims:w=!0,loadUserInfo:x=!1,requestTimeoutInSeconds:_,staleStateAgeInSeconds:S=hn,mergeClaimsStrategy:k={array:"replace"},disablePKCE:E=!1,stateStore:N,revokeTokenAdditionalContentTypes:j,fetchRequestCredentials:C,refreshTokenAllowedScope:T,extraQueryParams:P={},extraTokenParams:R={},extraHeaders:I={},dpop:A,omitScopeWhenRequesting:D=!1}=e;var O;if(this.authority=t,n?this.metadataUrl=n:(this.metadataUrl=t,t&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=r,this.metadataSeed=i,this.signingKeys=a,this.client_id=s,this.client_secret=o,this.response_type=l,this.scope=c,this.redirect_uri=u,this.post_logout_redirect_uri=d,this.client_authentication=h,this.prompt=p,this.display=f,this.max_age=m,this.ui_locales=g,this.acr_values=v,this.resource=y,this.response_mode=b,this.filterProtocolClaims=null==w||w,this.loadUserInfo=!!x,this.staleStateAgeInSeconds=S,this.mergeClaimsStrategy=k,this.omitScopeWhenRequesting=D,this.disablePKCE=!!E,this.revokeTokenAdditionalContentTypes=j,this.fetchRequestCredentials=C||"same-origin",this.requestTimeoutInSeconds=_,N)this.stateStore=N;else{const e="undefined"!==typeof window?window.localStorage:new rn;this.stateStore=new ln({store:e})}if(this.refreshTokenAllowedScope=T,this.extraQueryParams=P,this.extraTokenParams=R,this.extraHeaders=I,this.dpop=A,this.dpop&&!(null==(O=this.dpop)?void 0:O.store))throw new Error("A DPoPStore is required when dpop is enabled")}},fn=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new Wt("UserInfoService"),this._getClaimsFromJwt=async e=>{const t=this._logger.create("_getClaimsFromJwt");try{const n=qt.decode(e);return t.debug("JWT decoding successful"),n}catch(n){throw t.error("Error parsing JWT response"),n}},this._jsonService=new sn(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const n=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",n);const r=await this._jsonService.getJson(n,{token:e,credentials:this._settings.fetchRequestCredentials,timeoutInSeconds:this._settings.requestTimeoutInSeconds});return t.debug("got claims",r),r}},mn=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new Wt("TokenClient"),this._jsonService=new sn(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode(e){let{grant_type:t="authorization_code",redirect_uri:n=this._settings.redirect_uri,client_id:r=this._settings.client_id,client_secret:a=this._settings.client_secret,extraHeaders:i}=e,s=u(e,jt);const o=this._logger.create("exchangeCode");r||o.throw(new Error("A client_id is required")),n||o.throw(new Error("A redirect_uri is required")),s.code||o.throw(new Error("A code is required"));const l=new URLSearchParams({grant_type:t,redirect_uri:n});for(const[u,p]of Object.entries(s))null!=p&&l.set(u,p);let c;switch(this._settings.client_authentication){case"client_secret_basic":if(void 0===a||null===a)throw o.throw(new Error("A client_secret is required")),null;c=Kt.generateBasicAuth(r,a);break;case"client_secret_post":l.append("client_id",r),a&&l.append("client_secret",a)}const d=await this._metadataService.getTokenEndpoint(!1);o.debug("got token endpoint");const h=await this._jsonService.postForm(d,{body:l,basicAuth:c,timeoutInSeconds:this._settings.requestTimeoutInSeconds,initCredentials:this._settings.fetchRequestCredentials,extraHeaders:i});return o.debug("got response"),h}async exchangeCredentials(e){let{grant_type:t="password",client_id:n=this._settings.client_id,client_secret:r=this._settings.client_secret,scope:a=this._settings.scope}=e,i=u(e,Ct);const s=this._logger.create("exchangeCredentials");n||s.throw(new Error("A client_id is required"));const o=new URLSearchParams({grant_type:t});this._settings.omitScopeWhenRequesting||o.set("scope",a);for(const[u,h]of Object.entries(i))null!=h&&o.set(u,h);let l;switch(this._settings.client_authentication){case"client_secret_basic":if(void 0===r||null===r)throw s.throw(new Error("A client_secret is required")),null;l=Kt.generateBasicAuth(n,r);break;case"client_secret_post":o.append("client_id",n),r&&o.append("client_secret",r)}const c=await this._metadataService.getTokenEndpoint(!1);s.debug("got token endpoint");const d=await this._jsonService.postForm(c,{body:o,basicAuth:l,timeoutInSeconds:this._settings.requestTimeoutInSeconds,initCredentials:this._settings.fetchRequestCredentials});return s.debug("got response"),d}async exchangeRefreshToken(e){let{grant_type:t="refresh_token",client_id:n=this._settings.client_id,client_secret:r=this._settings.client_secret,timeoutInSeconds:a,extraHeaders:i}=e,s=u(e,Tt);const o=this._logger.create("exchangeRefreshToken");n||o.throw(new Error("A client_id is required")),s.refresh_token||o.throw(new Error("A refresh_token is required"));const l=new URLSearchParams({grant_type:t});for(const[u,p]of Object.entries(s))Array.isArray(p)?p.forEach(e=>l.append(u,e)):null!=p&&l.set(u,p);let c;switch(this._settings.client_authentication){case"client_secret_basic":if(void 0===r||null===r)throw o.throw(new Error("A client_secret is required")),null;c=Kt.generateBasicAuth(n,r);break;case"client_secret_post":l.append("client_id",n),r&&l.append("client_secret",r)}const d=await this._metadataService.getTokenEndpoint(!1);o.debug("got token endpoint");const h=await this._jsonService.postForm(d,{body:l,basicAuth:c,timeoutInSeconds:a,initCredentials:this._settings.fetchRequestCredentials,extraHeaders:i});return o.debug("got response"),h}async revoke(e){var t;const n=this._logger.create("revoke");e.token||n.throw(new Error("A token is required"));const r=await this._metadataService.getRevocationEndpoint(!1);n.debug("got revocation endpoint, revoking ".concat(null!=(t=e.token_type_hint)?t:"default token type"));const a=new URLSearchParams;for(const[i,s]of Object.entries(e))null!=s&&a.set(i,s);a.set("client_id",this._settings.client_id),this._settings.client_secret&&a.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(r,{body:a,timeoutInSeconds:this._settings.requestTimeoutInSeconds}),n.debug("got response")}},gn=class{constructor(e,t,n){this._settings=e,this._metadataService=t,this._claimsService=n,this._logger=new Wt("ResponseValidator"),this._userInfoService=new fn(this._settings,this._metadataService),this._tokenClient=new mn(this._settings,this._metadataService)}async validateSigninResponse(e,t,n){const r=this._logger.create("validateSigninResponse");this._processSigninState(e,t),r.debug("state processed"),await this._processCode(e,t,n),r.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),r.debug("tokens validated"),await this._processClaims(e,null==t?void 0:t.skipUserInfo,e.isOpenId),r.debug("claims processed")}async validateCredentialsResponse(e,t){const n=this._logger.create("validateCredentialsResponse"),r=e.isOpenId&&!!e.id_token;r&&this._validateIdTokenAttributes(e),n.debug("tokens validated"),await this._processClaims(e,t,r),n.debug("claims processed")}async validateRefreshResponse(e,t){const n=this._logger.create("validateRefreshResponse");e.userState=t.data,null!=e.session_state||(e.session_state=t.session_state),null!=e.scope||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),n.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);const r=e.isOpenId&&!!e.id_token;await this._processClaims(e,!1,r),n.debug("claims processed")}validateSignoutResponse(e,t){const n=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&n.throw(new Error("State does not match")),n.debug("state validated"),e.userState=t.data,e.error)throw n.warn("Response was error",e.error),new Zt(e)}_processSigninState(e,t){const n=this._logger.create("_processSigninState");if(t.id!==e.state&&n.throw(new Error("State does not match")),t.client_id||n.throw(new Error("No client_id on state")),t.authority||n.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&n.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&n.throw(new Error("client_id mismatch on settings vs. signin state")),n.debug("state validated"),e.userState=t.data,e.url_state=t.url_state,null!=e.scope||(e.scope=t.scope),e.error)throw n.warn("Response was error",e.error),new Zt(e);t.code_verifier&&!e.code&&n.throw(new Error("Expected code in response"))}async _processClaims(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token)return void r.debug("not loading user info");r.debug("loading user info");const a=await this._userInfoService.getClaims(e.access_token);r.debug("user info claims received from user info endpoint"),n&&a.sub!==e.profile.sub&&r.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(a)),r.debug("user info claims received, updated profile:",e.profile)}async _processCode(e,t,n){const r=this._logger.create("_processCode");if(e.code){r.debug("Validating code");const a=await this._tokenClient.exchangeCode(o({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,extraHeaders:n},t.extraTokenParams));Object.assign(e,a)}else r.debug("No code to process")}_validateIdTokenAttributes(e,t){var n;const r=this._logger.create("_validateIdTokenAttributes");r.debug("decoding ID Token JWT");const a=qt.decode(null!=(n=e.id_token)?n:"");if(a.sub||r.throw(new Error("ID Token is missing a subject claim")),t){const e=qt.decode(t);a.sub!==e.sub&&r.throw(new Error("sub in id_token does not match current sub")),a.auth_time&&a.auth_time!==e.auth_time&&r.throw(new Error("auth_time in id_token does not match original auth_time")),a.azp&&a.azp!==e.azp&&r.throw(new Error("azp in id_token does not match original azp")),!a.azp&&e.azp&&r.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=a}},vn=class e{constructor(e){this.id=e.id||Kt.generateUUIDv4(),this.data=e.data,e.created&&e.created>0?this.created=e.created:this.created=Gt.getEpochTime(),this.request_type=e.request_type,this.url_state=e.url_state}toStorageString(){return new Wt("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(t){return Wt.createStatic("State","fromStorageString"),Promise.resolve(new e(JSON.parse(t)))}static async clearStaleState(t,n){const r=Wt.createStatic("State","clearStaleState"),a=Gt.getEpochTime()-n,i=await t.getAllKeys();r.debug("got keys",i);for(let o=0;o<i.length;o++){const n=i[o],l=await t.get(n);let c=!1;if(l)try{const t=await e.fromStorageString(l);r.debug("got item from key:",n,t.created),t.created<=a&&(c=!0)}catch(s){r.error("Error parsing state for key:",n,s),c=!0}else r.debug("no item in storage for key:",n),c=!0;c&&(r.debug("removed item for key:",n),t.remove(n))}}},yn=class e extends vn{constructor(e){super(e),this.code_verifier=e.code_verifier,this.code_challenge=e.code_challenge,this.authority=e.authority,this.client_id=e.client_id,this.redirect_uri=e.redirect_uri,this.scope=e.scope,this.client_secret=e.client_secret,this.extraTokenParams=e.extraTokenParams,this.response_mode=e.response_mode,this.skipUserInfo=e.skipUserInfo}static async create(t){const n=!0===t.code_verifier?Kt.generateCodeVerifier():t.code_verifier||void 0,r=n?await Kt.generateCodeChallenge(n):void 0;return new e(o(o({},t),{},{code_verifier:n,code_challenge:r}))}toStorageString(){return new Wt("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(t){Wt.createStatic("SigninState","fromStorageString");const n=JSON.parse(t);return e.create(n)}},bn=class e{constructor(e){this.url=e.url,this.state=e.state}static async create(t){let{url:n,authority:r,client_id:a,redirect_uri:i,response_type:s,scope:l,state_data:c,response_mode:d,request_type:h,client_secret:p,nonce:f,url_state:m,resource:g,skipUserInfo:v,extraQueryParams:y,extraTokenParams:b,disablePKCE:w,dpopJkt:x,omitScopeWhenRequesting:_}=t,S=u(t,Pt);if(!n)throw this._logger.error("create: No url passed"),new Error("url");if(!a)throw this._logger.error("create: No client_id passed"),new Error("client_id");if(!i)throw this._logger.error("create: No redirect_uri passed"),new Error("redirect_uri");if(!s)throw this._logger.error("create: No response_type passed"),new Error("response_type");if(!l)throw this._logger.error("create: No scope passed"),new Error("scope");if(!r)throw this._logger.error("create: No authority passed"),new Error("authority");const k=await yn.create({data:c,request_type:h,url_state:m,code_verifier:!w,client_id:a,authority:r,redirect_uri:i,response_mode:d,client_secret:p,scope:l,extraTokenParams:b,skipUserInfo:v}),E=new URL(n);E.searchParams.append("client_id",a),E.searchParams.append("redirect_uri",i),E.searchParams.append("response_type",s),_||E.searchParams.append("scope",l),f&&E.searchParams.append("nonce",f),x&&E.searchParams.append("dpop_jkt",x);let N=k.id;if(m&&(N="".concat(N).concat(Xt).concat(m)),E.searchParams.append("state",N),k.code_challenge&&(E.searchParams.append("code_challenge",k.code_challenge),E.searchParams.append("code_challenge_method","S256")),g){(Array.isArray(g)?g:[g]).forEach(e=>E.searchParams.append("resource",e))}for(const[e,u]of Object.entries(o(o({response_mode:d},S),y)))null!=u&&E.searchParams.append(e,u.toString());return new e({url:E.href,state:k})}};bn._logger=new Wt("SigninRequest");var wn=bn,xn=class{constructor(e){if(this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.state){const e=decodeURIComponent(this.state).split(Xt);this.state=e[0],e.length>1&&(this.url_state=e.slice(1).join(Xt))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-Gt.getEpochTime()}set expires_in(e){"string"===typeof e&&(e=Number(e)),void 0!==e&&e>=0&&(this.expires_at=Math.floor(e)+Gt.getEpochTime())}get isOpenId(){var e;return(null==(e=this.scope)?void 0:e.split(" ").includes("openid"))||!!this.id_token}},_n=class{constructor(e){let{url:t,state_data:n,id_token_hint:r,post_logout_redirect_uri:a,extraQueryParams:i,request_type:s,client_id:l,url_state:c}=e;if(this._logger=new Wt("SignoutRequest"),!t)throw this._logger.error("ctor: No url passed"),new Error("url");const u=new URL(t);if(r&&u.searchParams.append("id_token_hint",r),l&&u.searchParams.append("client_id",l),a&&(u.searchParams.append("post_logout_redirect_uri",a),n||c)){this.state=new vn({data:n,request_type:s,url_state:c});let e=this.state.id;c&&(e="".concat(e).concat(Xt).concat(c)),u.searchParams.append("state",e)}for(const[d,h]of Object.entries(o({},i)))null!=h&&u.searchParams.append(d,h.toString());this.url=u.href}},Sn=class{constructor(e){if(this.state=e.get("state"),this.state){const e=decodeURIComponent(this.state).split(Xt);this.state=e[0],e.length>1&&(this.url_state=e.slice(1).join(Xt))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}},kn=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],En=["sub","iss","aud","exp","iat"],Nn=class{constructor(e){this._settings=e,this._logger=new Wt("ClaimsService")}filterProtocolClaims(e){const t=o({},e);if(this._settings.filterProtocolClaims){let e;e=Array.isArray(this._settings.filterProtocolClaims)?this._settings.filterProtocolClaims:kn;for(const n of e)En.includes(n)||delete t[n]}return t}mergeClaims(e,t){const n=o({},e);for(const[r,a]of Object.entries(t))if(n[r]!==a)if(Array.isArray(n[r])||Array.isArray(a))if("replace"==this._settings.mergeClaimsStrategy.array)n[r]=a;else{const e=Array.isArray(n[r])?n[r]:[n[r]];for(const t of Array.isArray(a)?a:[a])e.includes(t)||e.push(t);n[r]=e}else"object"===typeof n[r]&&"object"===typeof a?n[r]=this.mergeClaims(n[r],a):n[r]=a;return n}},jn=class{constructor(e,t){this.keys=e,this.nonce=t}},Cn=class{constructor(e,t){this._logger=new Wt("OidcClient"),this.settings=e instanceof pn?e:new pn(e),this.metadataService=null!=t?t:new on(this.settings),this._claimsService=new Nn(this.settings),this._validator=new gn(this.settings,this.metadataService,this._claimsService),this._tokenClient=new mn(this.settings,this.metadataService)}async createSigninRequest(e){let{state:t,request:n,request_uri:r,request_type:a,id_token_hint:i,login_hint:s,skipUserInfo:o,nonce:l,url_state:c,response_type:u=this.settings.response_type,scope:d=this.settings.scope,redirect_uri:h=this.settings.redirect_uri,prompt:p=this.settings.prompt,display:f=this.settings.display,max_age:m=this.settings.max_age,ui_locales:g=this.settings.ui_locales,acr_values:v=this.settings.acr_values,resource:y=this.settings.resource,response_mode:b=this.settings.response_mode,extraQueryParams:w=this.settings.extraQueryParams,extraTokenParams:x=this.settings.extraTokenParams,dpopJkt:_,omitScopeWhenRequesting:S=this.settings.omitScopeWhenRequesting}=e;const k=this._logger.create("createSigninRequest");if("code"!==u)throw new Error("Only the Authorization Code flow (with PKCE) is supported");const E=await this.metadataService.getAuthorizationEndpoint();k.debug("Received authorization endpoint",E);const N=await wn.create({url:E,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:h,response_type:u,scope:d,state_data:t,url_state:c,prompt:p,display:f,max_age:m,ui_locales:g,id_token_hint:i,login_hint:s,acr_values:v,dpopJkt:_,resource:y,request:n,request_uri:r,extraQueryParams:w,extraTokenParams:x,request_type:a,response_mode:b,client_secret:this.settings.client_secret,skipUserInfo:o,nonce:l,disablePKCE:this.settings.disablePKCE,omitScopeWhenRequesting:S});await this.clearStaleState();const j=N.state;return await this.settings.stateStore.set(j.id,j.toStorageString()),N}async readSigninResponseState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._logger.create("readSigninResponseState"),r=new xn(Yt.readParams(e,this.settings.response_mode));if(!r.state)throw n.throw(new Error("No state in response")),null;const a=await this.settings.stateStore[t?"remove":"get"](r.state);if(!a)throw n.throw(new Error("No matching state found in storage")),null;return{state:await yn.fromStorageString(a),response:r}}async processSigninResponse(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._logger.create("processSigninResponse"),{state:a,response:i}=await this.readSigninResponseState(e,n);if(r.debug("received state from storage; validating response"),this.settings.dpop&&this.settings.dpop.store){const e=await this.getDpopProof(this.settings.dpop.store);t=o(o({},t),{},{DPoP:e})}try{await this._validator.validateSigninResponse(i,a,t)}catch(s){if(!(s instanceof an&&this.settings.dpop))throw s;{const e=await this.getDpopProof(this.settings.dpop.store,s.nonce);t.DPoP=e,await this._validator.validateSigninResponse(i,a,t)}}return i}async getDpopProof(e,t){let n,r;return(await e.getAllKeys()).includes(this.settings.client_id)?(r=await e.get(this.settings.client_id),r.nonce!==t&&t&&(r.nonce=t,await e.set(this.settings.client_id,r))):(n=await Kt.generateDPoPKeys(),r=new jn(n,t),await e.set(this.settings.client_id,r)),await Kt.generateDPoPProof({url:await this.metadataService.getTokenEndpoint(!1),httpMethod:"POST",keyPair:r.keys,nonce:r.nonce})}async processResourceOwnerPasswordCredentials(e){let{username:t,password:n,skipUserInfo:r=!1,extraTokenParams:a={}}=e;const i=await this._tokenClient.exchangeCredentials(o({username:t,password:n},a)),s=new xn(new URLSearchParams);return Object.assign(s,i),await this._validator.validateCredentialsResponse(s,r),s}async useRefreshToken(e){let{state:t,redirect_uri:n,resource:r,timeoutInSeconds:a,extraHeaders:i,extraTokenParams:s}=e;var l;const c=this._logger.create("useRefreshToken");let u,d;if(void 0===this.settings.refreshTokenAllowedScope)u=t.scope;else{const e=this.settings.refreshTokenAllowedScope.split(" ");u=((null==(l=t.scope)?void 0:l.split(" "))||[]).filter(t=>e.includes(t)).join(" ")}if(this.settings.dpop&&this.settings.dpop.store){const e=await this.getDpopProof(this.settings.dpop.store);i=o(o({},i),{},{DPoP:e})}try{d=await this._tokenClient.exchangeRefreshToken(o({refresh_token:t.refresh_token,scope:u,redirect_uri:n,resource:r,timeoutInSeconds:a,extraHeaders:i},s))}catch(p){if(!(p instanceof an&&this.settings.dpop))throw p;i.DPoP=await this.getDpopProof(this.settings.dpop.store,p.nonce),d=await this._tokenClient.exchangeRefreshToken(o({refresh_token:t.refresh_token,scope:u,redirect_uri:n,resource:r,timeoutInSeconds:a,extraHeaders:i},s))}const h=new xn(new URLSearchParams);return Object.assign(h,d),c.debug("validating response",h),await this._validator.validateRefreshResponse(h,o(o({},t),{},{scope:u})),h}async createSignoutRequest(){let{state:e,id_token_hint:t,client_id:n,request_type:r,url_state:a,post_logout_redirect_uri:i=this.settings.post_logout_redirect_uri,extraQueryParams:s=this.settings.extraQueryParams}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=this._logger.create("createSignoutRequest"),l=await this.metadataService.getEndSessionEndpoint();if(!l)throw o.throw(new Error("No end session endpoint")),null;o.debug("Received end session endpoint",l),n||!i||t||(n=this.settings.client_id);const c=new _n({url:l,id_token_hint:t,client_id:n,post_logout_redirect_uri:i,state_data:e,extraQueryParams:s,request_type:r,url_state:a});await this.clearStaleState();const u=c.state;return u&&(o.debug("Signout request has state to persist"),await this.settings.stateStore.set(u.id,u.toStorageString())),c}async readSignoutResponseState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._logger.create("readSignoutResponseState"),r=new Sn(Yt.readParams(e,this.settings.response_mode));if(!r.state){if(n.debug("No state in response"),r.error)throw n.warn("Response was error:",r.error),new Zt(r);return{state:void 0,response:r}}const a=await this.settings.stateStore[t?"remove":"get"](r.state);if(!a)throw n.throw(new Error("No matching state found in storage")),null;return{state:await vn.fromStorageString(a),response:r}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:n,response:r}=await this.readSignoutResponseState(e,!0);return n?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(r,n)):t.debug("No state from storage; skipping response validation"),r}clearStaleState(){return this._logger.create("clearStaleState"),vn.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},Tn=class{constructor(e){this._userManager=e,this._logger=new Wt("SessionMonitor"),this._start=async e=>{const t=e.session_state;if(!t)return;const n=this._logger.create("_start");if(e.profile?(this._sub=e.profile.sub,n.debug("session_state",t,", sub",this._sub)):(this._sub=void 0,n.debug("session_state",t,", anonymous user")),this._checkSessionIFrame)this._checkSessionIFrame.start(t);else try{const e=await this._userManager.metadataService.getCheckSessionIframe();if(e){n.debug("initializing check session iframe");const r=this._userManager.settings.client_id,a=this._userManager.settings.checkSessionIntervalInSeconds,i=this._userManager.settings.stopCheckSessionOnError,s=new nn(this._callback,r,e,a,i);await s.load(),this._checkSessionIFrame=s,s.start(t)}else n.warn("no check session iframe found in the metadata")}catch(r){n.error("Error from getCheckSessionIframe:",r instanceof Error?r.message:r)}},this._stop=()=>{const e=this._logger.create("_stop");if(this._sub=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const t=setInterval(async()=>{clearInterval(t);try{const e=await this._userManager.querySessionStatus();if(e){const t={session_state:e.session_state,profile:e.sub?{sub:e.sub}:null};this._start(t)}}catch(n){e.error("error from querySessionStatus",n instanceof Error?n.message:n)}},1e3)}},this._callback=async()=>{const e=this._logger.create("_callback");try{const t=await this._userManager.querySessionStatus();let n=!0;t&&this._checkSessionIFrame?t.sub===this._sub?(n=!1,this._checkSessionIFrame.start(t.session_state),e.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",t.session_state),await this._userManager.events._raiseUserSessionChanged()):e.debug("different subject signed into OP",t.sub):e.debug("subject no longer signed into OP"),n?this._sub?await this._userManager.events._raiseUserSignedOut():await this._userManager.events._raiseUserSignedIn():e.debug("no change in session detected, no event to raise")}catch(t){this._sub&&(e.debug("Error calling queryCurrentSigninSession; raising signed out event",t),await this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(e=>{this._logger.error(e)})}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const e=await this._userManager.querySessionStatus();if(e){const t={session_state:e.session_state,profile:e.sub?{sub:e.sub}:null};this._start(t)}}}},Pn=class e{constructor(e){var t;this.id_token=e.id_token,this.session_state=null!=(t=e.session_state)?t:null,this.access_token=e.access_token,this.refresh_token=e.refresh_token,this.token_type=e.token_type,this.scope=e.scope,this.profile=e.profile,this.expires_at=e.expires_at,this.state=e.userState,this.url_state=e.url_state}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-Gt.getEpochTime()}set expires_in(e){void 0!==e&&(this.expires_at=Math.floor(e)+Gt.getEpochTime())}get expired(){const e=this.expires_in;if(void 0!==e)return e<=0}get scopes(){var e,t;return null!=(t=null==(e=this.scope)?void 0:e.split(" "))?t:[]}toStorageString(){return new Wt("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(t){return Wt.createStatic("User","fromStorageString"),new e(JSON.parse(t))}},Rn="oidc-client",In=class{constructor(){this._abort=new Jt("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:n,keepOpen:r}=await new Promise((n,r)=>{const a=a=>{var i;const s=a.data,o=null!=(i=e.scriptOrigin)?i:window.location.origin;if(a.origin===o&&(null==s?void 0:s.source)===Rn){try{const n=Yt.readParams(s.url,e.response_mode).get("state");if(n||t.warn("no state found in response url"),a.source!==this._window&&n!==e.state)return}catch(l){this._dispose(),r(new Error("Invalid response from window"))}n(s)}};window.addEventListener("message",a,!1),this._disposeHandlers.add(()=>window.removeEventListener("message",a,!1));const i=new BroadcastChannel("oidc-client-popup-".concat(e.state));i.addEventListener("message",a,!1),this._disposeHandlers.add(()=>i.close()),this._disposeHandlers.add(this._abort.addHandler(e=>{this._dispose(),r(e)}))});return t.debug("got response from window"),this._dispose(),r||this.close(),{url:n}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.location.origin;const a={source:Rn,url:t,keepOpen:n},i=new Wt("_notifyParent");if(e)i.debug("With parent. Using parent.postMessage."),e.postMessage(a,r);else{i.debug("No parent. Using BroadcastChannel.");const e=new URL(t).searchParams.get("state");if(!e)throw new Error("No parent and no state in URL. Can't complete notification.");const n=new BroadcastChannel("oidc-client-popup-".concat(e));n.postMessage(a),n.close()}}},An={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},Dn="_blank",On=60,Ln=2,Un=10,zn=class extends pn{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:n=e.post_logout_redirect_uri,popupWindowFeatures:r=An,popupWindowTarget:a=Dn,redirectMethod:i="assign",redirectTarget:s="self",iframeNotifyParentOrigin:o=e.iframeNotifyParentOrigin,iframeScriptOrigin:l=e.iframeScriptOrigin,requestTimeoutInSeconds:c,silent_redirect_uri:u=e.redirect_uri,silentRequestTimeoutInSeconds:d,automaticSilentRenew:h=!0,validateSubOnSilentRenew:p=!0,includeIdTokenInSilentRenew:f=!1,monitorSession:m=!1,monitorAnonymousSession:g=!1,checkSessionIntervalInSeconds:v=Ln,query_status_response_type:y="code",stopCheckSessionOnError:b=!0,revokeTokenTypes:w=["access_token","refresh_token"],revokeTokensOnSignout:x=!1,includeIdTokenInSilentSignout:_=!1,accessTokenExpiringNotificationTimeInSeconds:S=On,userStore:k}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=n,this.popupWindowFeatures=r,this.popupWindowTarget=a,this.redirectMethod=i,this.redirectTarget=s,this.iframeNotifyParentOrigin=o,this.iframeScriptOrigin=l,this.silent_redirect_uri=u,this.silentRequestTimeoutInSeconds=d||c||Un,this.automaticSilentRenew=h,this.validateSubOnSilentRenew=p,this.includeIdTokenInSilentRenew=f,this.monitorSession=m,this.monitorAnonymousSession=g,this.checkSessionIntervalInSeconds=v,this.stopCheckSessionOnError=b,this.query_status_response_type=y,this.revokeTokenTypes=w,this.revokeTokensOnSignout=x,this.includeIdTokenInSilentSignout=_,this.accessTokenExpiringNotificationTimeInSeconds=S,k)this.userStore=k;else{const e="undefined"!==typeof window?window.sessionStorage:new rn;this.userStore=new ln({store:e})}}},Mn=class e extends In{constructor(t){let{silentRequestTimeoutInSeconds:n=Un}=t;super(),this._logger=new Wt("IFrameWindow"),this._timeoutInSeconds=n,this._frame=e.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const e=window.document.createElement("iframe");return e.style.visibility="hidden",e.style.position="fixed",e.style.left="-1000px",e.style.top="0",e.width="0",e.height="0",window.document.body.appendChild(e),e}async navigate(e){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const t=setTimeout(()=>{this._abort.raise(new en("IFrame timed out without a response"))},1e3*this._timeoutInSeconds);return this._disposeHandlers.add(()=>clearTimeout(t)),await super.navigate(e)}close(){var e;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",e=>{var t;const n=e.target;null==(t=n.parentNode)||t.removeChild(n),this._abort.raise(new Error("IFrame removed from DOM"))},!0),null==(e=this._frame.contentWindow)||e.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(e,t){return super._notifyParent(window.parent,e,!1,t)}},Fn=class{constructor(e){this._settings=e,this._logger=new Wt("IFrameNavigator")}async prepare(e){let{silentRequestTimeoutInSeconds:t=this._settings.silentRequestTimeoutInSeconds}=e;return new Mn({silentRequestTimeoutInSeconds:t})}async callback(e){this._logger.create("callback"),Mn.notifyParent(e,this._settings.iframeNotifyParentOrigin)}},Hn=class extends In{constructor(e){let{popupWindowTarget:t=Dn,popupWindowFeatures:n={},popupSignal:r}=e;super(),this._logger=new Wt("PopupWindow");const a=Qt.center(o(o({},An),n));this._window=window.open(void 0,t,Qt.serialize(a)),r&&r.addEventListener("abort",()=>{var e;this._abort.raise(new Error(null!=(e=r.reason)?e:"Popup aborted"))}),n.closePopupWindowAfterInSeconds&&n.closePopupWindowAfterInSeconds>0&&setTimeout(()=>{this._window&&"boolean"===typeof this._window.closed&&!this._window.closed?this.close():this._abort.raise(new Error("Popup blocked by user"))},1e3*n.closePopupWindowAfterInSeconds)}async navigate(e){var t;null==(t=this._window)||t.focus();const n=setInterval(()=>{this._window&&!this._window.closed||(this._logger.debug("Popup closed by user or isolated by redirect"),r(),this._disposeHandlers.delete(r))},500),r=()=>clearInterval(n);return this._disposeHandlers.add(r),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){super._notifyParent(window.opener,e,t),t||window.opener||window.close()}},Bn=class{constructor(e){this._settings=e,this._logger=new Wt("PopupNavigator")}async prepare(e){let{popupWindowFeatures:t=this._settings.popupWindowFeatures,popupWindowTarget:n=this._settings.popupWindowTarget,popupSignal:r}=e;return new Hn({popupWindowFeatures:t,popupWindowTarget:n,popupSignal:r})}async callback(e,t){let{keepOpen:n=!1}=t;this._logger.create("callback"),Hn.notifyOpener(e,n)}},Wn=class{constructor(e){this._settings=e,this._logger=new Wt("RedirectNavigator")}async prepare(e){let{redirectMethod:t=this._settings.redirectMethod,redirectTarget:n=this._settings.redirectTarget}=e;var r;this._logger.create("prepare");let a=window.self;"top"===n&&(a=null!=(r=window.top)?r:window.self);const i=a.location[t].bind(a.location);let s;return{navigate:async e=>{this._logger.create("navigate");const t=new Promise((e,t)=>{s=t});return i(e.url),await t},close:()=>{this._logger.create("close"),null==s||s(new Error("Redirect aborted")),a.stop()}}}async callback(){}},qn=class extends tn{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new Wt("UserManagerEvents"),this._userLoaded=new Jt("User loaded"),this._userUnloaded=new Jt("User unloaded"),this._silentRenewError=new Jt("Silent renew error"),this._userSignedIn=new Jt("User signed in"),this._userSignedOut=new Jt("User signed out"),this._userSessionChanged=new Jt("User session changed")}async load(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await super.load(e),t&&await this._userLoaded.raise(e)}async unload(){await super.unload(),await this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}async _raiseSilentRenewError(e){await this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}async _raiseUserSignedIn(){await this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}async _raiseUserSignedOut(){await this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}async _raiseUserSessionChanged(){await this._userSessionChanged.raise()}},Vn=class{constructor(e){this._userManager=e,this._logger=new Wt("SilentRenewService"),this._isStarted=!1,this._retryTimer=new Gt("Retry Silent Renew"),this._tokenExpiring=async()=>{const e=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),e.debug("silent token renewal successful")}catch(t){if(t instanceof en)return e.warn("ErrorTimeout from signinSilent:",t,"retry in 5s"),void this._retryTimer.init(5);e.error("Error from signinSilent:",t),await this._userManager.events._raiseSilentRenewError(t)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},$n=class{constructor(e){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.profile=e.profile,this.data=e.state}};const Kn=["children","onSigninCallback","skipSigninCallback","matchSignoutCallback","onSignoutCallback","onRemoveUser","userManager"];var Jn=l.createContext(void 0);Jn.displayName="AuthContext";var Qn={isLoading:!0,isAuthenticated:!1},Gn=(e,t)=>{switch(t.type){case"INITIALISED":case"USER_LOADED":return o(o({},e),{},{user:t.user,isLoading:!1,isAuthenticated:!!t.user&&!t.user.expired,error:void 0});case"USER_SIGNED_OUT":case"USER_UNLOADED":return o(o({},e),{},{user:void 0,isAuthenticated:!1});case"NAVIGATOR_INIT":return o(o({},e),{},{isLoading:!0,activeNavigator:t.method});case"NAVIGATOR_CLOSE":return o(o({},e),{},{isLoading:!1,activeNavigator:void 0});case"ERROR":{const n=t.error;return n.toString=()=>"".concat(n.name,": ").concat(n.message),o(o({},e),{},{isLoading:!1,error:n})}default:{const n=new TypeError("unknown type ".concat(t.type)),r={name:n.name,message:n.message,innerError:n,stack:n.stack,source:"unknown",toString:()=>"".concat(r.name,": ").concat(r.message)};return o(o({},e),{},{isLoading:!1,error:r})}}},Yn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location,t=new URLSearchParams(e.search);return!(!t.get("code")&&!t.get("error")||!t.get("state"))||(t=new URLSearchParams(e.hash.replace("#","?")),!(!t.get("code")&&!t.get("error")||!t.get("state")))},Xn=nr("signinCallback","Sign-in failed"),Zn=nr("signoutCallback","Sign-out failed"),er=nr("renewSilent","Renew silent failed");function tr(e,t){return{name:rr(e,"name",()=>"Error"),message:rr(e,"message",()=>t),stack:rr(e,"stack",()=>(new Error).stack),innerError:e}}function nr(e,t){return n=>o(o({},tr(n,t)),{},{source:e})}function rr(e,t,n){if(e&&"object"===typeof e){const n=e[t];if("string"===typeof n)return n}return n()}var ar=["clearStaleState","querySessionStatus","revokeTokens","startSilentRenew","stopSilentRenew"],ir=["signinPopup","signinSilent","signinRedirect","signinResourceOwnerCredentials","signoutPopup","signoutRedirect","signoutSilent"],sr=e=>()=>{throw new Error("UserManager#".concat(e," was called from an unsupported context. If this is a server-rendered page, defer this call with useEffect() or pass a custom UserManager implementation."))},or="undefined"===typeof window?null:class{constructor(e,t,n,r){this._logger=new Wt("UserManager"),this.settings=new zn(e),this._client=new Cn(e),this._redirectNavigator=null!=t?t:new Wn(this.settings),this._popupNavigator=null!=n?n:new Bn(this.settings),this._iframeNavigator=null!=r?r:new Fn(this.settings),this._events=new qn(this.settings),this._silentRenewService=new Vn(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new Tn(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this._logger.create("getUser"),n=await this._loadUser();return n?(t.info("user loaded"),await this._events.load(n,e),n):(t.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),await this._events.unload()}async signinRedirect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;this._logger.create("signinRedirect");const{redirectMethod:n}=e,r=u(e,Rt);let a;(null==(t=this.settings.dpop)?void 0:t.bind_authorization_code)&&(a=await this.generateDPoPJkt(this.settings.dpop));const i=await this._redirectNavigator.prepare({redirectMethod:n});await this._signinStart(o({request_type:"si:r",dpopJkt:a},r),i)}async signinRedirectCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const t=this._logger.create("signinRedirectCallback"),n=await this._signinEnd(e);return n.profile&&n.profile.sub?t.info("success, signed in subject",n.profile.sub):t.info("no subject"),n}async signinResourceOwnerCredentials(e){let{username:t,password:n,skipUserInfo:r=!1}=e;const a=this._logger.create("signinResourceOwnerCredential"),i=await this._client.processResourceOwnerPasswordCredentials({username:t,password:n,skipUserInfo:r,extraTokenParams:this.settings.extraTokenParams});a.debug("got signin response");const s=await this._buildUser(i);return s.profile&&s.profile.sub?a.info("success, signed in subject",s.profile.sub):a.info("no subject"),s}async signinPopup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const n=this._logger.create("signinPopup");let r;(null==(t=this.settings.dpop)?void 0:t.bind_authorization_code)&&(r=await this.generateDPoPJkt(this.settings.dpop));const{popupWindowFeatures:a,popupWindowTarget:i,popupSignal:s}=e,l=u(e,It),c=this.settings.popup_redirect_uri;c||n.throw(new Error("No popup_redirect_uri configured"));const d=await this._popupNavigator.prepare({popupWindowFeatures:a,popupWindowTarget:i,popupSignal:s}),h=await this._signin(o({request_type:"si:p",redirect_uri:c,display:"popup",dpopJkt:r},l),d);return h&&(h.profile&&h.profile.sub?n.info("success, signed in subject",h.profile.sub):n.info("no subject")),h}async signinPopupCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async signinSilent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;const r=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:a}=e,i=u(e,At);let s,l=await this._loadUser();if(null==l?void 0:l.refresh_token){r.debug("using refresh token");const e=new $n(l);return await this._useRefreshToken({state:e,redirect_uri:i.redirect_uri,resource:i.resource,extraTokenParams:i.extraTokenParams,timeoutInSeconds:a})}(null==(t=this.settings.dpop)?void 0:t.bind_authorization_code)&&(s=await this.generateDPoPJkt(this.settings.dpop));const c=this.settings.silent_redirect_uri;let d;c||r.throw(new Error("No silent_redirect_uri configured")),l&&this.settings.validateSubOnSilentRenew&&(r.debug("subject prior to silent renew:",l.profile.sub),d=l.profile.sub);const h=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:a});return l=await this._signin(o({request_type:"si:s",redirect_uri:c,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==l?void 0:l.id_token:void 0,dpopJkt:s},i),h,d),l&&((null==(n=l.profile)?void 0:n.sub)?r.info("success, signed in subject",l.profile.sub):r.info("no subject")),l}async _useRefreshToken(e){const t=await this._client.useRefreshToken(o({timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds},e)),n=new Pn(o(o({},e.state),t));return await this.storeUser(n),await this._events.load(n),n}async signinSilentCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":await this.signinPopupCallback(e);break;case"si:s":await this.signinSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async signoutCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{state:n}=await this._client.readSignoutResponseState(e);if(n)switch(n.request_type){case"so:r":return await this.signoutRedirectCallback(e);case"so:p":await this.signoutPopupCallback(e,t);break;case"so:s":await this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:n}=e,r=u(e,Dt),a=this.settings.silent_redirect_uri;a||t.throw(new Error("No silent_redirect_uri configured"));const i=await this._loadUser(),s=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n}),l=await this._signinStart(o({request_type:"si:s",redirect_uri:a,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==i?void 0:i.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0},r),s);try{const e={},n=await this._client.processSigninResponse(l.url,e);return t.debug("got signin response"),n.session_state&&n.profile.sub?(t.info("success for subject",n.profile.sub),{session_state:n.session_state,sub:n.profile.sub}):(t.info("success, user not authenticated"),null)}catch(c){if(this.settings.monitorAnonymousSession&&c instanceof Zt)switch(c.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:c.session_state}}throw c}}async _signin(e,t,n){const r=await this._signinStart(e,t);return await this._signinEnd(r.url,n)}async _signinStart(e,t){const n=this._logger.create("_signinStart");try{const r=await this._client.createSigninRequest(e);return n.debug("got signin request"),await t.navigate({url:r.url,state:r.state.id,response_mode:r.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(r){throw n.debug("error after preparing navigator, closing navigator window"),t.close(),r}}async _signinEnd(e,t){const n=this._logger.create("_signinEnd"),r=await this._client.processSigninResponse(e,{});n.debug("got signin response");return await this._buildUser(r,t)}async _buildUser(e,t){const n=this._logger.create("_buildUser"),r=new Pn(e);if(t){if(t!==r.profile.sub)throw n.debug("current user does not match user returned from signin. sub from signin:",r.profile.sub),new Zt(o(o({},e),{},{error:"login_required"}));n.debug("current user matches user returned from signin")}return await this.storeUser(r),n.debug("user stored"),await this._events.load(r),r}async signoutRedirect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._logger.create("signoutRedirect"),{redirectMethod:n}=e,r=u(e,Ot),a=await this._redirectNavigator.prepare({redirectMethod:n});await this._signoutStart(o({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri},r),a),t.info("success")}async signoutRedirectCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const t=this._logger.create("signoutRedirectCallback"),n=await this._signoutEnd(e);return t.info("success"),n}async signoutPopup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._logger.create("signoutPopup"),{popupWindowFeatures:n,popupWindowTarget:r,popupSignal:a}=e,i=u(e,Lt),s=this.settings.popup_post_logout_redirect_uri,l=await this._popupNavigator.prepare({popupWindowFeatures:n,popupWindowTarget:r,popupSignal:a});await this._signout(o({request_type:"so:p",post_logout_redirect_uri:s,state:null==s?void 0:{}},i),l),t.info("success")}async signoutPopupCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async _signout(e,t){const n=await this._signoutStart(e,t);return await this._signoutEnd(n.url)}async _signoutStart(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;const r=this._logger.create("_signoutStart");try{const a=await this._loadUser();r.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(a);const i=e.id_token_hint||a&&a.id_token;i&&(r.debug("setting id_token_hint in signout request"),e.id_token_hint=i),await this.removeUser(),r.debug("user removed, creating signout request");const s=await this._client.createSignoutRequest(e);return r.debug("got signout request"),await t.navigate({url:s.url,state:null==(n=s.state)?void 0:n.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(a){throw r.debug("error after preparing navigator, closing navigator window"),t.close(),a}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),n=await this._client.processSignoutResponse(e);return t.debug("got signout response"),n}async signoutSilent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const n=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:r}=e,a=u(e,Ut),i=this.settings.includeIdTokenInSilentSignout?null==(t=await this._loadUser())?void 0:t.id_token:void 0,s=this.settings.popup_post_logout_redirect_uri,l=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r});await this._signout(o({request_type:"so:s",post_logout_redirect_uri:s,id_token_hint:i},a),l),n.info("success")}async signoutSilentCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const t=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.settings.revokeTokenTypes;const n=this._logger.create("_revokeInternal");if(!e)return;const r=t.filter(t=>"string"===typeof e[t]);if(r.length){for(const t of r)await this._client.revokeToken(e[t],t),n.info("".concat(t," revoked successfully")),"access_token"!==t&&(e[t]=null);await this.storeUser(e),n.debug("user stored"),await this._events.load(e)}else n.debug("no need to revoke due to no token(s)")}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return"user:".concat(this.settings.authority,":").concat(this.settings.client_id)}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),Pn.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const n=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,n)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey),this.settings.dpop&&await this.settings.dpop.store.remove(this.settings.client_id)}async clearStaleState(){await this._client.clearStaleState()}async dpopProof(e,t,n,r){var a,i;const s=await(null==(i=null==(a=this.settings.dpop)?void 0:a.store)?void 0:i.get(this.settings.client_id));if(s)return await Kt.generateDPoPProof({url:e,accessToken:null==t?void 0:t.access_token,httpMethod:n,keyPair:s.keys,nonce:r})}async generateDPoPJkt(e){let t=await e.store.get(this.settings.client_id);if(!t){const n=await Kt.generateDPoPKeys();t=new jn(n),await e.store.set(this.settings.client_id,t)}return await Kt.generateDPoPJkt(t.keys)}},lr=e=>{const{children:t,onSigninCallback:n,skipSigninCallback:r,matchSignoutCallback:a,onSignoutCallback:i,onRemoveUser:s,userManager:c=null}=e,d=u(e,Kn),[h]=l.useState(()=>null!=c?c:or?new or(d):{settings:d}),[p,f]=l.useReducer(Gn,Qn),m=l.useMemo(()=>Object.assign({settings:h.settings,events:h.events},Object.fromEntries(ar.map(e=>{var t,n;return[e,null!=(n=null==(t=h[e])?void 0:t.bind(h))?n:sr(e)]})),Object.fromEntries(ir.map(e=>[e,h[e]?async t=>{f({type:"NAVIGATOR_INIT",method:e});try{return await h[e](t)}catch(n){return f({type:"ERROR",error:o(o({},tr(n,"Unknown error while executing ".concat(e,"(...)."))),{},{source:e,args:t})}),null}finally{f({type:"NAVIGATOR_CLOSE"})}}:sr(e)]))),[h]),g=l.useRef(!1);l.useEffect(()=>{h&&!g.current&&(g.current=!0,(async()=>{try{let e=null;Yn()&&!r&&(e=await h.signinCallback(),n&&await n(e)),e=e||await h.getUser(),f({type:"INITIALISED",user:e})}catch(e){f({type:"ERROR",error:Xn(e)})}try{if(a&&a(h.settings)){const e=await h.signoutCallback();i&&await i(e)}}catch(e){f({type:"ERROR",error:Zn(e)})}})())},[h,r,n,i,a]),l.useEffect(()=>{if(!h)return;const e=e=>{f({type:"USER_LOADED",user:e})};h.events.addUserLoaded(e);const t=()=>{f({type:"USER_UNLOADED"})};h.events.addUserUnloaded(t);const n=()=>{f({type:"USER_SIGNED_OUT"})};h.events.addUserSignedOut(n);const r=e=>{f({type:"ERROR",error:er(e)})};return h.events.addSilentRenewError(r),()=>{h.events.removeUserLoaded(e),h.events.removeUserUnloaded(t),h.events.removeUserSignedOut(n),h.events.removeSilentRenewError(r)}},[h]);const v=l.useCallback(async()=>{h||sr("removeUser"),await h.removeUser(),s&&await s()},[h,s]),y=l.useMemo(()=>o(o(o({},p),m),{},{removeUser:v}),[p,m,v]);return l.createElement(Jn.Provider,{value:y},t)},cr=()=>{const e=l.useContext(Jn);return e||console.warn("AuthProvider context is undefined, please verify you are calling useAuth() as child of a <AuthProvider> component."),e};const ur="http://localhost:8080/Api-user";class dr{static setToken(e){this.token=e,localStorage.setItem("uplearn_token",e)}static getToken(){return this.token||(this.token=localStorage.getItem("uplearn_token")),this.token}static clearToken(){this.token=null,localStorage.removeItem("uplearn_token")}static setCognitoToken(e){this.token=e,localStorage.setItem("uplearn_cognito_token",e)}static getCognitoToken(){return localStorage.getItem("uplearn_cognito_token")||this.token}static decodeToken(){const e=this.getToken();if(!e)return null;try{const t=e.split(".")[1];return JSON.parse(atob(t.replace(/-/g,"+").replace(/_/g,"/")))}catch(ba){return console.error("Error decoding token:",ba),null}}static getCurrentUser(){const e=this.decodeToken();return e&&e?{userId:e.sub,role:e.role}:null}static async login(e,t){try{const n=await fetch("".concat(ur,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,password:t})});if(!n.ok){const e=await n.text();throw console.error("Error del servidor:",e),new Error("HTTP error! status: ".concat(n.status))}const r=await n.json();return r.authenticated&&r.token&&this.setToken(r.token),r}catch(n){throw console.error("Error en login:",n),new Error("Error de conexi\xf3n. Verifica que el servidor est\xe9 disponible.")}}static logout(){this.clearToken()}static async getStudentProfile(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.getToken();if(!e)throw new Error("No hay token de autenticaci\xf3n");try{const t=await fetch("".concat(ur,"/student/profile"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!t.ok){const e=await t.text();throw console.error("Error del servidor:",e),new Error(e||"HTTP error! status: ".concat(t.status))}return await t.json()}catch(t){throw console.error("Error obteniendo perfil de estudiante:",t),t}}static async updateStudentProfile(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||this.getToken();if(!t)throw new Error("No hay token de autenticaci\xf3n");try{const n=await fetch("".concat(ur,"/student/profile"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(!n.ok){const e=await n.text();throw console.error("Error del servidor:",e),new Error(e||"HTTP error! status: ".concat(n.status))}return await n.json()}catch(n){throw console.error("Error actualizando perfil de estudiante:",n),n}}static async removeStudentRole(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.getToken();if(!e)throw new Error("No hay token de autenticaci\xf3n");try{const t=await fetch("".concat(ur,"/student/profile"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!t.ok){const e=await t.text();throw console.error("Error del servidor:",e),new Error(e||"HTTP error! status: ".concat(t.status))}const n=await t.json();return n.userDeleted&&this.clearToken(),n}catch(t){throw console.error("Error eliminando rol de estudiante:",t),t}}static async getTutorProfile(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.getToken();if(!e)throw new Error("No hay token de autenticaci\xf3n");try{const t=await fetch("".concat(ur,"/tutor/profile"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!t.ok){const e=await t.text();throw console.error("Error del servidor:",e),new Error(e||"HTTP error! status: ".concat(t.status))}return await t.json()}catch(t){throw console.error("Error obteniendo perfil de tutor:",t),t}}static async updateTutorProfile(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||this.getToken();if(!t)throw new Error("No hay token de autenticaci\xf3n");try{const n=await fetch("".concat(ur,"/tutor/profile"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(!n.ok){const e=await n.text();throw console.error("Error del servidor:",e),new Error(e||"HTTP error! status: ".concat(n.status))}return await n.json()}catch(n){throw console.error("Error actualizando perfil de tutor:",n),n}}static async removeTutorRole(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.getToken();if(!e)throw new Error("No hay token de autenticaci\xf3n");try{const t=await fetch("".concat(ur,"/tutor/profile"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!t.ok){const e=await t.text();throw console.error("Error del servidor:",e),new Error(e||"HTTP error! status: ".concat(t.status))}const n=await t.json();return n.userDeleted&&this.clearToken(),n}catch(t){throw console.error("Error eliminando rol de tutor:",t),t}}static async getAllUsers(){const e=this.getToken();try{const t=await fetch("".concat(ur,"/users"),{method:"GET",headers:o({"Content-Type":"application/json"},e?{Authorization:"Bearer ".concat(e)}:{})});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return t.json()}catch(t){throw console.error("Error obteniendo usuarios:",t),t}}static async getUserById(e){const t=this.getToken();try{const n=await fetch("".concat(ur,"/users/").concat(e),{method:"GET",headers:o({"Content-Type":"application/json"},t?{Authorization:"Bearer ".concat(t)}:{})});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return n.json()}catch(n){throw console.error("Error obteniendo usuario:",n),n}}static async processCognitoUser(e){try{const t=await fetch("".concat(ur,"/process-cognito-user"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});if(!t.ok){const e=await t.text();throw console.error("Error del servidor procesando Cognito:",e),new Error(e||"HTTP error! status: ".concat(t.status))}return await t.json()}catch(t){throw console.error("Error procesando usuario de Cognito:",t),t}}static async saveUserRole(e,t){try{const n=Array.isArray(t)?t:[t],r=await fetch("".concat(ur,"/save-user-role"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({roles:n})});if(!r.ok){const e=await r.text();throw console.error("Error del servidor guardando roles:",e),new Error(e||"HTTP error! status: ".concat(r.status))}return await r.json()}catch(n){throw console.error("Error guardando roles de usuario:",n),n}}static async getMyRoles(e){try{const t=await fetch("".concat(ur,"/my-roles"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!t.ok){const e=await t.text();throw console.error("Error del servidor obteniendo roles:",e),new Error(e||"HTTP error! status: ".concat(t.status))}return await t.json()}catch(t){throw console.error("Error obteniendo roles del usuario:",t),t}}static async getProfileStatus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=t?"".concat(ur,"/profile-status?role=").concat(t):"".concat(ur,"/profile-status"),r=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!r.ok){const e=await r.text();throw console.error("Error del servidor obteniendo estado del perfil:",e),new Error(e||"HTTP error! status: ".concat(r.status))}return await r.json()}catch(n){throw console.error("Error obteniendo estado del perfil:",n),n}}static async addRoleToUser(e,t,n){try{const r=await fetch("".concat(ur,"/add-role"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({userId:t,role:n})});if(!r.ok){const e=await r.text();throw console.error("Error del servidor a\xf1adiendo rol:",e),new Error(e||"HTTP error! status: ".concat(r.status))}return await r.json()}catch(r){throw console.error("Error a\xf1adiendo rol al usuario:",r),r}}static async uploadTutorCredentials(e,t){if(!e)throw new Error("No hay token de autenticaci\xf3n");if(!t||0===t.length)throw new Error("Debe seleccionar al menos un archivo");const n=new FormData;t.forEach(e=>n.append("files",e));try{const t=await fetch("".concat(ur,"/tutor/credentials"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:n});if(!t.ok){const e=await t.text();throw console.error("Error subiendo credenciales:",e),new Error(e||"HTTP error! status: ".concat(t.status))}return t.json()}catch(r){throw console.error("Error en uploadTutorCredentials:",r),r}}static async deleteTutorCredentials(e,t){if(!e)throw new Error("No hay token de autenticaci\xf3n");if(!t||0===t.length)throw new Error("Debe proporcionar al menos una URL para eliminar");try{const n=await fetch("".concat(ur,"/tutor/credentials"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({urls:t})});if(!n.ok){const e=await n.text();throw console.error("Error eliminando credenciales:",e),new Error(e||"HTTP error! status: ".concat(n.status))}return n.json()}catch(n){throw console.error("Error en deleteTutorCredentials:",n),n}}}dr.token=null;const hr=dr;let pr=null,fr=!1,mr=null,gr=null;const vr=()=>{pr=null,fr=!1,mr=null,gr=null},yr=()=>{var e;const t=cr(),[n,r]=(me(),(0,l.useState)(()=>pr&&pr.isAuthenticated&&!pr.isLoading?pr:{isLoading:!0,isAuthenticated:!1,needsRoleSelection:!1,userRoles:null,error:null}));return(0,l.useEffect)(()=>{const e=async()=>{try{var e,n;const r=null===(e=t.user)||void 0===e?void 0:e.id_token;if(!r)throw new Error("Token de Cognito no disponible");const a=await hr.processCognitoUser(r),i=null===(n=a.user)||void 0===n?void 0:n.roles,s=!i||0===i.length||Array.isArray(i)&&i.every(e=>!e||""===e.trim())||null===i||void 0===i;if(a.isNewUser||s)return{isLoading:!1,isAuthenticated:!0,needsRoleSelection:!0,userRoles:null,error:null};return{isLoading:!1,isAuthenticated:!0,needsRoleSelection:!1,userRoles:a.user.roles,error:null}}catch(r){throw console.error("Error procesando flujo de autenticaci\xf3n:",r),r}};(async()=>{var n;const a=null===(n=t.user)||void 0===n?void 0:n.id_token;if(!t.isAuthenticated||!a){const e={isLoading:!1,isAuthenticated:!1,needsRoleSelection:!1,userRoles:null,error:null};return r(e),pr=e,void(gr=null)}if(pr&&pr.isAuthenticated&&!pr.isLoading&&gr===a)r(pr);else{if(gr&&gr!==a&&vr(),fr&&mr&&gr===a)try{const e=await mr;return void r(e)}catch(i){console.error("Error esperando proceso:",i)}fr=!0,gr=a,mr=e();try{const e=await mr;r(e),pr=e}catch(i){console.error("Error en el flujo de autenticaci\xf3n:",i);const e={isLoading:!1,isAuthenticated:!1,needsRoleSelection:!1,userRoles:null,error:i instanceof Error?i.message:"Error de autenticaci\xf3n"};r(e),pr=e}finally{fr=!1,mr=null}}})()},[t.isAuthenticated,null===(e=t.user)||void 0===e?void 0:e.id_token]),o(o({},n),{},{auth:t})};var br=n(579);const wr=()=>{var e,t;const n=me(),r=cr(),{userRoles:a,isAuthenticated:i}=yr();return r.isLoading?(0,br.jsx)("div",{className:"home-container",children:(0,br.jsxs)("div",{className:"content",children:[(0,br.jsx)("h1",{className:"title",children:"Cargando..."}),(0,br.jsx)("p",{className:"subtitle",children:"Verificando estado de autenticaci\xf3n..."})]})}):(0,br.jsx)("div",{className:"home-container",children:(0,br.jsxs)("div",{className:"content",children:[(0,br.jsx)("h1",{className:"title",children:"Bienvenido a UpLearn"}),(0,br.jsx)("p",{className:"subtitle",children:"Tu plataforma de aprendizaje online"}),r.isAuthenticated?(0,br.jsxs)("div",{className:"authenticated-section",children:[(0,br.jsxs)("div",{className:"user-info",children:[(0,br.jsxs)("p",{className:"welcome-message",children:["\xa1Hola, ",(null===(e=r.user)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.email)||"Usuario","! \ud83d\udc4b"]}),(0,br.jsxs)("p",{className:"auth-status",children:["Estado: ",(0,br.jsx)("strong",{children:"Autenticado con AWS Cognito"})]})]}),(0,br.jsxs)("div",{className:"buttons-container",children:[(0,br.jsx)("button",{className:"btn btn-dashboard",onClick:()=>{if(i&&a&&a.length>0){const e=a.includes("student")?"/student-dashboard":"/tutor-dashboard";n(e)}else n("/login")},children:"Ir al Dashboard"}),(0,br.jsx)("button",{className:"btn btn-logout",onClick:async()=>{r.removeUser();window.location.href="".concat("https://us-east-18mvprkbvu.auth.us-east-1.amazoncognito.com","/logout?client_id=").concat("342s18a96gl2pbaroorqh316l8","&logout_uri=").concat(encodeURIComponent("http://localhost:3000"))},children:"Cerrar Sesi\xf3n"})]})]}):(0,br.jsxs)("div",{className:"buttons-container",children:[(0,br.jsx)("button",{className:"btn btn-login",onClick:()=>{r.signinRedirect()},children:"Iniciar Sesi\xf3n"}),(0,br.jsx)("button",{className:"btn btn-register",onClick:()=>{r.signinRedirect({extraQueryParams:{signup:"true"}})},children:"Registrarse"})]}),r.error&&(0,br.jsxs)("div",{className:"error-info",children:[(0,br.jsx)("h3",{children:"Error de Autenticaci\xf3n"}),(0,br.jsx)("p",{children:r.error.message})]})]})})},xr=()=>{var e,t,n,r;const a=cr(),i=he(),[s,o]=(0,l.useState)(null),[c,u]=(0,l.useState)(!0),[d,h]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{var e;if(!a.isAuthenticated||null===(e=a.user)||void 0===e||!e.id_token)return console.log("\ud83d\udd0d useProfileStatus: No autenticado o sin token"),void u(!1);try{let e;u(!0),h(null),i.pathname.includes("/student-dashboard")?e="STUDENT":i.pathname.includes("/tutor-dashboard")&&(e="TUTOR"),console.log("\ud83d\udd0d useProfileStatus: Verificando estado del perfil...",e?"para rol: ".concat(e):"sin rol espec\xedfico");const t=await hr.getProfileStatus(a.user.id_token,e);console.log("\u2705 useProfileStatus: Estado recibido:",t),o(t)}catch(t){console.error("\u274c useProfileStatus: Error verificando estado del perfil:",t),h(t instanceof Error?t.message:"Error verificando el perfil")}finally{u(!1)}})()},[a.isAuthenticated,null===(e=a.user)||void 0===e?void 0:e.id_token,i.pathname]);const p={profileStatus:s,isLoading:c,error:d,isProfileComplete:null===(t=null!==(n=null===s||void 0===s?void 0:s.complete)&&void 0!==n?n:null===s||void 0===s?void 0:s.isComplete)||void 0===t||t,missingFields:null!==(r=null===s||void 0===s?void 0:s.missingFields)&&void 0!==r?r:null};return console.log("\ud83d\udcca useProfileStatus: Retornando resultado:",p),p};const _r=class{static async searchTutors(e){try{const t="".concat("http://localhost:8080/Api-search","/tutors?q=").concat(encodeURIComponent(e||"")),n=await fetch(t,{method:"GET"});if(!n.ok)throw new Error("Error buscando tutores");return await n.json()}catch(t){throw console.error("ApiSearchService.searchTutors error:",t),t}}},Sr=({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SCHEDULER_API_BASE||"http://localhost:8090").replace(/\/$/,"");function kr(e){const t=(null!==e&&void 0!==e?e:"").trim(),n=/^(\d{1,2}):(\d{2})/.exec(t);return n?"".concat(n[1].padStart(2,"0"),":").concat(n[2]):t.slice(0,5)}function Er(e){const t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(e)),t}async function Nr(e){if(!e.ok){var t,n,r;let i=null;try{i=await e.json()}catch(a){i=await e.text().catch(()=>null)}const s="string"===typeof i?i:(null===(t=i)||void 0===t?void 0:t.message)||(null===(n=i)||void 0===n?void 0:n.error)||(null===(r=i)||void 0===r?void 0:r.path)||"HTTP ".concat(e.status);throw new Error(s)}return 204===e.status?null:e.json()}function jr(e,t){const n=new Date;return n.setSeconds(0,0),function(e,t){const[n,r]=kr(t).split(":").map(Number),a=new Date("".concat(e,"T00:00:00"));return a.setHours(n,r,0,0),a}(e,t).getTime()<n.getTime()}function Cr(e){return"ACTIVA"===e?"PENDIENTE":null!==e&&void 0!==e?e:null}function Tr(e){const t=(null!==e&&void 0!==e?e:"").toUpperCase();switch(t){case"PENDIENTE":case"ACEPTADO":case"CANCELADO":case"ACTIVA":case"INCUMPLIDA":case"FINALIZADA":return t;default:return"PENDIENTE"}}async function Pr(e,t,n){const r="".concat(Sr,"/api/schedule/tutor/").concat(encodeURIComponent(e),"?weekStart=").concat(t),a=await fetch(r,{method:"GET",headers:Er(n)}),i=await Nr(a),s={ACEPTADO:4,PENDIENTE:3,ACTIVA:3,DISPONIBLE:2,CANCELADO:1,VENCIDA:0,INCUMPLIDA:0,FINALIZADA:0},l=e=>{var t;return e&&null!==(t=s[e])&&void 0!==t?t:0},c=new Map;for(const d of i){const e=kr(d.hour),t="".concat(d.date,"_").concat(e),n=c.get(t),r=o(o({},d),{},{hour:e,status:Cr(d.status)});(!n||l(r.status)>=l(n.status))&&c.set(t,r)}const u=[];for(const d of Array.from(c.values()))"CANCELADO"!==d.status?"DISPONIBLE"===d.status&&jr(d.date,d.hour)?u.push(o(o({},d),{},{status:"VENCIDA"})):u.push(d):u.push(o(o({},d),{},{status:null,reservationId:null,studentId:null}));return u}async function Rr(e,t){const n="".concat(Sr,"/api/reservations/").concat(e,"/cancel"),r=await fetch(n,{method:"PATCH",headers:Er(t)}),a=await Nr(r);return a.status=Tr(a.status),a}async function Ir(e,t,n){const r="".concat(Sr,"/api/availability/add");return Nr(await fetch(r,{method:"POST",headers:Er(n),body:JSON.stringify({date:e,hours:t})}))}async function Ar(e,t){const n="".concat(Sr,"/api/availability/day/").concat(e),r=await fetch(n,{method:"PUT",headers:Er(t),body:JSON.stringify({hours:[]})});await Nr(r)}const Dr=e=>{let{currentRole:t,className:n="",asMenuItem:r=!1}=e;const{switchToDashboard:a,canSwitchTo:i,isLoading:s,error:o}=(()=>{const e=me(),t=cr(),[n,r]=(0,l.useState)(!1),[a,i]=(0,l.useState)("");return{switchToDashboard:async n=>{var s;if(null===(s=t.user)||void 0===s||!s.id_token)return i("No hay token de autenticaci\xf3n disponible"),!1;r(!0),i("");try{return((await hr.getMyRoles(t.user.id_token)).roles||[]).includes(n)?(e("student"===n?"/student-dashboard":"/tutor-dashboard"),!0):(i("No tienes permisos para acceder como ".concat("student"===n?"estudiante":"tutor")),!1)}catch(a){return console.error("Error cambiando dashboard:",a),i(a instanceof Error?a.message:"Error al cambiar de dashboard"),!1}finally{r(!1)}},canSwitchTo:async e=>{var n;if(null===(n=t.user)||void 0===n||!n.id_token)return!1;try{return((await hr.getMyRoles(t.user.id_token)).roles||[]).includes(e)}catch(a){return console.error("Error verificando roles:",a),!1}},isLoading:n,error:a}})(),[c,u]=(0,l.useState)(!1),d="student"===t?"tutor":"student",h="student"===d?"Estudiante":"Tutor",p="student"===d?"\ud83d\udcda":"\ud83d\udc68\u200d\ud83c\udfeb";(0,l.useEffect)(()=>{const e=async()=>{const e=await i(d);u(e)};e();const t=setInterval(e,2e3);return()=>clearInterval(t)},[d,i]);const f=async()=>{await a(d)};return c?r?(0,br.jsxs)("button",{className:"dropdown-item ".concat(n),onClick:f,disabled:s,children:[(0,br.jsx)("span",{children:p})," ",s?"Cambiando...":"Ir a ".concat(h)]}):(0,br.jsxs)("div",{className:"dashboard-switch-container",children:[(0,br.jsxs)("button",{className:"dashboard-switch-btn ".concat(n),onClick:f,disabled:s,title:"Cambiar a dashboard de ".concat(h),children:[(0,br.jsx)("span",{className:"switch-icon",children:p}),(0,br.jsx)("span",{className:"switch-text",children:s?"Cambiando...":"Ir a ".concat(h)})]}),o&&(0,br.jsx)("div",{className:"switch-error",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:o})]}):null},Or=e=>{let{currentRole:t,className:n="",asMenuItem:r=!1}=e;const{addRole:a,canAddRole:i,isLoading:s,error:o,success:c,clearMessages:u}=(()=>{const e=cr(),[t,n]=(0,l.useState)(!1),[r,a]=(0,l.useState)(""),[i,s]=(0,l.useState)("");return{addRole:async t=>{var i,o,l;if(null===(i=e.user)||void 0===i||!i.id_token)return a("No hay token de autenticaci\xf3n disponible"),!1;if(null===(o=e.user)||void 0===o||null===(l=o.profile)||void 0===l||!l.sub)return a("No se pudo obtener el ID del usuario"),!1;n(!0),a(""),s("");try{return((await hr.getMyRoles(e.user.id_token)).roles||[]).includes(t)?(a("Ya tienes el rol de ".concat("student"===t?"estudiante":"tutor")),!1):(await hr.addRoleToUser(e.user.id_token,e.user.profile.sub,t),s("\xa1Ahora tambi\xe9n eres ".concat("student"===t?"estudiante":"tutor","! Puedes cambiar entre dashboards.")),vr(),!0)}catch(r){return console.error("Error a\xf1adiendo rol:",r),a(r instanceof Error?r.message:"Error al a\xf1adir el rol"),!1}finally{n(!1)}},canAddRole:async t=>{var n;if(null===(n=e.user)||void 0===n||!n.id_token)return!1;try{return!((await hr.getMyRoles(e.user.id_token)).roles||[]).includes(t)}catch(r){return console.error("Error verificando roles:",r),!1}},isLoading:t,error:r,success:i,clearMessages:()=>{a(""),s("")}}})(),[d,h]=(0,l.useState)(!1),[p,f]=(0,l.useState)(!1),m="student"===t?"tutor":"student",g="student"===m?"Estudiante":"Tutor",v="student"===m?"\ud83d\udcda":"\ud83d\udc68\u200d\ud83c\udfeb";(0,l.useEffect)(()=>{(async()=>{const e=await i(m);h(e)})()},[m,i]);const y=async()=>{const e=await a(m);if((e||o)&&(f(!0),setTimeout(()=>{f(!1),u()},5e3),e)){const e=await i(m);h(e)}};return d?r?(0,br.jsxs)("button",{className:"dropdown-item ".concat(n),onClick:y,disabled:s,children:[(0,br.jsx)("span",{children:v})," ",s?"A\xf1adiendo...":"Ser ".concat(g)]}):(0,br.jsxs)("div",{className:"add-role-container",children:[(0,br.jsxs)("button",{className:"add-role-btn ".concat(n),onClick:y,disabled:s,title:"Convertirte tambi\xe9n en ".concat(g),children:[(0,br.jsx)("span",{className:"add-role-icon",children:v}),(0,br.jsx)("span",{className:"add-role-text",children:s?"A\xf1adiendo...":"Ser ".concat(g)})]}),p&&(c||o)&&(0,br.jsx)("div",{className:"add-role-message ".concat(c?"success":"error"),children:(0,br.jsxs)("div",{className:"message-content",children:[(0,br.jsx)("span",{className:"message-icon",children:c?"\u2705":"\u274c"}),(0,br.jsx)("span",{className:"message-text",children:c||o}),(0,br.jsx)("button",{className:"message-close",onClick:()=>{f(!1),u()},title:"Cerrar mensaje",children:"\xd7"})]})})]}):null},Lr=e=>{let{missingFields:t,currentRole:n,onDismiss:r}=e;const a=me();console.log("\ud83d\udd14 ProfileIncompleteNotification: Renderizando con:",{missingFields:t,currentRole:n,hasMissingFields:t&&t.length>0});return(0,br.jsx)("div",{className:"profile-incomplete-notification",children:(0,br.jsxs)("div",{className:"notification-content",children:[(0,br.jsxs)("div",{className:"notification-text",children:[(0,br.jsx)("h3",{children:"Perfil Incompleto"}),(0,br.jsx)("p",{children:"Por favor completa tu perfil para aprovechar todas las funcionalidades."})]}),(0,br.jsxs)("div",{className:"notification-actions",children:[r&&(0,br.jsx)("button",{className:"btn-dismiss",onClick:r,title:"Recordar m\xe1s tarde",children:"\u2715"}),(0,br.jsx)("button",{className:"btn-complete-profile",onClick:()=>{a("/edit-profile",{state:{currentRole:n}})},children:"Completar Perfil"})]})]})})},Ur={},zr={SCHEDULER_BASE:Ur.VITE_SCHEDULER_BASE_URL||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SCHEDULER_API_BASE||"http://localhost:8090",USERS_BASE:Ur.VITE_USERS_BASE_URL||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_USER_API_BASE||"http://localhost:8080/Api-user",USERS_PROFILE_PATH:Ur.VITE_USERS_PROFILE_PATH||"/public/profile"};function Mr(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)}function Fr(e,t){const n=new Date(e+"T00:00:00");return n.setDate(n.getDate()+t),Mr(n)}const Hr=e=>{var t,n;let{currentUser:r,activeSection:a="none",onSectionChange:i=()=>{}}=e;const s=me(),o=cr(),[c,u]=(0,l.useState)(!1);return(0,br.jsx)("header",{className:"dashboard-header",children:(0,br.jsxs)("div",{className:"header-content",children:[(0,br.jsx)("div",{className:"logo",children:(0,br.jsx)("h2",{children:"UpLearn Student"})}),(0,br.jsxs)("nav",{className:"main-nav",children:[(0,br.jsxs)("button",{className:"nav-item ".concat("dashboard"===a?"active":""),onClick:()=>i("dashboard"),children:[(0,br.jsx)("span",{children:"\ud83d\udcca"})," Dashboard"]}),(0,br.jsxs)("button",{className:"nav-item ".concat("find-tutors"===a?"active":""),onClick:()=>i("find-tutors"),children:[(0,br.jsx)("span",{children:"\ud83d\udd0d"})," Buscar Tutores"]}),(0,br.jsxs)("button",{className:"nav-item ".concat("my-reservations"===a?"active":""),onClick:()=>i("my-reservations"),children:[(0,br.jsx)("span",{children:"\ud83d\uddd3\ufe0f"})," Mis Reservas"]}),(0,br.jsxs)("button",{className:"nav-item ".concat("my-tasks"===a?"active":""),onClick:()=>i("my-tasks"),children:[(0,br.jsx)("span",{children:"\ud83d\udccb"})," Mis Tareas"]}),(0,br.jsxs)("button",{className:"nav-item ".concat("post-task"===a?"active":""),onClick:()=>i("post-task"),children:[(0,br.jsx)("span",{children:"\u2795"})," Publicar Tarea"]})]}),(0,br.jsx)("div",{className:"header-actions",style:{display:"flex",alignItems:"center",gap:"12px"},children:(0,br.jsxs)("div",{className:"user-menu-container",children:[(0,br.jsxs)("button",{className:"user-avatar",onClick:()=>u(!c),children:[(0,br.jsx)("span",{className:"avatar-icon",children:"\ud83d\udc64"}),(0,br.jsx)("span",{className:"user-name",children:null!==(t=null===r||void 0===r?void 0:r.name)&&void 0!==t?t:"Usuario"}),(0,br.jsx)("span",{className:"dropdown-arrow",children:"\u25bc"})]}),c&&(0,br.jsxs)("div",{className:"user-dropdown",children:[(0,br.jsxs)("div",{className:"user-info",children:[(0,br.jsx)("p",{className:"user-email",children:null!==(n=null===r||void 0===r?void 0:r.email)&&void 0!==n?n:"No email"}),(0,br.jsxs)("p",{className:"user-role",children:["Estudiante",null!==r&&void 0!==r&&r.educationLevel?" - ".concat(r.educationLevel):""]})]}),(0,br.jsx)("div",{className:"dropdown-divider"}),(0,br.jsxs)("button",{className:"dropdown-item",onClick:()=>{s("/edit-profile",{state:{currentRole:"student"}})},children:[(0,br.jsx)("span",{children:"\u270f\ufe0f"})," Editar Perfil"]}),(0,br.jsx)(Or,{currentRole:"student",asMenuItem:!0}),(0,br.jsx)(Dr,{currentRole:"student",asMenuItem:!0}),(0,br.jsxs)("button",{className:"dropdown-item logout",onClick:async()=>{o.removeUser();globalThis.location.href="".concat("https://us-east-1splan606f.auth.us-east-1.amazoncognito.com","/logout?client_id=").concat("lmk8qk12er8t8ql9phit3u12e","&logout_uri=").concat(encodeURIComponent("http://localhost:3000"))},children:[(0,br.jsx)("span",{children:"\ud83d\udeaa"})," Cerrar Sesi\xf3n"]})]})]})})]})})},Br=()=>{var e;const t=me(),n=cr(),[r,a]=(0,l.useState)(void 0);(0,l.useEffect)(()=>{if(n.isAuthenticated&&n.user){var e,t;const r=null===(e=n.user)||void 0===e?void 0:e.id_token,i=null===(t=n.user)||void 0===t?void 0:t.access_token;a(null!==r&&void 0!==r?r:i)}else a(void 0)},[n.isAuthenticated,n.user]);const{userRoles:i,isAuthenticated:s,needsRoleSelection:c}=yr(),{isProfileComplete:u,missingFields:d}=xr(),[h,p]=(0,l.useState)(!0),[f,m]=(0,l.useState)(null),[g,v]=(0,l.useState)("dashboard"),[y,b]=(0,l.useState)(""),[w,x]=(0,l.useState)([]),[_,S]=(0,l.useState)(!1),[k,E]=(0,l.useState)(""),[N,j]=(0,l.useState)(()=>function(e){const t=new Date(e+"T00:00:00"),n=t.getDay(),r=(0===n?-6:1)-n;return t.setDate(t.getDate()+r),Mr(t)}(Mr(new Date))),[C,T]=(0,l.useState)([]),[P,R]=(0,l.useState)(!1),[I,A]=(0,l.useState)(!1),[D,O]=(0,l.useState)([{id:"1",title:"Tarea de C\xe1lculo",description:"Resolver ejercicios de derivadas",subject:"Matem\xe1ticas",dueDate:"2025-10-01",priority:"high",status:"pending"},{id:"2",title:"Proyecto de Programaci\xf3n",description:"Crear una aplicaci\xf3n web con React",subject:"Programaci\xf3n",dueDate:"2025-10-05",priority:"medium",status:"in_progress"}]),[L,U]=(0,l.useState)({title:"",description:"",subject:"",dueDate:"",priority:"medium"}),z=zr.USERS_BASE,M=zr.USERS_PROFILE_PATH;(0,l.useEffect)(()=>{var e,r,a,o;null!==s&&null!==i&&(s?c?t("/role-selection"):null!==i&&void 0!==i&&i.includes("student")?n.user&&m({userId:(null===(e=n.user.profile)||void 0===e?void 0:e.sub)||"unknown",name:(null===(r=n.user.profile)||void 0===r?void 0:r.name)||(null===(a=n.user.profile)||void 0===a?void 0:a.nickname)||"Usuario",email:(null===(o=n.user.profile)||void 0===o?void 0:o.email)||"No email",role:"student"}):t("/"):t("/login"))},[s,i,c,t,n.user]);const[F,H]=(0,l.useState)({}),B=async()=>{if(!r)return;const e=N,t=Fr(N,6);try{R(!0);const n=await async function(e,t,n){const r="".concat(Sr,"/api/reservations/my?from=").concat(e,"&to=").concat(t),a=await fetch(r,{method:"GET",headers:Er(n)});return(await Nr(a)).map(e=>o(o({},e),{},{status:Tr(e.status)}))}(e,t,r);T(n)}catch(ba){console.error("getMyReservations fall\xf3:",(null===ba||void 0===ba?void 0:ba.message)||ba),T([])}finally{R(!1)}};(0,l.useEffect)(()=>{"my-reservations"===g&&r&&B()},[g,r,N]),(0,l.useEffect)(()=>{const e=Array.from(new Set(C.filter(e=>!e.tutorName||""===e.tutorName.trim()).map(e=>e.tutorId).filter(Boolean))).filter(e=>!F[e]);if(0===e.length)return;let t=!1;return(async()=>{try{const n=await Promise.allSettled(e.map(async e=>{const t=await async function(e,t,n,r){const a={Accept:"application/json"};r&&(a.Authorization="Bearer ".concat(r));const i=async r=>{const i="".concat(e).concat(t,"?").concat(r,"=").concat(encodeURIComponent(n)),s=await fetch(i,{headers:a});return s.ok?{ok:!0,raw:await s.json()}:{ok:!1,status:s.status}};let s=await i("id");if(s.ok||(s=await i("sub")),!s.ok)throw Object.assign(new Error("PROFILE_FETCH_FAILED"),{status:s.status});return s.raw}(z,M,e,r);return{id:e,prof:{id:null===t||void 0===t?void 0:t.id,sub:null===t||void 0===t?void 0:t.sub,name:(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.fullName)||(null===t||void 0===t?void 0:t.displayName)||(null===t||void 0===t?void 0:t.username)||(null===t||void 0===t?void 0:t.email)||"",email:null===t||void 0===t?void 0:t.email,avatarUrl:null===t||void 0===t?void 0:t.avatarUrl,credentials:null===t||void 0===t?void 0:t.credentials,specializations:null===t||void 0===t?void 0:t.specializations}}}));if(t)return;const a={};for(const e of n)"fulfilled"===e.status&&(a[e.value.id]=e.value.prof);Object.keys(a).length>0&&H(e=>o(o({},e),a))}catch(ba){console.warn("Enriquecimiento de perfiles fallido",ba)}})(),()=>{t=!0}},[C,F,z,M,r]);const W=e=>({high:"#ef4444",medium:"#f59e0b",low:"#10b981"}[e]||"#6b7280");if(n.isLoading)return(0,br.jsx)("div",{style:{display:"grid",placeItems:"center",height:"100vh"},children:"\u23f3 Verificando acceso de estudiante..."});if(!f)return(0,br.jsx)("div",{style:{display:"grid",placeItems:"center",height:"100vh"},children:"\ud83d\udd0d Cargando informaci\xf3n del usuario..."});const q=I?C:C.filter(e=>"CANCELADO"!==e.status);return(0,br.jsxs)("div",{className:"dashboard-container",children:[!u&&h&&d&&(0,br.jsx)(Lr,{missingFields:d,currentRole:"student",onDismiss:()=>p(!1)}),(0,br.jsx)(Hr,{currentUser:f,activeSection:g,onSectionChange:v}),(0,br.jsxs)("main",{className:"dashboard-main",children:["dashboard"===g&&(0,br.jsxs)("div",{className:"dashboard-content",children:[(0,br.jsxs)("h1",{children:["\xa1Bienvenido, ",f.name,"! \ud83d\udc4b"]}),(0,br.jsxs)("div",{className:"stats-grid",children:[(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\ud83d\udcda"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:D.length}),(0,br.jsx)("p",{children:"Tareas Activas"})]})]}),(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\ud83d\udc68\u200d\ud83c\udfeb"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:w.length}),(0,br.jsx)("p",{children:"Tutores Encontrados"})]})]}),(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\u2705"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:D.filter(e=>"completed"===e.status).length}),(0,br.jsx)("p",{children:"Tareas Completadas"})]})]}),(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\ud83d\uddd3\ufe0f"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:q.length}),(0,br.jsx)("p",{children:"Reservas Pr\xf3ximas"})]})]})]}),(0,br.jsxs)("div",{className:"recent-activity",children:[(0,br.jsx)("h2",{children:"Actividad Reciente"}),(0,br.jsxs)("div",{className:"activity-list",children:[D.length>0&&(0,br.jsxs)("div",{className:"activity-item",children:[(0,br.jsx)("span",{className:"activity-icon",children:"\ud83d\udcdd"}),(0,br.jsxs)("div",{className:"activity-content",children:[(0,br.jsxs)("p",{children:[(0,br.jsx)("strong",{children:"Nueva tarea creada:"})," ",null===(e=D[0])||void 0===e?void 0:e.title]}),(0,br.jsx)("small",{children:"Hace 2 horas"})]})]}),q.length>0&&(0,br.jsxs)("div",{className:"activity-item",children:[(0,br.jsx)("span",{className:"activity-icon",children:"\ud83d\uddd3\ufe0f"}),(0,br.jsxs)("div",{className:"activity-content",children:[(0,br.jsxs)("p",{children:[(0,br.jsx)("strong",{children:"Reserva:"})," ",q[0].date," a las ",q[0].start.slice(0,5)]}),(0,br.jsx)("small",{children:"Ayer"})]})]})]})]})]}),"find-tutors"===g&&(0,br.jsxs)("div",{className:"tutors-section",children:[(0,br.jsx)("h1",{children:"Buscar Tutores \ud83d\udd0d"}),(0,br.jsxs)("section",{className:"tutor-search",children:[(0,br.jsxs)("form",{onSubmit:async e=>{null===e||void 0===e||e.preventDefault(),S(!0),E("");try{const e=await _r.searchTutors(y);x(e||[])}catch(t){E((null===t||void 0===t?void 0:t.message)||"Error realizando la b\xfasqueda")}finally{S(!1)}},className:"tutor-search-form",children:[(0,br.jsx)("input",{type:"text",placeholder:"Ej: java, curso java con spring, Mar\xeda...",value:y,onChange:e=>b(e.target.value)}),(0,br.jsx)("button",{type:"submit",disabled:_,children:_?"Buscando...":"Buscar"})]}),k&&(0,br.jsx)("p",{className:"error",children:k}),(0,br.jsxs)("div",{className:"tutor-results",children:[0===w.length&&!_&&(0,br.jsx)("p",{children:"No hay resultados a\xfan. Prueba con \u201cjava\u201d."}),w.map(e=>(0,br.jsxs)("div",{className:"tutor-card",children:[(0,br.jsx)("div",{className:"tutor-card-header",children:(0,br.jsxs)("div",{className:"tutor-title",children:[(0,br.jsx)("strong",{className:"tutor-name",children:e.name||"Tutor"}),(0,br.jsx)("br",{}),(0,br.jsx)("span",{className:"tutor-email",children:e.email})]})}),e.bio&&(0,br.jsx)("p",{className:"tutor-bio",children:e.bio}),Array.isArray(e.specializations)&&e.specializations.length>0&&(0,br.jsx)("div",{className:"tutor-tags",children:e.specializations.map(e=>(0,br.jsx)("span",{className:"tag",children:e},e))}),(0,br.jsxs)("div",{className:"tutor-actions",children:[(0,br.jsx)("button",{className:"btn-secondary",onClick:()=>{const n=e.userId||e.sub;if(!n)return alert("No se pudo identificar al tutor");t("/profile/tutor/".concat(encodeURIComponent(n)),{state:{profile:e}})},children:"Ver Perfil"}),(0,br.jsx)("button",{className:"btn-primary",onClick:()=>{const n=e.userId||e.sub;if(!n)return alert("No se pudo identificar al tutor");t("/book/".concat(encodeURIComponent(n)),{state:{tutor:e,role:"tutor"}})},children:"Reservar Cita"})]})]},e.userId||e.sub||e.email))]})]})]}),"my-reservations"===g&&(0,br.jsxs)("div",{className:"tasks-section",children:[(0,br.jsx)("h1",{children:"Mis Reservas \ud83d\uddd3\ufe0f"}),(0,br.jsxs)("div",{className:"card card--primary-soft reservations-panel",style:{maxWidth:900,margin:"20px auto",padding:"20px"},children:[(0,br.jsxs)("div",{className:"week-toolbar",style:{display:"flex",gap:8,marginBottom:16,alignItems:"center"},children:[(0,br.jsx)("button",{className:"btn btn-ghost",onClick:()=>j(Fr(N,-7)),children:"\xab Semana Anterior"}),(0,br.jsx)("div",{style:{flex:1,textAlign:"center"},children:(0,br.jsxs)("strong",{children:["Semana del ",N," al ",Fr(N,6)]})}),(0,br.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,br.jsx)("button",{className:"btn",onClick:()=>A(!I),children:I?"Ocultar canceladas":"Ver canceladas"}),(0,br.jsx)("button",{className:"btn btn-ghost",onClick:()=>j(Fr(N,7)),children:"Siguiente Semana \xbb"})]})]}),P&&(0,br.jsx)("div",{className:"empty-note",children:"Cargando reservas\u2026"}),!P&&0===q.length&&(0,br.jsx)("div",{className:"empty-note",children:I?"No tienes reservas esta semana.":"No tienes reservas activas esta semana."}),(0,br.jsx)("div",{className:"reservations-list",children:q.map(e=>{var t,n;const a=(e=>{const t=(e||"").toUpperCase();return"CANCELADO"===t?{label:"CANCELADO",color:"#ef4444",bg:"rgba(239,68,68,.12)"}:"PENDIENTE"===t?{label:"PENDIENTE",color:"#f59e0b",bg:"rgba(245,158,11,.12)"}:"ACEPTADO"===t?{label:"ACEPTADA",color:"#10b981",bg:"rgba(16,185,129,.12)"}:"ACTIVA"===t?{label:"ACTIVA",color:"#3b82f6",bg:"rgba(59,130,246,.12)"}:"INCUMPLIDA"===t?{label:"INCUMPLIDA",color:"#f97316",bg:"rgba(249,115,22,.12)"}:"VENCIDA"===t?{label:"VENCIDA",color:"#6b7280",bg:"rgba(107,114,128,.15)"}:{label:e||"\u2014",color:"#6b7280",bg:"rgba(107,114,128,.12)"}})(e.status),i=F[e.tutorId],s=(null===(t=e.tutorName)||void 0===t?void 0:t.trim())||(null===i||void 0===i||null===(n=i.name)||void 0===n?void 0:n.trim())||"Tutor",o=e.tutorCredentials||e.credentials||(null===i||void 0===i?void 0:i.credentials),l=e.tutorSpecializations||e.specializations||(null===i||void 0===i?void 0:i.specializations),c=Array.isArray(o)?o[0]||"":o||"",u=Array.isArray(l)?l[0]||"":l||"",d=e=>(e||"").slice(0,5),h="PENDIENTE"===(e.status||"").toUpperCase()||"ACEPTADO"===(e.status||"").toUpperCase();return(0,br.jsxs)("article",{className:"reservation-card",children:[(0,br.jsxs)("header",{className:"reservation-card__header",children:[(0,br.jsxs)("h3",{className:"reservation-card__title",children:["Reserva con ",s]}),(0,br.jsx)("span",{className:"status-pill",style:{color:a.color,background:a.bg},children:a.label})]}),(0,br.jsxs)("div",{className:"reservation-card__tutorline",children:[(0,br.jsxs)("span",{className:"soft-badge",children:["\ud83c\udf93 ",c||"\u2014"]}),(0,br.jsxs)("span",{className:"soft-badge",children:["\ud83c\udff7\ufe0f ",u||"\u2014"]})]}),(0,br.jsxs)("div",{className:"reservation-card__meta",children:[(0,br.jsxs)("span",{children:["\ud83d\uddd3\ufe0f ",e.date]}),(0,br.jsxs)("span",{children:["\u23f0 ",d(e.start)," \u2013 ",d(e.end)]})]}),(0,br.jsx)("div",{className:"reservation-card__actions",children:(0,br.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>(async(e,t)=>{if(!r)return;if("CANCELADO"===(t||"").toUpperCase())return;globalThis.confirm("\xbfSeguro que quieres cancelar esta reserva?")&&(await Rr(e,r),await B())})(e.id,e.status),disabled:!h,title:h?"Cancelar esta reserva":"No se puede cancelar en este estado",children:"Cancelar"})})]},e.id)})})]})]}),"my-tasks"===g&&(0,br.jsxs)("div",{className:"tasks-section",children:[(0,br.jsx)("h1",{children:"Mis Tareas \ud83d\udccb"}),(0,br.jsx)("div",{className:"tasks-grid",children:D.map(e=>{return(0,br.jsxs)("div",{className:"task-card",children:[(0,br.jsxs)("div",{className:"task-header",children:[(0,br.jsx)("h3",{children:e.title}),(0,br.jsxs)("div",{className:"task-meta",children:[(0,br.jsx)("span",{className:"priority-badge",style:{backgroundColor:W(e.priority)},children:e.priority.toUpperCase()}),(0,br.jsx)("span",{className:"status-badge",style:{color:(t=e.status,{completed:"#10b981",in_progress:"#3b82f6",pending:"#6b7280",ACEPTADO:"#10b981"}[t]||"#6b7280")},children:e.status.replace("_"," ").toUpperCase()})]})]}),(0,br.jsx)("p",{className:"task-description",children:e.description}),(0,br.jsxs)("div",{className:"task-details",children:[(0,br.jsxs)("span",{className:"task-subject",children:["\ud83d\udcda ",e.subject]}),(0,br.jsxs)("span",{className:"task-due-date",children:["\ud83d\udcc5 ",e.dueDate]})]}),(0,br.jsxs)("div",{className:"task-actions",children:[(0,br.jsx)("button",{className:"btn-primary",children:"Ver Detalles"}),(0,br.jsx)("button",{className:"btn-secondary",children:"Editar"})]})]},e.id);var t})})]}),"post-task"===g&&(0,br.jsxs)("div",{className:"post-task-section",children:[(0,br.jsx)("h1",{children:"Publicar Nueva Tarea \u2795"}),(0,br.jsx)("div",{className:"task-form-container",children:(0,br.jsxs)("div",{className:"task-form",children:[(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"task-title",children:"T\xedtulo de la Tarea"}),(0,br.jsx)("input",{id:"task-title",type:"text",value:L.title,onChange:e=>U(o(o({},L),{},{title:e.target.value})),placeholder:"Ej: Ayuda con ejercicios de c\xe1lculo",className:"form-input"})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"task-description",children:"Descripci\xf3n"}),(0,br.jsx)("textarea",{id:"task-description",value:L.description,onChange:e=>U(o(o({},L),{},{description:e.target.value})),placeholder:"Describe detalladamente lo que necesitas...",className:"form-textarea",rows:4})]}),(0,br.jsxs)("div",{className:"form-row",children:[(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"task-subject",children:"Materia"}),(0,br.jsxs)("select",{id:"task-subject",value:L.subject,onChange:e=>U(o(o({},L),{},{subject:e.target.value})),className:"form-select",children:[(0,br.jsx)("option",{value:"",children:"Seleccionar materia"}),["Matem\xe1ticas","F\xedsica","Qu\xedmica","Programaci\xf3n","Ingl\xe9s","Historia","Biolog\xeda"].map(e=>(0,br.jsx)("option",{value:e,children:e},e))]})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"task-due-date",children:"Fecha L\xedmite"}),(0,br.jsx)("input",{id:"task-due-date",type:"date",value:L.dueDate,onChange:e=>U(o(o({},L),{},{dueDate:e.target.value})),className:"form-input"})]})]}),(0,br.jsxs)("fieldset",{className:"form-group",children:[(0,br.jsx)("legend",{children:"Prioridad"}),(0,br.jsx)("div",{className:"priority-options",children:["low","medium","high"].map(e=>{const t="priority-radio-".concat(e);return(0,br.jsxs)("label",{className:"priority-option",htmlFor:t,children:[(0,br.jsx)("input",{id:t,type:"radio",name:"priority",value:e,checked:L.priority===e,onChange:e=>U(o(o({},L),{},{priority:e.target.value}))}),(0,br.jsx)("span",{className:"priority-label",style:{color:W(e)},children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)})})]}),(0,br.jsxs)("div",{className:"form-actions",children:[(0,br.jsx)("button",{className:"btn-primary btn-large",onClick:()=>{if(L.title&&L.description&&L.subject){const e=o(o({id:Date.now().toString()},L),{},{status:"pending"});O(t=>[...t,e]),U({title:"",description:"",subject:"",dueDate:"",priority:"medium"}),alert("Tarea publicada exitosamente!")}},children:"Publicar Tarea"}),(0,br.jsx)("button",{className:"btn-secondary",onClick:()=>U({title:"",description:"",subject:"",dueDate:"",priority:"medium"}),children:"Limpiar"})]})]})})]})]})]})};function Wr(e){const t=(null!==e&&void 0!==e?e:"").trim(),n=/^(\d{1,2}):(\d{2})/.exec(t);return n?"".concat(n[1].padStart(2,"0"),":").concat(n[2]):t.slice(0,5)}function qr(e){switch(e){case"DISPONIBLE":return"cell available";case"PENDIENTE":case"ACTIVA":return"cell pending";case"ACEPTADO":return"cell accepted";case"CANCELADO":return"cell canceled";case"VENCIDA":return"cell expired";case"INCUMPLIDA":return"cell failed";default:return"cell disabled"}}const Vr=function(){const e=[];for(let t=0;t<24;t++)e.push(String(t).padStart(2,"0")+":00");return e}(),$r=e=>{let{weekStart:t,cells:n,mode:r,selectedKeys:a,onToggle:i,onSinglePick:s,onPrevWeek:c,onNextWeek:u,onClear:d}=e;const h=(0,l.useMemo)(()=>Array.from({length:7},(e,n)=>function(e,t){const[n,r,a]=e.split("-").map(Number),i=new Date(Date.UTC(n,r-1,a));return i.setUTCDate(i.getUTCDate()+t),i.toISOString().slice(0,10)}(t,n)),[t]),p=(0,l.useMemo)(()=>{const e={ACEPTADO:4,PENDIENTE:3,ACTIVA:3,DISPONIBLE:2,CANCELADO:1,VENCIDA:0,INCUMPLIDA:0,FINALIZADA:0},t=t=>{var n;return t&&null!==(n=e[t])&&void 0!==n?n:0},r=new Map;for(const a of n||[]){const e=Wr(a.hour),n="".concat(a.date,"_").concat(e),i=o(o({},a),{},{hour:e}),s=r.get(n),l=t(null===s||void 0===s?void 0:s.status),c=t(i.status);(!s||c>=l)&&r.set(n,i)}return r},[n]),f=(0,l.useRef)(!1),m=(0,l.useRef)(null),g=(0,l.useRef)(new Set),v=()=>{f.current=!1,m.current=null,g.current.clear()},y=(e,t)=>{const n="".concat(e,"_").concat(t),o=p.get(n)||{date:e,hour:t,status:null,reservationId:null,studentId:null},l=!(null===a||void 0===a||!a.has(n)),c="student"!==r||"DISPONIBLE"===o.status,u=[qr(o.status),l?"selected":"",c?"can-pick":"not-pickable"].join(" ").trim(),d=function(e){switch(e){case"DISPONIBLE":return"Disponible";case"PENDIENTE":case"ACTIVA":return"Pendiente";case"ACEPTADO":return"Aceptada";case"CANCELADO":return"Cancelada";case"VENCIDA":return"Vencida";case"INCUMPLIDA":return"Incumplida";default:return""}}(o.status);return(0,br.jsxs)("button",{type:"button",className:u,onMouseDown:e=>{e.preventDefault(),((e,t)=>{if("tutor"!==r||!i)return;f.current=!0,g.current=new Set;const n=(null===a||void 0===a?void 0:a.has(e))||!1;m.current=n?"deselect":"select",g.current.add(e),i(e,t)})(n,o)},onMouseEnter:()=>((e,t)=>{if(!f.current||"tutor"!==r||!i)return;if(g.current.has(e))return;g.current.add(e);const n=(null===a||void 0===a?void 0:a.has(e))||!1;("select"===m.current&&!n||"deselect"===m.current&&n)&&i(e,t)})(n,o),onMouseUp:v,onClick:()=>((e,t)=>{"student"===r&&"DISPONIBLE"===t.status&&s&&s(t)})(0,o),title:"".concat(e," ").concat(t," ").concat(o.status||""),style:{cursor:"pointer",userSelect:"none"},children:[d&&(0,br.jsx)("span",{children:d}),d&&(0,br.jsx)("span",{className:"dot"})]},n)};return l.useEffect(()=>{const e=()=>{f.current&&v()};return globalThis.addEventListener("mouseup",e),globalThis.addEventListener("touchend",e),()=>{globalThis.removeEventListener("mouseup",e),globalThis.removeEventListener("touchend",e)}},[]),(0,br.jsx)("fieldset",{className:"calendar-wrapper","aria-label":"Week calendar",children:(0,br.jsxs)("div",{className:"calendar-grid",children:[(0,br.jsxs)("div",{className:"col hour-col",children:[(0,br.jsx)("div",{className:"head-cell",children:"Hora"}),Vr.map(e=>(0,br.jsx)("div",{className:"hour-cell",children:e},e))]}),h.map((e,t)=>(0,br.jsxs)("div",{className:"col",children:[(0,br.jsxs)("div",{className:"head-cell",children:[["Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b","Dom"][t],(0,br.jsx)("br",{}),e]}),Vr.map(t=>y(e,t))]},e))]})})};function Kr(e,t){const[n,r,a]=e.split("-").map(Number),i=new Date(Date.UTC(n,r-1,a));return i.setUTCDate(i.getUTCDate()+t),i.toISOString().slice(0,10)}const Jr=e=>{const t=(null!==e&&void 0!==e?e:"").trim(),n=/^(\d{1,2}):(\d{2})/.exec(t);return n?"".concat(n[1].padStart(2,"0"),":").concat(n[2]):t.slice(0,5)};function Qr(){const e=new Date;e.setSeconds(0,0);const t=new Date(e);return t.setMinutes(0,0,0),t.setHours(t.getHours()+(e.getMinutes()>0?1:0)),t}function Gr(e,t){const n=Qr(),r=function(e,t){const[n,r]=t.split(":").map(Number),a=new Date(e+"T00:00:00");return a.setHours(n,r,0,0),a}(e,Jr(t));return r.getTime()>=n.getTime()}const Yr=()=>{var e,t,n,r,a;const i=cr(),s=null!==(e=null===(t=i.user)||void 0===t?void 0:t.id_token)&&void 0!==e?e:null===(n=i.user)||void 0===n?void 0:n.access_token,o=(null===(r=i.user)||void 0===r||null===(a=r.profile)||void 0===a?void 0:a.sub)||"",[c,u]=(0,l.useState)(()=>function(e){const[t,n,r]=e.split("-").map(Number),a=new Date(Date.UTC(t,n-1,r)),i=a.getUTCDay(),s=(0===i?-6:1)-i;return a.setUTCDate(a.getUTCDate()+s),a.toISOString().slice(0,10)}((new Date).toISOString().slice(0,10))),[d,h]=(0,l.useState)([]),[p,f]=(0,l.useState)(new Set),[m,g]=(0,l.useState)(!1),[v,y]=(0,l.useState)(null),[b,w]=(0,l.useState)("add"),x=(0,l.useCallback)(async()=>{if(o&&s){g(!0);try{const e=await Pr(o,c,s);h(e)}catch(ba){console.error(ba),y("\u274c "+(ba.message||"Error cargando disponibilidad"))}finally{g(!1)}}},[o,c,s]);(0,l.useEffect)(()=>{x()},[x]);const _=(0,l.useMemo)(()=>{const e=new Map;for(const t of d){const n="".concat(t.date,"_").concat(Jr(t.hour));e.set(n,t)}return e},[d]),S=()=>{f(new Set),y(null)},k=(0,l.useMemo)(()=>{const e=new Map;return p.forEach(t=>{const[n,r]=t.split("_");if(Gr(n,r)){const t=e.get(n)||[];t.push(Jr(r)),e.set(n,t)}}),e.forEach(e=>e.sort((e,t)=>e.localeCompare(t))),e},[p]),E=()=>{u(Kr(c,-7)),f(new Set)},N=()=>{u(Kr(c,7)),f(new Set)},j=(0,l.useMemo)(()=>Qr().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),[c]);return(0,br.jsxs)("div",{className:"page",style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[(0,br.jsx)("h1",{style:{marginBottom:"8px"},children:"Mi disponibilidad"}),(0,br.jsxs)("p",{className:"instruction-text",children:["add"===b?"Haz clic y arrastra para seleccionar horas vac\xedas y agregarlas a tu disponibilidad.":"Haz clic y arrastra para seleccionar horas con disponibilidad existente y eliminarlas.",(0,br.jsx)("br",{}),(0,br.jsx)("strong",{children:"Regla:"})," Solo puedes seleccionar horas ",(0,br.jsxs)("u",{children:["a partir de ",j]}),"."]}),v&&(()=>{let e="#FFF7ED";v.includes("\u2705")?e="#ECFDF5":v.includes("\u274c")&&(e="#FEF2F2");let t="#FED7AA";v.includes("\u2705")?t="#A7F3D0":v.includes("\u274c")&&(t="#FECACA");let n="#92400E";return v.includes("\u2705")?n="#065F46":v.includes("\u274c")&&(n="#991B1B"),(0,br.jsx)("div",{style:{margin:"12px 0",padding:"12px 16px",background:e,border:"1px solid ".concat(t),borderRadius:"8px",color:n,fontWeight:500},children:v})})(),(0,br.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"12px",padding:"8px",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[(0,br.jsx)("span",{style:{fontWeight:600,marginRight:"8px",alignSelf:"center"},children:"Modo:"}),(0,br.jsx)("button",{className:"btn-modern ".concat("add"===b?"btn-primary-modern":"btn-secondary-modern"),onClick:()=>{w("add"),S()},style:{fontSize:"13px",padding:"6px 12px"},children:"\u2795 Agregar disponibilidad"}),(0,br.jsx)("button",{className:"btn-modern ".concat("delete"===b?"btn-primary-modern":"btn-secondary-modern"),onClick:()=>{w("delete"),S()},style:{fontSize:"13px",padding:"6px 12px"},children:"\ud83d\uddd1\ufe0f Eliminar disponibilidad"})]}),(0,br.jsxs)("div",{className:"action-buttons",children:[(0,br.jsx)("button",{className:"btn-modern btn-secondary-modern",onClick:S,disabled:0===p.size,children:"Limpiar selecci\xf3n"}),"add"===b?(0,br.jsx)("button",{className:"btn-modern btn-primary-modern",onClick:async()=>{if(0===k.size)return void y("\u26a0\ufe0f Selecciona una o m\xe1s horas FUTURAS para agregar.");const e=[];for(const[n,r]of Array.from(k.entries())){const t=r.filter(e=>{const t="".concat(n,"_").concat(e),r=_.get(t);return Gr(n,e)&&!("PENDIENTE"===(null===r||void 0===r?void 0:r.status)||"ACEPTADO"===(null===r||void 0===r?void 0:r.status))});t.length&&e.push([n,t])}if(0===e.length)return void y("\u26a0\ufe0f La selecci\xf3n no contiene horas v\xe1lidas para agregar.");const t=e.reduce((e,t)=>{let[,n]=t;return e+n.length},0);if(globalThis.confirm("\xbfAgregar disponibilidad en ".concat(e.length," d\xeda(s) con ").concat(t," hora(s) seleccionada(s)?"))){g(!0);try{let t=0,n=0;const r=[];for(const[a,i]of e)try{t+=(await Ir(a,i,s)).addedCount}catch(ba){n+=i.length,r.push("".concat(a,": ").concat(ba.message||"Error"))}y(0===n?"\u2705 ".concat(t," hora(s) de disponibilidad agregadas correctamente."):t>0?"\u26a0\ufe0f ".concat(t," agregadas, ").concat(n," fallaron.\n").concat(r.join("\n")):"\u274c No se pudo agregar disponibilidad.\n".concat(r.join("\n"))),f(new Set),await new Promise(e=>setTimeout(e,500)),await x()}catch(ba){y("\u274c "+(ba.message||"Error agregando disponibilidad"))}finally{g(!1)}}},disabled:m||0===p.size,children:m?"Agregando...":"\u2713 Confirmar agregar disponibilidad"}):(0,br.jsx)("button",{className:"btn-modern",onClick:async()=>{if(0===p.size)return void y("\u26a0\ufe0f Selecciona una o m\xe1s horas DISPONIBLES futuras para eliminar.");const e=Array.from(p).map(e=>{const[t,n]=e.split("_");if(!Gr(t,n))return null;const r=d.find(e=>e.date===t&&Jr(e.hour)===Jr(n));return r&&"DISPONIBLE"===r.status?r:null}).filter(Boolean);if(0===e.length)return void y("\u26a0\ufe0f No hay disponibilidad FUTURA para eliminar en la selecci\xf3n.");if(globalThis.confirm("\xbfEliminar ".concat(e.length," hora(s) de disponibilidad?"))){g(!0);try{const t=new Map;for(const n of e){const e=t.get(n.date)||[];e.push(Jr(n.hour)),t.set(n.date,e)}for(const[e,n]of Array.from(t.entries())){const t=d.filter(t=>t.date===e&&"DISPONIBLE"===t.status).map(e=>Jr(e.hour)).filter(e=>!n.includes(e));if(t.length>0){const n=await fetch("http://localhost:8090/api/availability/day/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({hours:t})});if(!n.ok)throw new Error(await n.text())}else await Ar(e,s)}y("\u2705 ".concat(e.length," hora(s) eliminada(s) correctamente.")),f(new Set),await new Promise(e=>setTimeout(e,500)),await x()}catch(ba){y("\u274c "+((null===ba||void 0===ba?void 0:ba.message)||"Error eliminando disponibilidad"))}finally{g(!1)}}},disabled:m||0===p.size,style:{background:"#EF4444",color:"white",border:"none"},children:m?"Eliminando...":"\ud83d\uddd1\ufe0f Confirmar eliminar disponibilidad"})]}),(0,br.jsxs)("div",{className:"week-nav",style:{marginBottom:"16px"},children:[(0,br.jsx)("button",{className:"btn-ghost",onClick:E,children:"\u25c0 Semana anterior"}),(0,br.jsxs)("div",{className:"week-nav__title",children:["Semana ",c," \u2014 ",Kr(c,6)]}),(0,br.jsx)("button",{className:"btn-ghost",onClick:N,children:"Siguiente semana \u25b6"})]}),m&&(0,br.jsx)("div",{style:{textAlign:"center",padding:"20px"},children:"\u23f3 Cargando..."}),(0,br.jsx)($r,{weekStart:c,cells:d,mode:"tutor",selectedKeys:p,onToggle:e=>{const[t,n]=e.split("_");if(!Gr(t,n))return void y("\u26a0\ufe0f No puedes seleccionar horas en el pasado. Solo a partir de ".concat(Qr().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),"."));const r=_.get(e);"add"!==b||"PENDIENTE"!==(null===r||void 0===r?void 0:r.status)&&"ACEPTADO"!==(null===r||void 0===r?void 0:r.status)?"delete"!==b||"DISPONIBLE"===(null===r||void 0===r?void 0:r.status)?f(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}):y("\u26a0\ufe0f Solo puedes eliminar disponibilidad existente (DISPONIBLE) en futuro."):y("\u26a0\ufe0f Esa hora ya est\xe1 reservada.")},onPrevWeek:E,onNextWeek:N}),(0,br.jsxs)("div",{style:{marginTop:"20px",padding:"12px",background:"#F3F4F6",borderRadius:"8px",fontSize:"12px"},children:[(0,br.jsx)("strong",{children:"Debug:"})," ",d.length," celdas cargadas para semana ",c]})]})};function Xr(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)}function Zr(e){let t;if("string"===typeof e){const n=10===e.length?"T00:00:00":"";t=new Date(e+n)}else t=e;return t.toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"})}function ea(e){const t=(null!==e&&void 0!==e?e:"").trim(),n=/^(\d{1,2}):(\d{2})/.exec(t);return n?"".concat(n[1].padStart(2,"0"),":").concat(n[2]):t.slice(0,5)}function ta(e){const t=new Date,[n,r,a]=e.date.split("-").map(Number),[i,s]=ea(e.start).split(":").map(Number),[o,l]=ea(e.end||e.start).split(":").map(Number),c=new Date(n,r-1,a,i,s,0).getTime(),u=new Date(n,r-1,a,o,l,0).getTime(),d=t.getTime(),h=(e.status||"").toUpperCase(),p=e.tutorAttended,f=e.studentAttended,m=e.attended,g="FINALIZADA"===h||"COMPLETADA"===h||"ASISTIDA"===h,v="INCUMPLIDA"===h,y="CANCELADO"===h,b=!0===p&&!0===f||!0===m,w=!1===p||!1===f||!1===m,x=[[()=>y,"CANCELADO"],[()=>g,"FINALIZADA"],[()=>v,"INCUMPLIDA"],[()=>"ACEPTADO"===h&&d>=c&&d<=u,"ACTIVA"],[()=>d>u&&"ACEPTADO"===h&&b,"FINALIZADA"],[()=>d>u&&"ACEPTADO"===h&&w,"INCUMPLIDA"],[()=>d>u&&"PENDIENTE"===h,"VENCIDA"],[()=>"PENDIENTE"===h,"PENDIENTE"],[()=>"ACEPTADO"===h,"ACEPTADO"]];for(const[S,k]of x)try{if(S())return k}catch(_){}return h||"DESCONOCIDO"}const na=zr.USERS_BASE,ra=zr.USERS_PROFILE_PATH,aa=()=>{var e,t,n;const r=cr(),a=me(),i=null!==(e=null===(t=r.user)||void 0===t?void 0:t.id_token)&&void 0!==e?e:null===(n=r.user)||void 0===n?void 0:n.access_token,[s,c]=(0,l.useState)([]),[u,d]=(0,l.useState)(!1),[h,p]=(0,l.useState)(null),[f,m]=(0,l.useState)("all"),[g,v]=(0,l.useState)(""),[y,b]=(0,l.useState)(!1),[w,x]=(0,l.useState)({}),[_,S]=(0,l.useState)(1),[k,E]=(0,l.useState)(5),N=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g," ").trim(),j=(0,l.useCallback)(async()=>{if(i){d(!0);try{const e=new Date,t=new Date(e);t.setDate(t.getDate()-30);const n=new Date(e);n.setDate(n.getDate()+60);const r=Xr(t),a=Xr(n),s=await async function(e,t,n){const r="".concat(Sr,"/api/reservations/for-me?from=").concat(e,"&to=").concat(t),a=await fetch(r,{method:"GET",headers:Er(n)});return await Nr(a)}(r,a,i),o=s.filter(e=>"CANCELADO"!==e.status);o.sort((e,t)=>{const n=new Date("".concat(e.date,"T").concat(ea(e.start),":00")),r=new Date("".concat(t.date,"T").concat(ea(t.start),":00"));return n.getTime()-r.getTime()}),c(o),p(0===o.length?"\u2139\ufe0f No tienes clases visibles":null),S(1)}catch(ba){console.error("Error cargando reservas:",ba),p("\u274c "+(ba.message||"Error cargando clases")),c([])}finally{d(!1)}}else p("\u26a0\ufe0f No hay sesi\xf3n activa")},[i]);(0,l.useEffect)(()=>{j()},[j]);const C=async e=>{if(i&&globalThis.confirm("\xbfAceptar esta clase?"))try{await async function(e,t){const n="".concat(Sr,"/api/reservations/").concat(e,"/accept"),r=await fetch(n,{method:"PATCH",headers:Er(t)}),a=await Nr(r);return a.status=Tr(a.status),a}(e,i),p("\u2705 Clase aceptada correctamente"),await j()}catch(ba){p("\u274c "+(ba.message||"Error aceptando clase"))}},T=e=>({PENDIENTE:"PENDIENTE",ACEPTADO:"ACEPTADA",ACTIVA:"ACTIVA",FINALIZADA:"FINALIZADA",INCUMPLIDA:"INCUMPLIDA",VENCIDA:"VENCIDA"}[String(e||"").toUpperCase()]||"\u2014"),P=(()=>{let e=s.map(e=>o(o({},e),{},{effectiveStatus:ta(e)}));if("all"!==f&&(e=e.filter(e=>e.effectiveStatus===f)),!y){const t=new Date;e=e.filter(e=>{const[n,r,a]=e.date.split("-").map(Number),[i,s]=ea(e.end||e.start).split(":").map(Number);return new Date(n,r-1,a,i,s,0).getTime()>=t.getTime()})}return e})();(0,l.useEffect)(()=>{const e=Array.from(new Set(P.map(e=>e.studentId).filter(Boolean))).filter(e=>!w[e]);if(0===e.length)return;let t=!1;return(async()=>{try{const n=await Promise.allSettled(e.map(async e=>{const t="".concat(na).concat(ra,"?sub=").concat(encodeURIComponent(e),"&id=").concat(encodeURIComponent(e)),n={Accept:"application/json"};i&&(n.Authorization="Bearer ".concat(i));const r=await fetch(t,{headers:n});if(!r.ok)throw new Error("HTTP ".concat(r.status));const a=await r.json();return{id:e,prof:{id:null===a||void 0===a?void 0:a.id,sub:null===a||void 0===a?void 0:a.sub,name:(null===a||void 0===a?void 0:a.name)||(null===a||void 0===a?void 0:a.fullName)||(null===a||void 0===a?void 0:a.displayName)||(null===a||void 0===a?void 0:a.username)||(null===a||void 0===a?void 0:a.email)||"",email:null===a||void 0===a?void 0:a.email,avatarUrl:null===a||void 0===a?void 0:a.avatarUrl}}}));if(t)return;const r={};for(const e of n)"fulfilled"===e.status&&(r[e.value.id]=e.value.prof);Object.keys(r).length>0&&x(e=>o(o({},e),r))}catch(n){}})(),()=>{t=!0}},[P,w,i]);const R=(0,l.useMemo)(()=>{const e={};for(const a of P){var t,n,r;const i=a.studentId||"desconocido",s=w[i],o=(null===(t=a.studentName)||void 0===t?void 0:t.trim())||(null===s||void 0===s||null===(n=s.name)||void 0===n?void 0:n.trim())||"Estudiante",l=null!==(r=a.studentAvatar)&&void 0!==r?r:null===s||void 0===s?void 0:s.avatarUrl;void 0===e[i]?e[i]={studentId:i,studentName:o,studentAvatar:l,reservations:[]}:(e[i].studentName&&"Estudiante"!==e[i].studentName||!o||(e[i].studentName=o),!e[i].studentAvatar&&l&&(e[i].studentAvatar=l)),e[i].reservations.push(a)}for(const a of Object.values(e))a.reservations.sort((e,t)=>{const[n,r,a]=e.date.split("-").map(Number),[i,s]=ea(e.start).split(":").map(Number),o=new Date(n,r-1,a,i,s,0),[l,c,u]=t.date.split("-").map(Number),[d,h]=ea(t.start).split(":").map(Number),p=new Date(l,c-1,u,d,h,0);return o.getTime()-p.getTime()});return Object.values(e).sort((e,t)=>e.studentName.localeCompare(t.studentName,"es"))},[P,w]),I=(0,l.useMemo)(()=>{if(!g.trim())return R;const e=N(g);return R.filter(t=>N(t.studentName).includes(e))},[R,g]),A=Math.max(1,Math.ceil(I.length/k)),D=Math.min(_,A),O=(D-1)*k,L=O+k,U=I.slice(O,L);(0,l.useEffect)(()=>{S(1)},[f,g,k,y]);if(u&&0===s.length)return(0,br.jsxs)("div",{className:"page",style:{padding:"20px",textAlign:"center"},children:[(0,br.jsx)("h1",{children:"Mis Clases \ud83c\udf93"}),(0,br.jsx)("p",{children:"\u23f3 Cargando clases..."})]});const z={total:s.length,pending:s.filter(e=>"PENDIENTE"===ta(e)).length,accepted:s.filter(e=>"ACEPTADO"===ta(e)).length,active:s.filter(e=>"ACTIVA"===ta(e)).length,finished:s.filter(e=>"FINALIZADA"===ta(e)).length,missed:s.filter(e=>"INCUMPLIDA"===ta(e)).length,expired:s.filter(e=>"VENCIDA"===ta(e)).length};return(0,br.jsxs)("div",{className:"page",style:{padding:"20px",maxWidth:"1400px",margin:"0 auto"},children:[(0,br.jsx)("h1",{children:"Mis Clases \ud83c\udf93"}),h&&(e=>{let t,n,r;return e.includes("\u2705")?(t="#ECFDF5",n="1px solid #A7F3D0",r="#065F46"):e.includes("\u274c")?(t="#FEF2F2",n="1px solid #FECACA",r="#991B1B"):(t="#FFF7ED",n="1px solid #FED7AA",r="#92400E"),(0,br.jsx)("div",{style:{margin:"12px 0",padding:"12px 16px",background:t,border:n,borderRadius:"8px",color:r,fontWeight:500},children:e})})(h),(0,br.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"16px",marginBottom:"24px"},children:[(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\ud83d\udcca"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:z.total}),(0,br.jsx)("p",{children:"Total Clases"})]})]}),(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\u23f3"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:z.pending}),(0,br.jsx)("p",{children:"Pendientes"})]})]}),(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\u25b6\ufe0f"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:z.active}),(0,br.jsx)("p",{children:"Activas"})]})]}),(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\u2705"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:z.accepted}),(0,br.jsx)("p",{children:"Aceptadas"})]})]}),(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\ud83c\udfc1"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:z.finished}),(0,br.jsx)("p",{children:"Finalizadas"})]})]}),(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\u26a0\ufe0f"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:z.missed}),(0,br.jsx)("p",{children:"Incumplidas"})]})]}),(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\u23f2\ufe0f"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:z.expired}),(0,br.jsx)("p",{children:"Vencidas"})]})]})]}),(0,br.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto auto auto",gap:"12px",marginBottom:"16px",padding:"12px",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB",alignItems:"center"},children:[(0,br.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,br.jsx)("label",{htmlFor:"search",style:{fontWeight:600},children:"Buscar:"}),(0,br.jsx)("input",{id:"search",type:"text",placeholder:"Nombre del estudiante...",value:g,onChange:e=>v(e.target.value),className:"form-input",style:{padding:"8px 10px",minWidth:240}}),(0,br.jsxs)("label",{style:{marginLeft:16,display:"flex",alignItems:"center",gap:4},children:[(0,br.jsx)("input",{type:"checkbox",checked:y,onChange:e=>b(e.target.checked)})," Ver pasadas"]})]}),(0,br.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",justifySelf:"end"},children:[(0,br.jsx)("label",{htmlFor:"status",style:{fontWeight:600},children:"Estado:"}),(0,br.jsxs)("select",{id:"status",value:f,onChange:e=>m(e.target.value),className:"form-select",children:[(0,br.jsx)("option",{value:"all",children:"Todas"}),(0,br.jsx)("option",{value:"PENDIENTE",children:"Pendiente"}),(0,br.jsx)("option",{value:"ACEPTADO",children:"Aceptada"}),(0,br.jsx)("option",{value:"ACTIVA",children:"Activa"}),(0,br.jsx)("option",{value:"FINALIZADA",children:"Finalizada"}),(0,br.jsx)("option",{value:"INCUMPLIDA",children:"Incumplida"}),(0,br.jsx)("option",{value:"VENCIDA",children:"Vencida"})]})]}),(0,br.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",justifySelf:"end"},children:[(0,br.jsx)("label",{htmlFor:"pagesize",style:{fontWeight:600},children:"Estudiantes/p\xe1gina:"}),(0,br.jsxs)("select",{id:"pagesize",value:k,onChange:e=>E(Number(e.target.value)),className:"form-select",children:[(0,br.jsx)("option",{value:5,children:"5"}),(0,br.jsx)("option",{value:10,children:"10"}),(0,br.jsx)("option",{value:20,children:"20"})]})]}),(0,br.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"end"},children:[(0,br.jsx)("button",{className:"btn-modern btn-secondary-modern",onClick:j,disabled:u,children:"\ud83d\udd04 Actualizar"}),(0,br.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,br.jsx)("button",{className:"btn-modern btn-secondary-modern",onClick:()=>S(e=>Math.max(1,e-1)),disabled:D<=1,children:"\u25c0"}),(0,br.jsxs)("span",{style:{fontSize:13},children:[D,"/",A]}),(0,br.jsx)("button",{className:"btn-modern btn-secondary-modern",onClick:()=>S(e=>Math.min(A,e+1)),disabled:D>=A,children:"\u25b6"})]})]})]}),0===U.length?(0,br.jsxs)("div",{style:{textAlign:"center",padding:"40px",background:"#F9FAFB",borderRadius:"12px",color:"#6B7280"},children:[(0,br.jsx)("p",{style:{fontSize:"18px",marginBottom:"8px"},children:"\ud83d\udced"}),(0,br.jsxs)("p",{children:["No hay clases ","all"===f?"":'con estado "'.concat(T(f),'"'),g?' para "'.concat(g,'"'):""]})]}):(0,br.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:U.map(e=>(0,br.jsxs)("div",{style:{border:"1px solid #E5E7EB",borderRadius:"12px",padding:"16px",background:"white",boxShadow:"0 1px 3px rgba(0,0,0,0.06)"},children:[(0,br.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px",paddingBottom:"12px",borderBottom:"2px solid #F3F4F6"},children:[e.studentAvatar?(0,br.jsx)("img",{src:e.studentAvatar,alt:e.studentName,style:{width:48,height:48,borderRadius:"50%",objectFit:"cover"}}):(0,br.jsx)("div",{"aria-hidden":!0,style:{width:48,height:48,borderRadius:"50%",background:"linear-gradient(135deg, #7C3AED 0%, #6366F1 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:700},children:(e.studentName||"E").trim().charAt(0).toUpperCase()}),(0,br.jsxs)("div",{children:[(0,br.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:700},children:e.studentName}),(0,br.jsxs)("p",{style:{margin:0,fontSize:"14px",color:"#6B7280"},children:[e.reservations.length," clase",1===e.reservations.length?"":"s"]})]})]}),(0,br.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:e.reservations.map(t=>{const n=t.effectiveStatus,r={PENDIENTE:"#F59E0B",ACEPTADO:"#10B981",ACTIVA:"#6366F1",FINALIZADA:"#0EA5E9",INCUMPLIDA:"#F97316",VENCIDA:"#9CA3AF"}[String(n||"").toUpperCase()]||"#6B7280";const s="".concat(r,"15"),o="PENDIENTE"===n,l="PENDIENTE"===n||"ACEPTADO"===n,c="ACEPTADO"===n||"ACTIVA"===n;return(0,br.jsxs)("div",{className:"reservation-row",children:[(0,br.jsxs)("div",{className:"reservation-info",children:[(0,br.jsxs)("p",{className:"reservation-datetime",children:["\ud83d\udcc5 ",Zr(t.date)," \u2022 \ud83d\udd50 ",ea(t.start)," - ",ea(t.end)]}),(0,br.jsxs)("p",{className:"reservation-id",children:["ID: ",String(t.id).slice(0,8),"...","boolean"===typeof t.attended&&(0,br.jsxs)("span",{className:"reservation-attended",children:[" ","\u2022 Asistencia: ",t.attended?"S\xed":"No"]})]})]}),(0,br.jsx)("div",{className:"reservation-meta",children:n?(0,br.jsx)("span",{className:"status-badge",style:{color:r,background:s},children:T(n)}):(0,br.jsx)("span",{children:"\u2014"})}),(0,br.jsxs)("div",{className:"reservation-actions",children:[(0,br.jsx)("button",{className:"btn btn-primary",onClick:()=>C(t.id),disabled:!o,style:{minHeight:56},children:"\u2713 Aceptar"}),(0,br.jsx)("button",{className:"btn btn-danger",onClick:()=>(async e=>{if(i&&globalThis.confirm("\xbfCancelar esta clase? Esta acci\xf3n no se puede deshacer."))try{await Rr(e,i),p("\u2705 Clase cancelada correctamente"),await j()}catch(ba){p("\u274c "+(ba.message||"Error cancelando clase"))}})(t.id),disabled:!l,children:"\u2717 Cancelar"}),(0,br.jsx)("button",{className:"btn",onClick:()=>{return t=e.studentId,n=e.studentName,a("/messages?to=".concat(encodeURIComponent(t),"&name=").concat(encodeURIComponent(n)));var t,n},disabled:!c,style:{background:c?"#10B981":void 0,color:c?"#fff":void 0},title:"Abrir chat con el estudiante","aria-disabled":!c,children:"\ud83d\udcac Contactar"})]})]},t.id)})})]},e.studentId))})]})},ia=e=>{let{currentRole:t="tutor"}=e;return(0,br.jsxs)(br.Fragment,{children:[(0,br.jsx)(Dr,{currentRole:t}),(0,br.jsx)(Or,{currentRole:t})]})},sa=()=>{var e,t,n;const r=me(),a=cr(),{userRoles:i,isAuthenticated:s}=yr(),{isProfileComplete:c,missingFields:u}=xr(),[d,h]=(0,l.useState)(!0),[p,f]=(0,l.useState)(null),[m,g]=(0,l.useState)(!1),[v,y]=(0,l.useState)("dashboard"),[b]=(0,l.useState)([{id:"1",name:"Ana Garc\xeda",email:"ana@student.com",educationLevel:"Pregrado",joinDate:"2025-09-01",status:"active",sessionsCompleted:8},{id:"2",name:"Carlos Mendoza",email:"carlos@student.com",educationLevel:"Secundaria",joinDate:"2025-08-15",status:"active",sessionsCompleted:12},{id:"3",name:"Luc\xeda Torres",email:"lucia@student.com",educationLevel:"Pregrado",joinDate:"2025-09-10",status:"inactive",sessionsCompleted:3}]),[w,x]=(0,l.useState)([{id:"1",studentName:"Mar\xeda L\xf3pez",subject:"Matem\xe1ticas",description:"Necesito ayuda con c\xe1lculo integral",requestDate:"2025-09-25",status:"pending",priority:"high"},{id:"2",studentName:"Pedro Ruiz",subject:"Programaci\xf3n",description:"Ayuda con React y TypeScript",requestDate:"2025-09-24",status:"pending",priority:"medium"},{id:"3",studentName:"Sofia Cruz",subject:"F\xedsica",description:"Problemas de cinem\xe1tica",requestDate:"2025-09-23",status:"accepted",priority:"low"}]),[_,S]=(0,l.useState)([{id:"1",title:"Introducci\xf3n al C\xe1lculo",description:"Conceptos b\xe1sicos de l\xedmites y derivadas",subject:"Matem\xe1ticas",date:"2025-09-28",time:"14:00",duration:60,price:25e3,maxStudents:5,enrolledStudents:3,status:"scheduled"},{id:"2",title:"React Avanzado",description:"Hooks personalizados y optimizaci\xf3n",subject:"Programaci\xf3n",date:"2025-09-30",time:"16:00",duration:90,price:35e3,maxStudents:8,enrolledStudents:6,status:"scheduled"}]),[k,E]=(0,l.useState)({title:"",description:"",subject:"",date:"",time:"",duration:60,price:25e3,maxStudents:5});(0,l.useEffect)(()=>{var e,t,n,o;s?i&&i.includes("tutor")?a.user&&f({userId:(null===(e=a.user.profile)||void 0===e?void 0:e.sub)||"unknown",name:(null===(t=a.user.profile)||void 0===t?void 0:t.name)||(null===(n=a.user.profile)||void 0===n?void 0:n.nickname)||"Tutor",email:(null===(o=a.user.profile)||void 0===o?void 0:o.email)||"No email",role:null!==i&&void 0!==i&&i.includes("tutor")?"tutor":"unknown",bio:"Tutor profesional en UpLearn",specializations:["Matem\xe1ticas","C\xe1lculo","\xc1lgebra"],credentials:["Profesional Certificado"]}):r("/"):r("/login")},[s,i,r,a.user]);const N=e=>{switch(e){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}},j=e=>{switch(e){case"accepted":case"active":case"completed":return"#10b981";case"rejected":case"cancelled":return"#ef4444";case"pending":return"#f59e0b";case"inactive":default:return"#6b7280";case"scheduled":return"#3b82f6"}};return a.isLoading?(0,br.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:18},children:"\u23f3 Verificando acceso de tutor..."}):p?(0,br.jsxs)("div",{className:"tutor-dashboard-container",children:[!c&&d&&u&&(0,br.jsx)(Lr,{missingFields:u,currentRole:"tutor",onDismiss:()=>h(!1)}),(0,br.jsx)("header",{className:"dashboard-header",children:(0,br.jsxs)("div",{className:"header-content",children:[(0,br.jsx)("div",{className:"logo",children:(0,br.jsx)("h2",{children:"UpLearn Tutor"})}),(0,br.jsxs)("nav",{className:"main-nav",children:[(0,br.jsxs)("button",{className:"nav-item ".concat("dashboard"===v?"active":""),onClick:()=>y("dashboard"),children:[(0,br.jsx)("span",{children:"\ud83d\udcca"})," Dashboard"]}),(0,br.jsxs)("button",{className:"nav-item ".concat("students"===v?"active":""),onClick:()=>y("students"),children:[(0,br.jsx)("span",{children:"\ud83d\udc65"})," Mis Estudiantes"]}),(0,br.jsxs)("button",{className:"nav-item ".concat("requests"===v?"active":""),onClick:()=>y("requests"),children:[(0,br.jsx)("span",{children:"\ud83d\udcec"})," Solicitudes"]}),(0,br.jsxs)("button",{className:"nav-item ".concat("availability"===v?"active":""),onClick:()=>y("availability"),children:[(0,br.jsx)("span",{children:"\ud83d\uddd3\ufe0f"})," Disponibilidad"]}),(0,br.jsxs)("button",{className:"nav-item ".concat("sessions"===v?"active":""),onClick:()=>y("sessions"),children:[(0,br.jsx)("span",{children:"\ud83c\udf93"})," Mis Clases"]}),(0,br.jsxs)("button",{className:"nav-item ".concat("create-session"===v?"active":""),onClick:()=>y("create-session"),children:[(0,br.jsx)("span",{children:"\u2795"})," Nueva Clase"]})]}),(0,br.jsx)("div",{className:"header-actions",style:{display:"flex",alignItems:"center",gap:"12px"},children:(0,br.jsxs)("div",{className:"user-menu-container",children:[(0,br.jsxs)("button",{className:"user-avatar",onClick:()=>g(!m),children:[(0,br.jsx)("span",{className:"avatar-icon",children:"\ud83d\udc68\u200d\ud83c\udfeb"}),(0,br.jsx)("span",{className:"user-name",children:p.name}),(0,br.jsx)("span",{className:"dropdown-arrow",children:"\u25bc"})]}),m&&(0,br.jsxs)("div",{className:"user-dropdown",children:[(0,br.jsxs)("div",{className:"user-info",children:[(0,br.jsx)("p",{className:"user-email",children:p.email}),(0,br.jsx)("p",{className:"user-role",children:"Tutor Profesional"}),(0,br.jsx)("small",{style:{color:"#4b5563",fontSize:"0.8rem",fontWeight:"500"},children:"Autenticado con AWS Cognito"}),(0,br.jsx)("div",{style:{fontSize:"0.75rem",marginTop:"4px"},children:(0,br.jsx)("span",{style:{color:"#059669",fontWeight:"600"},children:"\u2705 Conectado"})})]}),(0,br.jsx)("div",{className:"dropdown-divider"}),(0,br.jsxs)("button",{className:"dropdown-item",onClick:()=>{r("/edit-profile",{state:{currentRole:"tutor"}})},children:[(0,br.jsx)("span",{children:"\u270f\ufe0f"})," Editar Perfil"]}),(0,br.jsx)(Or,{currentRole:"tutor",asMenuItem:!0}),(0,br.jsx)(Dr,{currentRole:"tutor",asMenuItem:!0}),(0,br.jsxs)("button",{className:"dropdown-item logout",onClick:async()=>{a.removeUser();globalThis.location.href="".concat("https://us-east-1splan606f.auth.us-east-1.amazoncognito.com","/logout?client_id=").concat("lmk8qk12er8t8ql9phit3u12e","&logout_uri=").concat(encodeURIComponent("http://localhost:3000"))},children:[(0,br.jsx)("span",{children:"\ud83d\udeaa"})," Cerrar Sesi\xf3n"]})]})]})})]})}),(0,br.jsxs)("main",{className:"dashboard-main",children:["dashboard"===v&&(0,br.jsxs)("div",{className:"dashboard-content",children:[(0,br.jsxs)("h1",{children:["\xa1Bienvenido, ",p.name,"! \ud83d\udc68\u200d\ud83c\udfeb"]}),(0,br.jsxs)("div",{className:"stats-grid",children:[(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\ud83d\udc65"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:b.length}),(0,br.jsx)("p",{children:"Estudiantes Totales"})]})]}),(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\ud83d\udcec"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:w.filter(e=>"pending"===e.status).length}),(0,br.jsx)("p",{children:"Solicitudes Pendientes"})]})]}),(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\ud83c\udf93"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:_.filter(e=>"scheduled"===e.status).length}),(0,br.jsx)("p",{children:"Clases Programadas"})]})]}),(0,br.jsxs)("div",{className:"stat-card",children:[(0,br.jsx)("div",{className:"stat-icon",children:"\ud83d\udcb0"}),(0,br.jsxs)("div",{className:"stat-info",children:[(0,br.jsx)("h3",{children:_.reduce((e,t)=>e+t.price*t.enrolledStudents,0).toLocaleString()}),(0,br.jsx)("p",{children:"Ingresos Estimados"})]})]})]}),(0,br.jsxs)("div",{className:"recent-activity",children:[(0,br.jsx)("h2",{children:"Actividad Reciente"}),(0,br.jsxs)("div",{className:"activity-list",children:[(0,br.jsxs)("div",{className:"activity-item",children:[(0,br.jsx)("span",{className:"activity-icon",children:"\ud83d\udcdd"}),(0,br.jsxs)("div",{className:"activity-content",children:[(0,br.jsxs)("p",{children:[(0,br.jsx)("strong",{children:"Nueva solicitud:"})," ",null===(e=w[0])||void 0===e?void 0:e.studentName," - ",null===(t=w[0])||void 0===t?void 0:t.subject]}),(0,br.jsx)("small",{children:"Hace 1 hora"})]})]}),(0,br.jsxs)("div",{className:"activity-item",children:[(0,br.jsx)("span",{className:"activity-icon",children:"\u2705"}),(0,br.jsxs)("div",{className:"activity-content",children:[(0,br.jsxs)("p",{children:[(0,br.jsx)("strong",{children:"Sesi\xf3n completada:"})," Introducci\xf3n al C\xe1lculo"]}),(0,br.jsx)("small",{children:"Ayer"})]})]}),(0,br.jsxs)("div",{className:"activity-item",children:[(0,br.jsx)("span",{className:"activity-icon",children:"\ud83d\udc64"}),(0,br.jsxs)("div",{className:"activity-content",children:[(0,br.jsxs)("p",{children:[(0,br.jsx)("strong",{children:"Nuevo estudiante:"})," ",null===(n=b[2])||void 0===n?void 0:n.name," se uni\xf3"]}),(0,br.jsx)("small",{children:"Hace 2 d\xedas"})]})]})]})]})]}),"students"===v&&(0,br.jsxs)("div",{className:"students-section",children:[(0,br.jsx)("h1",{children:"Mis Estudiantes \ud83d\udc65"}),(0,br.jsx)("div",{className:"students-grid",children:b.map(e=>(0,br.jsxs)("div",{className:"student-card",children:[(0,br.jsxs)("div",{className:"student-header",children:[(0,br.jsx)("div",{className:"student-avatar",children:"\ud83c\udf93"}),(0,br.jsxs)("div",{className:"student-info",children:[(0,br.jsx)("h3",{children:e.name}),(0,br.jsx)("p",{className:"student-email",children:e.email}),(0,br.jsx)("span",{className:"status-badge",style:{color:j(e.status)},children:"active"===e.status?"Activo":"Inactivo"})]})]}),(0,br.jsxs)("div",{className:"student-details",children:[(0,br.jsxs)("p",{children:[(0,br.jsx)("strong",{children:"Nivel:"})," ",e.educationLevel]}),(0,br.jsxs)("p",{children:[(0,br.jsx)("strong",{children:"Se uni\xf3:"})," ",e.joinDate]}),(0,br.jsxs)("p",{children:[(0,br.jsx)("strong",{children:"Sesiones completadas:"})," ",e.sessionsCompleted]})]}),(0,br.jsxs)("div",{className:"student-actions",children:[(0,br.jsx)("button",{className:"btn-primary",children:"Enviar Mensaje"}),(0,br.jsx)("button",{className:"btn-secondary",children:"Ver Historial"})]})]},e.id))})]}),"requests"===v&&(0,br.jsxs)("div",{className:"requests-section",children:[(0,br.jsx)("h1",{children:"Solicitudes de Tutor\xeda \ud83d\udcec"}),(0,br.jsx)("div",{className:"requests-grid",children:w.map(e=>{let t="RECHAZADA";return"pending"===e.status?t="PENDIENTE":"accepted"===e.status&&(t="ACEPTADA"),(0,br.jsxs)("div",{className:"request-card",children:[(0,br.jsxs)("div",{className:"request-header",children:[(0,br.jsx)("h3",{children:e.studentName}),(0,br.jsxs)("div",{className:"request-meta",children:[l.createElement("span",{className:"priority-badge",style:{backgroundColor:N(e.priority)}},e.priority.toUpperCase()),l.createElement("span",{className:"status-badge",style:{color:j(e.status)}},t)]})]}),(0,br.jsxs)("div",{className:"request-content",children:[(0,br.jsxs)("p",{children:[(0,br.jsx)("strong",{children:"Materia:"})," ",e.subject]}),(0,br.jsxs)("p",{children:[(0,br.jsx)("strong",{children:"Descripci\xf3n:"})," ",e.description]}),(0,br.jsxs)("p",{children:[(0,br.jsx)("strong",{children:"Fecha:"})," ",e.requestDate]})]}),"pending"===e.status&&(0,br.jsxs)("div",{className:"request-actions",children:[(0,br.jsx)("button",{className:"btn-primary",onClick:()=>{return t=e.id,x(e=>e.map(e=>e.id===t?o(o({},e),{},{status:"accepted"}):e)),void alert("Solicitud aceptada. El estudiante ser\xe1 notificado.");var t},children:"Aceptar"}),(0,br.jsx)("button",{className:"btn-danger",onClick:()=>{return t=e.id,x(e=>e.map(e=>e.id===t?o(o({},e),{},{status:"rejected"}):e)),void alert("Solicitud rechazada.");var t},children:"Rechazar"})]})]},e.id)})})]}),"availability"===v&&(0,br.jsx)(Yr,{}),"sessions"===v&&(0,br.jsx)(aa,{}),"create-session"===v&&(0,br.jsxs)("div",{className:"create-session-section",children:[(0,br.jsx)("h1",{children:"Crear Nueva Clase \u2795"}),(0,br.jsx)("div",{className:"session-form-container",children:(0,br.jsxs)("div",{className:"session-form",children:[(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"session-title",children:"T\xedtulo de la Clase"}),(0,br.jsx)("input",{id:"session-title",type:"text",value:k.title,onChange:e=>E(o(o({},k),{},{title:e.target.value})),placeholder:"Ej: Introducci\xf3n al C\xe1lculo Diferencial",className:"form-input"})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"session-description",children:"Descripci\xf3n"}),(0,br.jsx)("textarea",{id:"session-description",value:k.description,onChange:e=>E(o(o({},k),{},{description:e.target.value})),placeholder:"Describe los temas que se cubrir\xe1n...",className:"form-textarea",rows:3})]}),(0,br.jsxs)("div",{className:"form-row",children:[(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"session-subject",children:"Materia"}),(0,br.jsxs)("select",{id:"session-subject",value:k.subject,onChange:e=>E(o(o({},k),{},{subject:e.target.value})),className:"form-select",children:[(0,br.jsx)("option",{value:"",children:"Seleccionar materia"}),(0,br.jsx)("option",{value:"Matem\xe1ticas",children:"Matem\xe1ticas"}),(0,br.jsx)("option",{value:"F\xedsica",children:"F\xedsica"}),(0,br.jsx)("option",{value:"Qu\xedmica",children:"Qu\xedmica"}),(0,br.jsx)("option",{value:"Programaci\xf3n",children:"Programaci\xf3n"}),(0,br.jsx)("option",{value:"Ingl\xe9s",children:"Ingl\xe9s"})]})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"session-date",children:"Fecha"}),(0,br.jsx)("input",{id:"session-date",type:"date",value:k.date,onChange:e=>E(o(o({},k),{},{date:e.target.value})),className:"form-input"})]})]}),(0,br.jsxs)("div",{className:"form-row",children:[(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"session-time",children:"Hora"}),(0,br.jsx)("input",{id:"session-time",type:"time",value:k.time,onChange:e=>E(o(o({},k),{},{time:e.target.value})),className:"form-input"})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"session-duration",children:"Duraci\xf3n (minutos)"}),(0,br.jsxs)("select",{id:"session-duration",value:k.duration,onChange:e=>E(o(o({},k),{},{duration:Number.parseInt(e.target.value)})),className:"form-select",children:[(0,br.jsx)("option",{value:30,children:"30 minutos"}),(0,br.jsx)("option",{value:60,children:"1 hora"}),(0,br.jsx)("option",{value:90,children:"1.5 horas"}),(0,br.jsx)("option",{value:120,children:"2 horas"})]})]})]}),(0,br.jsxs)("div",{className:"form-row",children:[(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"session-price",children:"Precio ($)"}),(0,br.jsx)("input",{id:"session-price",type:"number",value:k.price,onChange:e=>E(o(o({},k),{},{price:Number.parseInt(e.target.value)})),className:"form-input",min:"10000",step:"5000"})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"max-students",children:"M\xe1ximo de Estudiantes"}),(0,br.jsxs)("select",{id:"max-students",value:k.maxStudents,onChange:e=>E(o(o({},k),{},{maxStudents:Number.parseInt(e.target.value)})),className:"form-select",children:[(0,br.jsx)("option",{value:1,children:"1 estudiante"}),(0,br.jsx)("option",{value:3,children:"3 estudiantes"}),(0,br.jsx)("option",{value:5,children:"5 estudiantes"}),(0,br.jsx)("option",{value:8,children:"8 estudiantes"}),(0,br.jsx)("option",{value:10,children:"10 estudiantes"})]})]})]}),(0,br.jsxs)("div",{className:"form-actions",children:[(0,br.jsx)("button",{className:"btn-primary btn-large",onClick:()=>{if(k.title&&k.subject&&k.date&&k.time){const e=o(o({id:Date.now().toString()},k),{},{enrolledStudents:0,status:"scheduled"});S([..._,e]),E({title:"",description:"",subject:"",date:"",time:"",duration:60,price:25e3,maxStudents:5}),alert("Sesi\xf3n de tutor\xeda creada exitosamente!")}},children:"Crear Clase"}),(0,br.jsx)("button",{className:"btn-secondary",onClick:()=>E({title:"",description:"",subject:"",date:"",time:"",duration:60,price:25e3,maxStudents:5}),children:"Limpiar"})]})]})})]})]})]}):(0,br.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:18},children:"\ud83d\udd0d Cargando informaci\xf3n del tutor..."})},oa=()=>{var e;const t=me(),n=he(),r=cr(),{userRoles:a,isAuthenticated:i}=yr(),s=(null===(e=n.state)||void 0===e?void 0:e.currentRole)||(null===a||void 0===a?void 0:a[0]),[c,u]=(0,l.useState)(null),[d,h]=(0,l.useState)(!1),[p,f]=(0,l.useState)(!1),[m,g]=(0,l.useState)(!1),[v,y]=(0,l.useState)(!1),[b,w]=(0,l.useState)({}),[x,_]=(0,l.useState)(""),[S,k]=(0,l.useState)({name:"",email:"",phoneNumber:"",idType:"",idNumber:"",educationLevel:"",bio:"",specializations:[],credentials:[]}),[E,N]=(0,l.useState)(""),[j,C]=(0,l.useState)([]),[T,P]=(0,l.useState)(!1),[R,I]=(0,l.useState)(""),A=(0,l.useRef)(null),[D,O]=(0,l.useState)([]),[L,U]=(0,l.useState)(null),z=e=>{try{const t=new URL(e).pathname.split("/").filter(Boolean).pop();if(!t)return"Archivo";const n=decodeURIComponent(t);return n.replace(/^[a-f0-9\-]+_/i,"")||n}catch(t){const n=e.split("?")[0].split("#")[0].split("/").filter(Boolean).pop();if(!n)return"Archivo";const r=decodeURIComponent(n);return r.replace(/^[a-f0-9\-]+_/i,"")||r}};(0,l.useEffect)(()=>{(async()=>{if(i)if(a&&0!==a.length){h(!0);try{var e,n;if(null===(e=r.user)||void 0===e||!e.id_token)throw new Error("No hay token disponible");if(null===a||void 0===a||!a.includes(s))throw console.error("\u274c Rol no v\xe1lido o no autorizado:",s),new Error("No tienes permisos para editar el perfil de ".concat(s));let t;if("student"===s)t=await hr.getStudentProfile(r.user.id_token);else{if("tutor"!==s)throw new Error("Rol de usuario no v\xe1lido");t=await hr.getTutorProfile(r.user.id_token)}const i={userId:(null===(n=r.user.profile)||void 0===n?void 0:n.sub)||"unknown",name:t.name||"",email:t.email||"",phoneNumber:t.phoneNumber||"",role:s.toUpperCase(),idType:t.idType||"",idNumber:t.idNumber||"",educationLevel:t.educationLevel||"",bio:t.bio||"",specializations:t.specializations||[],credentials:t.credentials||[]};u(i),k({name:t.name||"",email:t.email||"",phoneNumber:t.phoneNumber||"",idType:t.idType||"",idNumber:t.idNumber||"",educationLevel:t.educationLevel||"",bio:t.bio||"",specializations:t.specializations||[],credentials:t.credentials||[]}),O((t.credentials||[]).map(e=>z(e)))}catch(o){console.error("Error cargando perfil:",o),w({general:o instanceof Error?o.message:"Error cargando el perfil"}),o instanceof Error&&o.message.includes("401")&&t("/login")}finally{h(!1)}}else t("/login");else t("/login")})()},[t,r.isAuthenticated,r.user,a,s]);const M=e=>{const{name:t,value:n}=e.target;k(e=>o(o({},e),{},{[t]:n})),b[t]&&w(e=>o(o({},e),{},{[t]:""}))},F=()=>{E.trim()&&!S.specializations.includes(E.trim())&&(k(e=>o(o({},e),{},{specializations:[...e.specializations,E.trim()]})),N(""))},H=()=>{y(!1)};return d?(0,br.jsx)("div",{className:"loading-container",children:(0,br.jsxs)("div",{className:"loading-spinner",children:[(0,br.jsx)("div",{className:"spinner-icon",children:"\u23f3"}),(0,br.jsx)("p",{children:"Cargando datos del perfil..."})]})}):c||d?(0,br.jsx)("div",{className:"edit-profile-container",children:(0,br.jsxs)("div",{className:"edit-profile-content",children:[(0,br.jsxs)("div",{className:"profile-header",children:[(0,br.jsx)("h1",{children:"Editar Perfil"}),(0,br.jsx)("p",{children:"Actualiza tu informaci\xf3n personal"}),(0,br.jsx)("div",{className:"user-role-badge",children:"student"===s?"\ud83c\udf93 Estudiante":"\ud83d\udc68\u200d\ud83c\udfeb Tutor"})]}),(0,br.jsxs)("form",{className:"profile-form",onSubmit:async e=>{var n;if(e.preventDefault(),(()=>{const e={};return S.name.trim()||(e.name="El nombre es requerido"),S.email.trim()?/\S+@\S+\.\S+/.test(S.email)||(e.email="Email inv\xe1lido"):e.email="El email es requerido",S.phoneNumber.trim()||(e.phoneNumber="El tel\xe9fono es requerido"),"student"!==s||S.educationLevel.trim()||(e.educationLevel="El nivel educativo es requerido"),"tutor"===s&&(S.bio.trim()||(e.bio="La biograf\xeda es requerida"),0===S.specializations.length&&(e.specializations="Debe tener al menos una especializaci\xf3n")),w(e),0===Object.keys(e).length})())if(null!==(n=r.user)&&void 0!==n&&n.id_token){f(!0),w({}),_("");try{const e={name:S.name,email:S.email,phoneNumber:S.phoneNumber,idType:S.idType,idNumber:S.idNumber};let n;if("student"===s?e.educationLevel=S.educationLevel:"tutor"===s&&(e.bio=S.bio,e.specializations=S.specializations,e.credentials=S.credentials),"student"===s)n=await hr.updateStudentProfile(e,r.user.id_token);else{if("tutor"!==s)throw new Error("Rol de usuario no v\xe1lido para actualizaci\xf3n");n=await hr.updateTutorProfile(e,r.user.id_token)}_("\xa1Perfil actualizado exitosamente!"),setTimeout(()=>{t("student"===s?"/student-dashboard":"tutor"===s?"/tutor-dashboard":"/")},2e3)}catch(a){console.error("Error actualizando perfil:",a),w({general:a instanceof Error?a.message:"Error actualizando el perfil"})}finally{f(!1)}}else w({general:"No hay token de autenticaci\xf3n v\xe1lido"})},children:[b.general&&(0,br.jsx)("div",{className:"alert alert-error",children:b.general}),x&&(0,br.jsx)("div",{className:"alert alert-success",children:x}),(0,br.jsxs)("div",{className:"form-section",children:[(0,br.jsx)("h2",{children:"Informaci\xf3n Personal"}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{className:"form-label",children:"Nombre Completo"}),(0,br.jsx)("input",{type:"text",name:"name",className:"form-input ".concat(b.name?"error":""),placeholder:"Tu nombre completo",value:S.name,onChange:M,disabled:p}),b.name&&(0,br.jsx)("span",{className:"error-message",children:b.name})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{className:"form-label",children:"Email"}),(0,br.jsx)("input",{type:"email",name:"email",className:"form-input ".concat(b.email?"error":""),placeholder:"tu@email.com",value:S.email,onChange:M,disabled:p}),b.email&&(0,br.jsx)("span",{className:"error-message",children:b.email})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{className:"form-label",children:"Tel\xe9fono"}),(0,br.jsx)("input",{type:"tel",name:"phoneNumber",className:"form-input ".concat(b.phoneNumber?"error":""),placeholder:"N\xfamero de tel\xe9fono",value:S.phoneNumber,onChange:M,disabled:p}),b.phoneNumber&&(0,br.jsx)("span",{className:"error-message",children:b.phoneNumber})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{className:"form-label",children:"Tipo de Identificaci\xf3n"}),(0,br.jsxs)("select",{name:"idType",className:"form-input ".concat(b.idType?"error":""),value:S.idType,onChange:M,disabled:p,children:[(0,br.jsx)("option",{value:"",children:"Selecciona tipo de identificaci\xf3n"}),(0,br.jsx)("option",{value:"CC",children:"C\xe9dula de Ciudadan\xeda"}),(0,br.jsx)("option",{value:"CE",children:"C\xe9dula de Extranjer\xeda"}),(0,br.jsx)("option",{value:"TI",children:"Tarjeta de Identidad"}),(0,br.jsx)("option",{value:"PP",children:"Pasaporte"}),(0,br.jsx)("option",{value:"RC",children:"Registro Civil"})]}),b.idType&&(0,br.jsx)("span",{className:"error-message",children:b.idType})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{className:"form-label",children:"N\xfamero de Identificaci\xf3n"}),(0,br.jsx)("input",{type:"text",name:"idNumber",className:"form-input ".concat(b.idNumber?"error":""),placeholder:"N\xfamero de identificaci\xf3n",value:S.idNumber,onChange:M,disabled:p}),b.idNumber&&(0,br.jsx)("span",{className:"error-message",children:b.idNumber})]})]}),"student"===s&&(0,br.jsxs)("div",{className:"form-section",children:[(0,br.jsx)("h2",{children:"Informaci\xf3n Acad\xe9mica"}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{className:"form-label",children:"Nivel Educativo"}),(0,br.jsxs)("select",{name:"educationLevel",className:"form-input ".concat(b.educationLevel?"error":""),value:S.educationLevel,onChange:M,disabled:p,children:[(0,br.jsx)("option",{value:"",children:"Selecciona tu nivel educativo"}),(0,br.jsx)("option",{value:"PRIMARIA",children:"Primaria"}),(0,br.jsx)("option",{value:"SECUNDARIA",children:"Secundaria"}),(0,br.jsx)("option",{value:"PREGRADO",children:"Pregrado"}),(0,br.jsx)("option",{value:"POSTGRADO",children:"Postgrado"}),(0,br.jsx)("option",{value:"OTRO",children:"Otro"})]}),b.educationLevel&&(0,br.jsx)("span",{className:"error-message",children:b.educationLevel})]})]}),"tutor"===s&&(0,br.jsxs)("div",{className:"form-section",children:[(0,br.jsx)("h2",{children:"Informaci\xf3n Profesional"}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{className:"form-label",children:"Biograf\xeda"}),(0,br.jsx)("textarea",{name:"bio",className:"form-input form-textarea ".concat(b.bio?"error":""),placeholder:"Cu\xe9ntanos sobre tu experiencia y enfoque como tutor...",rows:4,value:S.bio,onChange:M,disabled:p}),b.bio&&(0,br.jsx)("span",{className:"error-message",children:b.bio})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{className:"form-label",children:"Especializaciones"}),(0,br.jsxs)("div",{className:"array-input-container",children:[(0,br.jsxs)("div",{className:"array-input-row",children:[(0,br.jsx)("input",{type:"text",className:"form-input",placeholder:"Ej: Matem\xe1ticas, F\xedsica, Programaci\xf3n...",value:E,onChange:e=>N(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),F()),disabled:p}),(0,br.jsx)("button",{type:"button",className:"add-button",onClick:F,disabled:p,children:"Agregar"})]}),(0,br.jsx)("div",{className:"tags-container",children:S.specializations.map((e,t)=>(0,br.jsxs)("span",{className:"tag",children:[e,(0,br.jsx)("button",{type:"button",onClick:()=>(e=>{k(t=>o(o({},t),{},{specializations:t.specializations.filter((t,n)=>n!==e)}))})(t),disabled:p,children:"\xd7"})]},t))}),b.specializations&&(0,br.jsx)("span",{className:"error-message",children:b.specializations})]})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{className:"form-label",children:"Credenciales (Archivos)"}),(0,br.jsxs)("div",{className:"upload-credentials-container",children:[(0,br.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.png,.jpg,.jpeg,.doc,.docx",ref:A,onChange:e=>{I("");const t=e.target.files?Array.from(e.target.files):[];if(0!==t.length&&(C(e=>{const n=new Set(e.map(e=>"".concat(e.name,"-").concat(e.size,"-").concat(e.lastModified))),r=t.filter(e=>!n.has("".concat(e.name,"-").concat(e.size,"-").concat(e.lastModified)));return[...e,...r]}),e.target))try{e.target.value=""}catch(n){}},disabled:p||T}),j.length>0&&(0,br.jsxs)("div",{className:"pending-files",children:[(0,br.jsx)("p",{children:(0,br.jsx)("strong",{children:"Archivos seleccionados:"})}),(0,br.jsx)("ul",{children:j.map((e,t)=>(0,br.jsxs)("li",{children:[e.name,(0,br.jsx)("button",{type:"button",className:"remove-credential-btn",onClick:()=>C(e=>e.filter((e,n)=>n!==t)),disabled:T,children:"\xd7"})]},"".concat(e.name,"-").concat(e.size,"-").concat(e.lastModified)))}),(0,br.jsx)("button",{type:"button",className:"add-button",onClick:async()=>{var e;if(null!==(e=r.user)&&void 0!==e&&e.id_token)if(0!==j.length){P(!0),I("");try{const e=await hr.uploadTutorCredentials(r.user.id_token,j),t=e.savedCredentials||[];k(e=>o(o({},e),{},{credentials:[...e.credentials||[],...t]}));const n=(e.details||[]).filter(e=>e.saved).map(e=>e.fileName||z(e.uploadedUrl));if(O(e=>[...e,...n]),C([]),A.current&&(A.current.value=""),e.rejected&&e.rejected>0){const t=(e.details||[]).filter(e=>"rejected"===e.status).map(e=>"".concat(e.fileName,": ").concat(e.reason)).join(", ");I("".concat(e.validated," archivo(s) validado(s), ").concat(e.rejected," rechazado(s): ").concat(t))}}catch(t){I(t instanceof Error?t.message:"Error subiendo credenciales")}finally{P(!1)}}else I("Seleccione uno o m\xe1s archivos");else I("No hay token de autenticaci\xf3n v\xe1lido")},disabled:T,children:T?"Subiendo...":"Subir Credenciales"})]}),R&&(0,br.jsx)("span",{className:"error-message",children:R}),(0,br.jsxs)("div",{className:"uploaded-credentials",children:[(0,br.jsx)("p",{children:(0,br.jsx)("strong",{children:"Credenciales Subidas:"})}),0===S.credentials.length&&(0,br.jsx)("p",{className:"muted",children:"No hay credenciales a\xfan."}),(0,br.jsx)("ul",{className:"credentials-list",children:S.credentials.map((e,t)=>(0,br.jsxs)("li",{children:[(0,br.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:D[t]||z(e)||"Credencial ".concat(t+1)}),(0,br.jsx)("button",{type:"button",className:"remove-credential-btn",onClick:()=>(async e=>{var t;if(I(""),null===(t=r.user)||void 0===t||!t.id_token)return void I("No hay token de autenticaci\xf3n v\xe1lido");const n=S.credentials[e];if(n)try{U(e);const t=await hr.deleteTutorCredentials(r.user.id_token,[n]),a=(null===t||void 0===t?void 0:t.remainingCredentials)||(null===t||void 0===t?void 0:t.credentials)||(null===t||void 0===t?void 0:t.remaining)||(null===t||void 0===t?void 0:t.urls)||null;Array.isArray(a)?(k(e=>o(o({},e),{},{credentials:a})),O(a.map(e=>z(e)))):(k(t=>o(o({},t),{},{credentials:t.credentials.filter((t,n)=>n!==e)})),O(t=>t.filter((t,n)=>n!==e))),"boolean"!==typeof(null===t||void 0===t?void 0:t.userVerified)||t.userVerified||I("Se eliminaron las credenciales. Tu cuenta qued\xf3 no verificada.")}catch(a){I(a instanceof Error?a.message:"Error eliminando credencial")}finally{U(null)}})(t),disabled:p||L===t,children:L===t?"\u2026":"\xd7"})]},t))})]}),b.credentials&&(0,br.jsx)("span",{className:"error-message",children:b.credentials}),(0,br.jsx)("p",{className:"help-text",children:"Sube diplomas, certificados o t\xedtulos en PDF o imagen."})]})]})]}),(0,br.jsxs)("div",{className:"form-actions",children:[(0,br.jsxs)("div",{className:"main-actions",children:[(0,br.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:p||m,children:p?"Guardando...":"Guardar Cambios"}),(0,br.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{t("student"===s?"/student-dashboard":"tutor"===s?"/tutor-dashboard":"/")},disabled:p||m,children:"Cancelar"})]}),(0,br.jsxs)("div",{className:"danger-zone",children:[(0,br.jsxs)("button",{type:"button",className:"btn btn-danger",onClick:()=>{y(!0)},disabled:p||m,children:["\ud83d\uddd1\ufe0f Eliminar ","student"===s?"Rol de Estudiante":"Rol de Tutor"]}),(0,br.jsx)("p",{className:"danger-text",children:a&&a.length>1?"Se eliminar\xe1 tu rol de ".concat("student"===s?"estudiante":"tutor",". Si es tu \xfanico rol, se eliminar\xe1 toda la cuenta."):"Al ser tu \xfanico rol, esta acci\xf3n eliminar\xe1 completamente tu cuenta y no se puede deshacer."})]})]})]}),v&&(0,br.jsx)("div",{className:"modal-overlay",onClick:H,children:(0,br.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,br.jsx)("div",{className:"modal-header",children:(0,br.jsx)("h2",{children:"\u26a0\ufe0f Confirmar Eliminaci\xf3n de Rol"})}),(0,br.jsxs)("div",{className:"modal-body",children:[(0,br.jsx)("p",{children:(0,br.jsxs)("strong",{children:["\xbfEst\xe1s seguro de que deseas eliminar tu rol de ","student"===s?"estudiante":"tutor","?"]})}),a&&a.length>1?(0,br.jsxs)(br.Fragment,{children:[(0,br.jsxs)("p",{children:["Se eliminar\xe1 \xfanicamente tu rol de ","student"===s?"estudiante":"tutor",", pero mantendr\xe1s acceso con tus otros roles."]}),(0,br.jsx)("p",{children:"Se eliminar\xe1:"})]}):(0,br.jsxs)(br.Fragment,{children:[(0,br.jsx)("p",{children:"Al ser tu \xfanico rol, esta acci\xf3n eliminar\xe1 completamente tu cuenta."}),(0,br.jsx)("p",{children:"Se eliminar\xe1 permanentemente:"})]}),(0,br.jsxs)("ul",{children:[(0,br.jsx)("li",{children:"\u2717 Tu perfil personal"}),(0,br.jsx)("li",{children:"\u2717 Toda tu informaci\xf3n de contacto"}),"student"===s&&(0,br.jsx)("li",{children:"\u2717 Tu historial acad\xe9mico y tareas"}),"tutor"===s&&(0,br.jsxs)(br.Fragment,{children:[(0,br.jsx)("li",{children:"\u2717 Tu biograf\xeda y especializaciones"}),(0,br.jsx)("li",{children:"\u2717 Tus credenciales y certificaciones"})]}),(0,br.jsx)("li",{children:"\u2717 Todo el historial de actividades"})]}),(0,br.jsx)("p",{className:"warning-text",children:(0,br.jsx)("strong",{children:"Esta acci\xf3n NO se puede deshacer."})})]}),(0,br.jsxs)("div",{className:"modal-actions",children:[(0,br.jsx)("button",{className:"btn btn-danger",onClick:async()=>{var e;if(null!==(e=r.user)&&void 0!==e&&e.id_token){g(!0),w({});try{let e;if("student"===s)e=await hr.removeStudentRole(r.user.id_token);else{if("tutor"!==s)throw new Error("Rol de usuario no v\xe1lido para eliminaci\xf3n");e=await hr.removeTutorRole(r.user.id_token)}if(e.userDeleted)alert("Tu cuenta ha sido eliminada completamente."),r.removeUser(),t("/");else{if(alert("Tu rol de ".concat("student"===s?"estudiante":"tutor"," ha sido eliminado. ").concat(e.message||"")),e.remainingRoles&&e.remainingRoles.length>0){const n=e.remainingRoles[0];t("student"===n?"/student-dashboard":"tutor"===n?"/tutor-dashboard":"/role-selection")}else t("/role-selection")}}catch(n){console.error("Error eliminando cuenta/rol:",n),w({general:n instanceof Error?n.message:"Error eliminando la cuenta"}),y(!1)}finally{g(!1)}}else w({general:"No hay token de autenticaci\xf3n v\xe1lido"})},disabled:m,children:m?"Eliminando...":"S\xed, Eliminar ".concat("student"===s?"Rol de Estudiante":"Rol de Tutor")}),(0,br.jsx)("button",{className:"btn btn-secondary",onClick:H,disabled:m,children:"Cancelar"})]})]})})]})}):(0,br.jsx)("div",{className:"loading-container",children:(0,br.jsxs)("div",{className:"loading-spinner error",children:[(0,br.jsx)("div",{className:"spinner-icon",children:"\u274c"}),(0,br.jsx)("p",{children:"Error cargando el perfil"}),(0,br.jsx)("button",{className:"btn btn-primary",onClick:()=>t("/login"),children:"Volver al Login"})]})})},la=()=>{const e=me(),t=cr(),[n,r]=(0,l.useState)([]),[a,i]=(0,l.useState)(!1),[s,o]=(0,l.useState)(""),c=e=>{r(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return a?(0,br.jsx)("div",{className:"role-selection-container",children:(0,br.jsx)("div",{className:"role-selection-content",children:(0,br.jsxs)("div",{className:"loading-state",children:[(0,br.jsx)("h2",{children:"Guardando tu selecci\xf3n..."}),(0,br.jsx)("div",{className:"loading-spinner"})]})})}):(0,br.jsx)("div",{className:"role-selection-container",children:(0,br.jsxs)("div",{className:"role-selection-content",children:[(0,br.jsxs)("div",{className:"role-selection-header",children:[(0,br.jsx)("h1",{children:"\xa1Bienvenido a UpLearn!"}),(0,br.jsx)("p",{children:"Para continuar, selecciona tu(s) rol(es) en la plataforma:"}),(0,br.jsx)("p",{className:"multiple-selection-note",children:"Puedes seleccionar ambos roles si planeas ser estudiante y tutor"})]}),s&&(0,br.jsx)("div",{className:"error-message",children:s}),(0,br.jsx)("div",{className:"roles-grid",children:[{value:"student",title:"Estudiante",description:"Busca tutores y reserva sesiones de aprendizaje",icon:"\ud83d\udcda"},{value:"tutor",title:"Tutor",description:"Ofrece tus conocimientos y ense\xf1a a otros estudiantes",icon:"\ud83d\udc68\u200d\ud83c\udfeb"}].map(e=>(0,br.jsxs)("label",{className:"role-card ".concat(n.includes(e.value)?"selected":""),htmlFor:e.value,onTouchStart:()=>c(e.value),children:[(0,br.jsx)("div",{className:"role-icon",children:e.icon}),(0,br.jsx)("h3",{className:"role-title",children:e.title}),(0,br.jsx)("p",{className:"role-description",children:e.description}),(0,br.jsxs)("div",{className:"role-checkbox",children:[(0,br.jsx)("input",{type:"checkbox",id:e.value,name:"roles",value:e.value,checked:n.includes(e.value),onChange:()=>c(e.value)}),(0,br.jsx)("span",{children:"Seleccionar"})]})]},e.value))}),(0,br.jsx)("div",{className:"selected-roles-summary",children:n.length>0&&(0,br.jsxs)("div",{className:"selection-summary",children:[(0,br.jsx)("h4",{children:"Roles seleccionados:"}),(0,br.jsx)("div",{className:"selected-roles-list",children:n.map(e=>(0,br.jsx)("span",{className:"selected-role-badge",children:"student"===e?"\ud83d\udcda Estudiante":"\ud83d\udc68\u200d\ud83c\udfeb Tutor"},e))})]})}),(0,br.jsx)("div",{className:"form-actions",children:(0,br.jsx)("button",{className:"btn btn-primary",onClick:async()=>{var r;if(0!==n.length)if(null!==(r=t.user)&&void 0!==r&&r.id_token){i(!0),o("");try{await hr.saveUserRole(t.user.id_token,n),vr();const r=n.includes("student")?"/student-dashboard":"/tutor-dashboard";e(r,{replace:!0})}catch(s){console.error("Error guardando roles:",s),o("Error al guardar los roles. Int\xe9ntalo de nuevo.")}finally{i(!1)}}else o("Error de autenticaci\xf3n. Por favor inicia sesi\xf3n nuevamente.");else o("Por favor selecciona al menos un rol")},disabled:0===n.length||a,children:"Continuar"})}),(0,br.jsx)("div",{className:"role-selection-footer",children:(0,br.jsx)("p",{className:"note",children:"Nota: Podr\xe1s cambiar tus roles m\xe1s tarde desde tu perfil si lo necesitas."})})]})})},ca=()=>{var e,t,n,r,a,i,s,o,c;const{role:u}=ge(),d=he(),h=me(),p=cr(),f=d.state,m=(0,l.useMemo)(()=>{var e;return null!==(e=null===f||void 0===f?void 0:f.profile)&&void 0!==e?e:{}},[f]),g="student"===u||"tutor"===u?u:"tutor",v=null!==(e=null!==(t=m.name)&&void 0!==t?t:null===(n=p.user)||void 0===n||null===(r=n.profile)||void 0===r?void 0:r.name)&&void 0!==e?e:"Usuario",y=null!==(a=null!==(i=m.email)&&void 0!==i?i:null===(s=p.user)||void 0===s||null===(o=s.profile)||void 0===o?void 0:o.email)&&void 0!==a?a:"",b=(m.userId||m.sub||"").trim(),w="tutor"===g&&!!b;return(0,br.jsx)("div",{className:"edit-profile-container",children:(0,br.jsxs)("div",{className:"edit-profile-content",children:[(0,br.jsxs)("div",{className:"profile-header",children:[(0,br.jsx)("h1",{children:"Perfil"}),(0,br.jsx)("p",{children:"Informaci\xf3n del usuario"}),(0,br.jsx)("div",{className:"user-role-badge",children:"student"===g?"\ud83c\udf93 Estudiante":"\ud83d\udc68\u200d\ud83c\udfeb Tutor"})]}),(0,br.jsxs)("div",{className:"profile-top-strip",style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[(0,br.jsx)("div",{"aria-hidden":!0,style:{width:56,height:56,borderRadius:"50%",background:"linear-gradient(135deg, #7C3AED 0%, #6366F1 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:800,fontSize:20},title:v,children:v.trim().charAt(0).toUpperCase()}),(0,br.jsxs)("div",{children:[(0,br.jsx)("div",{style:{fontWeight:700},children:v}),y&&(0,br.jsx)("div",{style:{fontSize:12,color:"#6B7280"},children:y})]})]}),(0,br.jsxs)("form",{className:"profile-form",onSubmit:e=>e.preventDefault(),children:[(0,br.jsxs)("div",{className:"form-section",children:[(0,br.jsx)("h2",{children:"Informaci\xf3n Personal"}),(0,br.jsx)("div",{className:"form-grid-2",children:(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{className:"form-label",htmlFor:"fullName",children:"Nombre Completo"}),(0,br.jsx)("input",{id:"fullName",className:"form-input",value:v,disabled:!0,readOnly:!0})]})})]}),"student"===g&&(0,br.jsxs)("div",{className:"form-section",children:[(0,br.jsx)("h2",{children:"Informaci\xf3n Acad\xe9mica"}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{className:"form-label",htmlFor:"educationLevel",children:"Nivel Educativo"}),(0,br.jsx)("input",{id:"educationLevel",className:"form-input",value:null!==(c=m.educationLevel)&&void 0!==c?c:"\u2014",disabled:!0,readOnly:!0})]})]}),"tutor"===g&&(0,br.jsxs)("div",{className:"form-section",children:[(0,br.jsx)("h2",{children:"Informaci\xf3n Profesional"}),!!m.bio&&(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{className:"form-label",htmlFor:"bio",children:"Biograf\xeda"}),(0,br.jsx)("textarea",{id:"bio",className:"form-input form-textarea",value:m.bio,disabled:!0,readOnly:!0,rows:4})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"specializations",className:"form-label",children:"Especializaciones"}),(0,br.jsx)("div",{className:"tags-container",children:Array.isArray(m.specializations)&&m.specializations.length>0?(0,br.jsxs)(br.Fragment,{children:[m.specializations.map(e=>(0,br.jsx)("span",{className:"tag",children:e},e)),(0,br.jsx)("input",{id:"specializations",className:"form-input",value:m.specializations.join(", "),readOnly:!0,"aria-hidden":"true",tabIndex:-1,style:{position:"absolute",left:"-10000px"}})]}):(0,br.jsx)("input",{id:"specializations",className:"form-input",value:"\u2014",disabled:!0,readOnly:!0})})]}),(0,br.jsxs)("div",{className:"form-group",children:[(0,br.jsx)("label",{htmlFor:"credentials",className:"form-label",children:"Credenciales"}),(0,br.jsx)("div",{className:"tags-container",children:Array.isArray(m.credentials)&&m.credentials.length>0?(0,br.jsxs)(br.Fragment,{children:[m.credentials.map(e=>(0,br.jsx)("span",{className:"tag",children:e},e)),(0,br.jsx)("input",{id:"credentials",className:"form-input",value:m.credentials.join(", "),readOnly:!0,"aria-hidden":"true",tabIndex:-1,style:{position:"absolute",left:"-10000px"}})]}):(0,br.jsx)("input",{id:"credentials",className:"form-input",value:"\u2014",disabled:!0,readOnly:!0})})]})]}),(0,br.jsx)("div",{className:"form-actions",style:{justifyContent:"flex-end"},children:(0,br.jsxs)("div",{className:"main-actions",style:{display:"flex",gap:8,flexWrap:"wrap"},children:[w&&(0,br.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{b?h("/book/".concat(encodeURIComponent(b)),{state:{tutor:m,role:"tutor"}}):alert("No se pudo identificar al tutor para reservar.")},children:"Reservar Cita"}),(0,br.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>h(-1),children:"Volver"})]})})]})]})})};function ua(e){const[t,n,r]=e.split("-").map(Number);return new Date(t,(null!==n&&void 0!==n?n:1)-1,null!==r&&void 0!==r?r:1)}function da(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)}function ha(e,t){const n=ua(e);return n.setDate(n.getDate()+t),da(n)}const pa=()=>{var e,t,n,r,a,i;const{tutorId:s}=ge(),c=he(),u=me(),d=cr(),h=c.state,p=null!==(e=null===h||void 0===h?void 0:h.tutor)&&void 0!==e?e:{},f=null!==(t=null===h||void 0===h?void 0:h.role)&&void 0!==t?t:"tutor",[m,g]=(0,l.useState)(),[v,y]=(0,l.useState)(()=>function(e){const t=ua(e),n=(t.getDay()+6)%7;return t.setDate(t.getDate()-n),da(t)}(da(new Date))),[b,w]=(0,l.useState)([]),[x,_]=(0,l.useState)(null),[S,k]=(0,l.useState)(!1),[E,N]=(0,l.useState)(null),j=(0,l.useMemo)(()=>{var e,t,n,r,a,i,s,o;return{userId:(null===(e=d.user)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.sub)||"unknown",name:(null===(n=d.user)||void 0===n||null===(r=n.profile)||void 0===r?void 0:r.name)||(null===(a=d.user)||void 0===a||null===(i=a.profile)||void 0===i?void 0:i.nickname)||"Usuario",email:(null===(s=d.user)||void 0===s||null===(o=s.profile)||void 0===o?void 0:o.email)||"No email",role:"student"}},[d.user]);(0,l.useEffect)(()=>{if(d.isAuthenticated&&d.user){var e,t;const n=null===(e=d.user)||void 0===e?void 0:e.id_token,r=null===(t=d.user)||void 0===t?void 0:t.access_token;g(null!==n&&void 0!==n?n:r)}else g(void 0)},[d.isAuthenticated,d.user]);const C=(0,l.useMemo)(()=>(null===p||void 0===p?void 0:p.userId)||(null===p||void 0===p?void 0:p.sub)||s,[p,s]);(0,l.useEffect)(()=>{(async()=>{if(m&&C){k(!0),_(null),N(null);try{const e=await Pr(C,v,m);w(e)}catch(e){const t=await async function(e,t,n){const r="".concat(Sr,"/api/availability/tutor/").concat(encodeURIComponent(e),"?weekStart=").concat(t),a=await fetch(r,{method:"GET",headers:Er(n)});return(await Nr(a)).map(e=>{const t=kr(e.hour),n=Cr(e.status),r="DISPONIBLE"===n&&jr(e.date,t);return o(o({},e),{},{hour:t,status:r?"VENCIDA":n})})}(C,v,m);w(t)}finally{k(!1)}}})()},[m,C,v]);let T="";E&&(T="success"===E.type?"\u2705":"warning"===E.type?"\u26a0\ufe0f":"\u274c");return(0,br.jsxs)("div",{className:"dashboard-container",children:[(0,br.jsx)(Hr,{currentUser:j,onSectionChange:e=>{u("/student-dashboard?tab=".concat(e))}}),(0,br.jsx)("main",{className:"dashboard-main",children:(0,br.jsxs)("div",{style:{padding:16,maxWidth:1100,margin:"0 auto"},children:[E&&(0,br.jsxs)("div",{style:(P=E.type,"success"===P?{margin:"12px 0",padding:"12px 16px",background:"#ECFDF5",border:"1px solid #A7F3D0",borderRadius:"8px",color:"#065F46",fontWeight:500,display:"flex",gap:8,alignItems:"center"}:"warning"===P?{margin:"12px 0",padding:"12px 16px",background:"#FFFBEB",border:"1px solid #FDE68A",borderRadius:"8px",color:"#92400E",fontWeight:500,display:"flex",gap:8,alignItems:"center"}:{margin:"12px 0",padding:"12px 16px",background:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",color:"#991B1B",fontWeight:500,display:"flex",gap:8,alignItems:"center"}),children:[(0,br.jsx)("span",{"aria-hidden":!0,children:T}),(0,br.jsx)("span",{children:E.text})]}),(0,br.jsxs)("section",{className:"card compact-profile",children:[(0,br.jsx)("div",{className:"compact-profile__left",children:(0,br.jsx)("div",{className:"avatar-bubble",children:"\ud83d\udc68\u200d\ud83c\udfeb"})}),(0,br.jsxs)("div",{className:"compact-profile__body",children:[(0,br.jsx)("h2",{className:"compact-profile__name",children:null!==(n=p.name)&&void 0!==n?n:"Usuario"}),"student"===f?(0,br.jsxs)("div",{className:"compact-profile__block",children:[(0,br.jsx)("h4",{children:"Informaci\xf3n acad\xe9mica"}),(0,br.jsxs)("div",{children:["\u2022 Nivel educativo: ",null!==(r=null===p||void 0===p?void 0:p.educationLevel)&&void 0!==r?r:"\u2014"]})]}):(0,br.jsxs)(br.Fragment,{children:[p.bio&&(0,br.jsxs)("div",{className:"compact-profile__block",children:[(0,br.jsx)("h4",{children:"Biograf\xeda"}),(0,br.jsx)("p",{children:p.bio})]}),(0,br.jsxs)("div",{className:"compact-profile__block",children:[(0,br.jsx)("h4",{children:"Especializaciones"}),(0,br.jsx)("div",{className:"tags-container",children:null!==(a=p.specializations)&&void 0!==a&&a.length?p.specializations.map(e=>(0,br.jsx)("span",{className:"tag",children:e},e)):"\u2014"})]}),(0,br.jsxs)("div",{className:"compact-profile__block",children:[(0,br.jsx)("h4",{children:"Credenciales"}),(0,br.jsx)("div",{className:"tags-container",children:null!==(i=p.credentials)&&void 0!==i&&i.length?p.credentials.map(e=>(0,br.jsx)("span",{className:"tag",children:e},e)):"\u2014"})]})]})]})]}),(0,br.jsxs)("section",{className:"card action-strip",children:[(0,br.jsx)("div",{className:"action-strip__left",children:x?(0,br.jsxs)(br.Fragment,{children:["Seleccionado: ",(0,br.jsxs)("strong",{children:[x.date," ",x.hour]})]}):"Selecciona una hora disponible"}),(0,br.jsxs)("div",{className:"action-strip__right",children:[(0,br.jsx)("button",{className:"btn btn-secondary",onClick:()=>u(-1),children:"Volver"}),(0,br.jsx)("button",{className:"btn btn-primary",onClick:async()=>{var e,t;if(!x||!m||!C)return;const n=null===(e=d.user)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.sub;if(n&&C&&n===C)return void N({type:"warning",text:"No te puedes reservar a ti mismo."});if(globalThis.confirm("Confirmar reserva el ".concat(x.date," a las ").concat(x.hour,"?")))try{await async function(e,t,n,r){const a="".concat(Sr,"/api/reservations"),i=await fetch(a,{method:"POST",headers:Er(r),body:JSON.stringify({tutorId:e,date:t,hour:n})}),s=await Nr(i);return s.status=Tr(s.status),s}(C,x.date,x.hour,m),N({type:"success",text:"\xa1Reserva creada correctamente!"}),setTimeout(()=>u("/student-dashboard?tab=my-reservations",{replace:!0}),900)}catch(ba){const t=String((null===ba||void 0===ba?void 0:ba.message)||"").toLowerCase();t.includes("tutor no puede ser el mismo")||t.includes("no puede ser el mismo que el estudiante")?N({type:"warning",text:"No te puedes reservar a ti mismo."}):N({type:"error",text:(null===ba||void 0===ba?void 0:ba.message)||"Error creando la reserva."})}},disabled:!x,children:"Confirmar Reserva"})]})]}),(0,br.jsxs)("section",{className:"card week-nav week-nav--highlight",children:[(0,br.jsx)("button",{className:"btn btn-ghost",onClick:()=>y(ha(v,-7)),children:"\u25c0 Semana anterior"}),(0,br.jsxs)("div",{className:"week-nav__title",children:["Semana ",v," \u2014 ",ha(v,6)]}),(0,br.jsx)("button",{className:"btn btn-ghost",onClick:()=>y(ha(v,7)),children:"Siguiente semana \u25b6"})]}),(0,br.jsx)("section",{className:"calendar-container card",style:{padding:12},children:S?(0,br.jsx)("div",{style:{padding:20},children:"Cargando disponibilidad..."}):(0,br.jsxs)("div",{className:"calendar-grid",children:[(0,br.jsxs)("div",{className:"col hour-col",children:[(0,br.jsx)("div",{className:"head-cell",children:"Hora"}),Array.from({length:24},(e,t)=>String(t).padStart(2,"0")+":00").map(e=>(0,br.jsx)("div",{className:"hour-cell",children:e},e))]}),Array.from({length:7},(e,t)=>t).map(e=>{const t=ha(v,e);return(0,br.jsxs)("div",{className:"col",children:[(0,br.jsxs)("div",{className:"head-cell",children:[["Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b","Dom"][e],(0,br.jsx)("br",{}),t.slice(5)]}),Array.from({length:24},(e,t)=>String(t).padStart(2,"0")+":00").map(e=>{var n;const r=b.find(n=>n.date===t&&n.hour===e),a=(null!==(n=null===r||void 0===r?void 0:r.status)&&void 0!==n?n:"").toUpperCase(),i="DISPONIBLE"===a||"AVAILABLE"===a,s=(null===x||void 0===x?void 0:x.date)===t&&(null===x||void 0===x?void 0:x.hour)===e,o="".concat(t,"_").concat(e);let l="disabled";a&&(l=i?"available":"taken");let c="No disponible ".concat(e," ").concat(t);return i?c="Disponible ".concat(e," ").concat(t):a&&(c="Ocupado ".concat(e," ").concat(t)),(0,br.jsx)("button",{type:"button",className:"cell "+l+(i?" can-pick":"")+(s?" selected":""),onClick:i?()=>{_({date:t,hour:e,status:"DISPONIBLE",reservationId:null,studentId:null}),N(null)}:void 0,disabled:!i,"aria-pressed":s,"aria-label":c,children:i&&(0,br.jsx)("span",{className:"cell-label",children:"Disponible"})},o)})]},t)})]})})]})})]});var P},fa=()=>{var e,t,n,r,a,i;const s=cr(),o=he(),c=new URLSearchParams(o.search).get("name")||"Usuario",[u,d]=(0,l.useState)("student"),[h,p]=(0,l.useState)([{id:"".concat(Date.now(),"-").concat(Math.random()),from:"them",text:"\ud83d\udc4b Hola, soy ".concat(c,". \xbfC\xf3mo est\xe1s?")}]),[f,m]=(0,l.useState)(""),g=(0,l.useRef)(null);(0,l.useEffect)(()=>{var e,t,n,r;const a=(null===(e=s.user)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.email)||"",i=null===(n=s.user)||void 0===n||null===(r=n.profile)||void 0===r?void 0:r.roles,o=Array.isArray(i)&&i.includes("tutor");a.includes("@")?d(o?"tutor":"student"):d("student")},[s.user]),(0,l.useEffect)(()=>{var e;null===(e=g.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[h]);const v=()=>{f.trim()&&(p(e=>[...e,{id:"".concat(Date.now(),"-").concat(Math.random()),from:"me",text:f.trim()}]),setTimeout(()=>{p(e=>[...e,{id:"".concat(Date.now(),"-").concat(Math.random()),from:"them",text:"Recibido \ud83d\udc4d"}])},700),m(""))};return(0,br.jsxs)("div",{className:"chat-page-container",children:["student"===u?(0,br.jsx)(Hr,{currentUser:{name:(null===(e=s.user)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.name)||"Estudiante",email:(null===(n=s.user)||void 0===n||null===(r=n.profile)||void 0===r?void 0:r.email)||"No email",role:"student",userId:(null===(a=s.user)||void 0===a||null===(i=a.profile)||void 0===i?void 0:i.sub)||""},activeSection:"none"}):(0,br.jsx)("header",{className:"dashboard-header",children:(0,br.jsxs)("div",{className:"header-content",children:[(0,br.jsx)("div",{className:"logo",children:(0,br.jsx)("h2",{children:"UpLearn Tutor"})}),(0,br.jsx)(ia,{currentRole:"tutor"})]})}),(0,br.jsx)("main",{className:"chat-main",children:(0,br.jsxs)("div",{className:"chat-box",children:[(0,br.jsxs)("div",{className:"chat-header",children:[(0,br.jsxs)("h2",{children:["Chat con ",c]}),(0,br.jsx)("p",{className:"chat-sub",children:"Mensajes simulados (modo demo)"})]}),(0,br.jsxs)("div",{className:"chat-messages",children:[h.map(e=>(0,br.jsx)("div",{className:"chat-message ".concat("me"===e.from?"me":"them"),children:(0,br.jsx)("div",{className:"bubble",children:e.text})},e.id)),(0,br.jsx)("div",{ref:g})]}),(0,br.jsxs)("div",{className:"chat-input-area",children:[(0,br.jsx)("input",{type:"text",value:f,onChange:e=>m(e.target.value),placeholder:"Escribe un mensaje...",onKeyDown:e=>"Enter"===e.key&&v()}),(0,br.jsx)("button",{onClick:v,className:"btn-send",children:"Enviar"})]})]})})]})},ma=e=>{let{children:t,allowedRoles:n}=e;const{isLoading:r,isAuthenticated:a,userRoles:i,needsRoleSelection:s}=yr();return console.log("\ud83d\udee1\ufe0f ProtectedRoute check:",{isAuthenticated:a,isLoading:r,allowedRoles:n,userRoles:i,needsRoleSelection:s}),r?(console.log("\u23f3 ProtectedRoute: Cargando..."),(0,br.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"18px"},children:"\u23f3 Verificando permisos..."})):a?s?(console.log("\ud83d\udd04 ProtectedRoute: User needs role selection, redirecting"),(0,br.jsx)(Ae,{to:"/role-selection",replace:!0})):n&&n.length>0&&(console.log("\ud83c\udfad ProtectedRoute: User roles:",i,"Allowed roles:",n),!i||!i.some(e=>n.includes(e)))?(console.log("\u274c ProtectedRoute: Role not allowed, redirecting to home"),(0,br.jsx)(Ae,{to:"/",replace:!0})):(console.log("\u2705 ProtectedRoute: Access granted"),(0,br.jsx)(br.Fragment,{children:t})):(console.log("\ud83d\udd12 ProtectedRoute: Not authenticated, redirecting to home"),(0,br.jsx)(Ae,{to:"/",replace:!0}))},ga=()=>{const e=cr(),{isLoading:t,isAuthenticated:n,needsRoleSelection:r,userRoles:a,error:i}=yr(),s=me();return(0,l.useEffect)(()=>{if(console.log("\ud83d\udccd AuthRedirect useEffect:",{isAuthenticated:n,isLoading:t,needsRoleSelection:r,userRoles:a,error:i}),t)console.log("\u23f3 AuthRedirect: Esperando que termine de cargar...");else{if(!n)return console.log("\ud83d\udd12 AuthRedirect: No autenticado, redirigiendo a home"),void s("/",{replace:!0});if(r)return console.log("\ud83c\udfad AuthRedirect: Redirigiendo a selecci\xf3n de rol"),void s("/role-selection",{replace:!0});if(a&&a.length>0){const e=a.includes("student")?"/student-dashboard":"/tutor-dashboard";return console.log("\ud83d\udcca AuthRedirect: Redirigiendo a:",e),void s(e,{replace:!0})}console.log("\ud83e\udd14 AuthRedirect: Estado inesperado, no redirigiendo")}},[n,t,r,a,s]),e.isLoading||t?(0,br.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"18px"},children:"\u23f3 Cargando autenticaci\xf3n..."}):e.error||i?(0,br.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",gap:"20px"},children:[(0,br.jsxs)("div",{children:["\u274c Error de autenticaci\xf3n: ",(null===(o=e.error)||void 0===o?void 0:o.message)||i]}),(0,br.jsx)("button",{onClick:()=>e.signinRedirect(),children:"Intentar nuevamente"})]}):n?(0,br.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",gap:"20px"},children:[(0,br.jsx)("div",{children:"\u2705 \xa1Autenticaci\xf3n exitosa!"}),(0,br.jsx)("div",{children:"\ud83d\ude80 Redirigiendo..."})]}):(0,br.jsx)(Ae,{to:"/",replace:!0});var o},va=e=>{let{children:t}=e;const{isLoading:n,isAuthenticated:r,needsRoleSelection:a,userRoles:i}=yr();if(console.log("\ud83c\udfad RoleSelectionProtectedRoute check:",{isAuthenticated:r,isLoading:n,needsRoleSelection:a,userRoles:i}),n)return console.log("\u23f3 RoleSelectionProtectedRoute: Cargando..."),(0,br.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"18px"},children:"\u23f3 Verificando estado..."});if(!r)return console.log("\ud83d\udd12 RoleSelectionProtectedRoute: Not authenticated, redirecting to home"),(0,br.jsx)(Ae,{to:"/",replace:!0});if(!a){console.log("\u2705 RoleSelectionProtectedRoute: Ya tiene roles, redirigiendo al dashboard");const e=null!==i&&void 0!==i&&i.includes("student")?"/student-dashboard":"/tutor-dashboard";return(0,br.jsx)(Ae,{to:e,replace:!0})}return console.log("\ud83c\udfaf RoleSelectionProtectedRoute: Mostrando selecci\xf3n de roles"),(0,br.jsx)(br.Fragment,{children:t})},ya=()=>(0,br.jsx)(mt,{children:(0,br.jsx)("div",{className:"App",children:(0,br.jsxs)(Le,{children:[(0,br.jsx)(De,{path:"/",element:(0,br.jsx)(wr,{})}),(0,br.jsx)(De,{path:"/login",element:(0,br.jsx)(ga,{})}),(0,br.jsx)(De,{path:"/register",element:(0,br.jsx)(Ae,{to:"/",replace:!0})}),(0,br.jsx)(De,{path:"/role-selection",element:(0,br.jsx)(va,{children:(0,br.jsx)(la,{})})}),(0,br.jsx)(De,{path:"/student-dashboard",element:(0,br.jsx)(ma,{allowedRoles:["student"],children:(0,br.jsx)(Br,{})})}),(0,br.jsx)(De,{path:"/tutor-dashboard",element:(0,br.jsx)(ma,{allowedRoles:["tutor"],children:(0,br.jsx)(sa,{})})}),(0,br.jsx)(De,{path:"/availability",element:(0,br.jsx)(ma,{allowedRoles:["tutor"],children:(0,br.jsx)(Yr,{})})}),(0,br.jsx)(De,{path:"/profile/:role/:userId",element:(0,br.jsx)(ma,{children:(0,br.jsx)(ca,{})})}),(0,br.jsx)(De,{path:"/book/:tutorId",element:(0,br.jsx)(ma,{allowedRoles:["student"],children:(0,br.jsx)(pa,{})})}),(0,br.jsx)(De,{path:"/tutor-classes",element:(0,br.jsx)(ma,{allowedRoles:["tutor"],children:(0,br.jsx)(aa,{})})}),(0,br.jsx)(De,{path:"/edit-profile",element:(0,br.jsx)(ma,{children:(0,br.jsx)(oa,{})})}),(0,br.jsx)(De,{path:"/messages",element:(0,br.jsx)(fa,{})})]})})});c.createRoot(document.getElementById("root")).render((0,br.jsx)(l.StrictMode,{children:(0,br.jsx)(lr,o(o({},{authority:"https://cognito-idp.us-east-1.amazonaws.com/us-east-1_8mvpRkbVu",client_id:"342s18a96gl2pbaroorqh316l8",redirect_uri:"http://localhost:3000",response_type:"code",scope:"email openid profile"}),{},{children:(0,br.jsx)(ya,{})}))}))})();
//# sourceMappingURL=main.c8d57cbc.js.map